(self.webpackChunkMiniProyectoII=self.webpackChunkMiniProyectoII||[]).push([[179],{2011:(tt,ee,F)=>{"use strict";F.d(ee,{Dh:()=>Q,GT:()=>j,cc:()=>Me,hO:()=>Pe,on:()=>K,pX:()=>G,xv:()=>me});var a=F(4650),L=F(9260),B=F(4976);tt=F.hmd(tt);const z=["ngOnDestroy"],G=(xe,ke,Re,Ge={})=>new Proxy(xe,{get:(Ne,Se)=>Re.runOutsideAngular(()=>{var Be;if(xe[Se])return!(null===(Be=Ge?.spy)||void 0===Be)&&Be.get&&Ge.spy.get(Se,xe[Se]),xe[Se];if(z.indexOf(Se)>-1)return()=>{};const Oe=ke.toPromise().then(se=>{const le=se&&se[Se];return"function"==typeof le?le.bind(se):le&&le.then?le.then(ve=>Re.run(()=>ve)):Re.run(()=>le)});return new Proxy(()=>{},{get:(se,le)=>Oe[le],apply:(se,le,ve)=>Oe.then(be=>{var De;const ue=be&&be(...ve);return!(null===(De=Ge?.spy)||void 0===De)&&De.apply&&Ge.spy.apply(Se,ve,ue),ue})})})}),j=(xe,ke)=>{ke.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ge=>{Object.defineProperty(xe.prototype,Ge,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ge))})})};class Z{constructor(ke){return ke}}const Q=new a.OlP("angularfire2.app.options"),me=new a.OlP("angularfire2.app.name");function K(xe,ke,Re){const Ne="object"==typeof Re&&Re||{};Ne.name=Ne.name||"string"==typeof Re&&Re||"[DEFAULT]";const Be=L.Z.apps.filter(Oe=>Oe&&Oe.name===Ne.name)[0]||ke.runOutsideAngular(()=>L.Z.initializeApp(xe,Ne));try{JSON.stringify(xe)!==JSON.stringify(Be.options)&&J("error",`${Be.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Z(Be)}const J=(xe,...ke)=>{(0,a.X6Q)()&&typeof console<"u"&&console[xe](...ke)},ne={provide:Z,useFactory:K,deps:[Q,a.R0b,[new a.FiY,me]]};let Pe=(()=>{class xe{constructor(Re){L.Z.registerVersion("angularfire",B.q4.full,"core"),L.Z.registerVersion("angularfire",B.q4.full,"app-compat"),L.Z.registerVersion("angular",a.q4F.full,Re.toString())}static initializeApp(Re,Ge){return{ngModule:xe,providers:[{provide:Q,useValue:Re},{provide:me,useValue:Ge}]}}}return xe.\u0275fac=function(Re){return new(Re||xe)(a.LFG(a.Lbi))},xe.\u0275mod=a.oAB({type:xe}),xe.\u0275inj=a.cJS({providers:[ne]}),xe})();function Me(xe,ke,Re,Ge,Ne){const[,Se,Be]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===xe)||[];if(Se)return function Xe(xe,ke){try{return xe.toString()===ke.toString()}catch{return xe===ke}}(Ne,Be)||(pe("error",`${ke} was already initialized on the ${Re} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ne,was:Be})),Se;{const Oe=Ge();return globalThis.\u0275AngularfireInstanceCache.push([xe,Oe,Ne]),Oe}}const mt=!!tt.hot,pe=(xe,...ke)=>{(0,a.X6Q)()&&typeof console<"u"&&console[xe](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(tt,ee,F)=>{"use strict";F.d(ee,{q4:()=>Ic,iC:()=>Xf,HU:()=>Mc,vb:()=>Ac,JM:()=>Xi,u3:()=>Ru});var a=F(4650),L=F(259),B=F(5861),z=F(6881),G=F(2090),j=F(4859),Z=F(1877);const Q=(D,S)=>S.some(O=>D instanceof O);let me,K;const Pe=new WeakMap,Me=new WeakMap,Xe=new WeakMap,mt=new WeakMap,pe=new WeakMap;let Re={get(D,S,O){if(D instanceof IDBTransaction){if("done"===S)return Me.get(D);if("objectStoreNames"===S)return D.objectStoreNames||Xe.get(D);if("store"===S)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Be(D[S])},set:(D,S,O)=>(D[S]=O,!0),has:(D,S)=>D instanceof IDBTransaction&&("done"===S||"store"===S)||S in D};function Se(D){return"function"==typeof D?function Ne(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...S){return D.apply(Oe(this),S),Be(Pe.get(this))}:function(...S){return Be(D.apply(Oe(this),S))}:function(S,...O){const q=D.call(Oe(this),S,...O);return Xe.set(q,S.sort?S.sort():[S]),Be(q)}}(D):(D instanceof IDBTransaction&&function ke(D){if(Me.has(D))return;const S=new Promise((O,q)=>{const ae=()=>{D.removeEventListener("complete",fe),D.removeEventListener("error",Ve),D.removeEventListener("abort",Ve)},fe=()=>{O(),ae()},Ve=()=>{q(D.error||new DOMException("AbortError","AbortError")),ae()};D.addEventListener("complete",fe),D.addEventListener("error",Ve),D.addEventListener("abort",Ve)});Me.set(D,S)}(D),Q(D,function J(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Re):D)}function Be(D){if(D instanceof IDBRequest)return function xe(D){const S=new Promise((O,q)=>{const ae=()=>{D.removeEventListener("success",fe),D.removeEventListener("error",Ve)},fe=()=>{O(Be(D.result)),ae()},Ve=()=>{q(D.error),ae()};D.addEventListener("success",fe),D.addEventListener("error",Ve)});return S.then(O=>{O instanceof IDBCursor&&Pe.set(O,D)}).catch(()=>{}),pe.set(S,D),S}(D);if(mt.has(D))return mt.get(D);const S=Se(D);return S!==D&&(mt.set(D,S),pe.set(S,D)),S}const Oe=D=>pe.get(D),ve=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],De=new Map;function ue(D,S){if(!(D instanceof IDBDatabase)||S in D||"string"!=typeof S)return;if(De.get(S))return De.get(S);const O=S.replace(/FromIndex$/,""),q=S!==O,ae=be.includes(O);if(!(O in(q?IDBIndex:IDBObjectStore).prototype)||!ae&&!ve.includes(O))return;const fe=function(){var Ve=(0,B.Z)(function*(_t,...pt){const kt=this.transaction(_t,ae?"readwrite":"readonly");let Xt=kt.store;return q&&(Xt=Xt.index(pt.shift())),(yield Promise.all([Xt[O](...pt),ae&&kt.done]))[0]});return function(pt){return Ve.apply(this,arguments)}}();return De.set(S,fe),fe}!function Ge(D){Re=D(Re)}(D=>({...D,get:(S,O,q)=>ue(S,O)||D.get(S,O,q),has:(S,O)=>!!ue(S,O)||D.has(S,O)}));const X="@firebase/installations",we="0.6.4",He=1e4,Le=`w:${we}`,Je="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",ct=36e5,en=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(D){return D instanceof G.ZR&&D.code.includes("request-failed")}function Rt({projectId:D}){return`${$e}/projects/${D}/installations`}function En(D){return{token:D.token,requestStatus:2,expiresIn:Ls(D.expiresIn),creationTime:Date.now()}}function Dn(D,S){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,B.Z)(function*(D,S){const q=(yield S.json()).error;return en.create("request-failed",{requestName:D,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function Hi({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Jr(D){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,B.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function Ls(D){return Number(D.replace("s","000"))}function At(){return(At=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:O}){const q=Rt(D),ae=Hi(D),fe=S.getImmediate({optional:!0});if(fe){const kt=yield fe.getHeartbeatsHeader();kt&&ae.append("x-firebase-client",kt)}const _t={method:"POST",headers:ae,body:JSON.stringify({fid:O,authVersion:Je,appId:D.appId,sdkVersion:Le})},pt=yield Jr(()=>fetch(q,_t));if(pt.ok){const kt=yield pt.json();return{fid:kt.fid||O,registrationStatus:2,refreshToken:kt.refreshToken,authToken:En(kt.authToken)}}throw yield Dn("Create Installation",pt)})).apply(this,arguments)}function yo(D){return new Promise(S=>{setTimeout(S,D)})}const ki=/^[cdef][\w-]{21}$/,ur="";function Is(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function Ln(D){return function Ua(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ki.test(O)?O:ur}catch{return ur}}function mn(D){return`${D.appName}!${D.appId}`}const Pt=new Map;function nn(D,S){const O=mn(D);ti(O,S),function hr(D,S){const O=function fr(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=D=>{ti(D.data.key,D.data.fid)}),Ci}();O&&O.postMessage({key:D,fid:S}),function Wn(){0===Pt.size&&Ci&&(Ci.close(),Ci=null)}()}(O,S)}function ti(D,S){const O=Pt.get(D);if(O)for(const q of O)q(S)}let Ci=null;const Ss="firebase-installations-database",_n=1,es="firebase-installations-store";let Tn=null;function Dr(){return Tn||(Tn=function se(D,S,{blocked:O,upgrade:q,blocking:ae,terminated:fe}={}){const Ve=indexedDB.open(D,S),_t=Be(Ve);return q&&Ve.addEventListener("upgradeneeded",pt=>{q(Be(Ve.result),pt.oldVersion,pt.newVersion,Be(Ve.transaction))}),O&&Ve.addEventListener("blocked",()=>O()),_t.then(pt=>{fe&&pt.addEventListener("close",()=>fe()),ae&&pt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),_t}(Ss,_n,{upgrade:(D,S)=>{0===S&&D.createObjectStore(es)}})),Tn}function Ei(D,S){return xi.apply(this,arguments)}function xi(){return(xi=(0,B.Z)(function*(D,S){const O=mn(D),ae=(yield Dr()).transaction(es,"readwrite"),fe=ae.objectStore(es),Ve=yield fe.get(O);return yield fe.put(S,O),yield ae.done,(!Ve||Ve.fid!==S.fid)&&nn(D,S.fid),S})).apply(this,arguments)}function ui(D){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,B.Z)(function*(D){const S=mn(D),q=(yield Dr()).transaction(es,"readwrite");yield q.objectStore(es).delete(S),yield q.done})).apply(this,arguments)}function qi(D,S){return pr.apply(this,arguments)}function pr(){return(pr=(0,B.Z)(function*(D,S){const O=mn(D),ae=(yield Dr()).transaction(es,"readwrite"),fe=ae.objectStore(es),Ve=yield fe.get(O),_t=S(Ve);return void 0===_t?yield fe.delete(O):yield fe.put(_t,O),yield ae.done,_t&&(!Ve||Ve.fid!==_t.fid)&&nn(D,_t.fid),_t})).apply(this,arguments)}function oe(D){return te.apply(this,arguments)}function te(){return te=(0,B.Z)(function*(D){let S;const O=yield qi(D.appConfig,q=>{const ae=function de(D){return qn(D||{fid:Is(),registrationStatus:0})}(q),fe=function We(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(en.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},q=function Te(D,S){return st.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:q}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Gt(D)}:{installationEntry:S}}(D,ae);return S=fe.registrationPromise,fe.installationEntry});return O.fid===ur?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}}),te.apply(this,arguments)}function st(){return st=(0,B.Z)(function*(D,S){try{const O=yield function Mi(D,S){return At.apply(this,arguments)}(D,S);return Ei(D.appConfig,O)}catch(O){throw ft(O)&&409===O.customData.serverCode?yield ui(D.appConfig):yield Ei(D.appConfig,{fid:S.fid,registrationStatus:0}),O}}),st.apply(this,arguments)}function Gt(D){return kn.apply(this,arguments)}function kn(){return(kn=(0,B.Z)(function*(D){let S=yield ri(D.appConfig);for(;1===S.registrationStatus;)yield yo(100),S=yield ri(D.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:q}=yield oe(D);return q||O}return S})).apply(this,arguments)}function ri(D){return qi(D,S=>{if(!S)throw en.create("installation-not-found");return qn(S)})}function qn(D){return function Rn(D){return 1===D.registrationStatus&&D.registrationTime+He<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function zi(){return(zi=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:S},O){const q=function Ir(D,{fid:S}){return`${Rt(D)}/${S}/authTokens:generate`}(D,O),ae=function Nr(D,{refreshToken:S}){const O=Hi(D);return O.append("Authorization",function oa(D){return`${Je} ${D}`}(S)),O}(D,O),fe=S.getImmediate({optional:!0});if(fe){const kt=yield fe.getHeartbeatsHeader();kt&&ae.append("x-firebase-client",kt)}const _t={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:Le,appId:D.appId}})},pt=yield Jr(()=>fetch(q,_t));if(pt.ok)return En(yield pt.json());throw yield Dn("Generate Auth Token",pt)})).apply(this,arguments)}function _s(D){return aa.apply(this,arguments)}function aa(){return aa=(0,B.Z)(function*(D,S=!1){let O;const q=yield qi(D.appConfig,fe=>{if(!un(fe))throw en.create("not-registered");const Ve=fe.authToken;if(!S&&function Vt(D){return 2===D.requestStatus&&!function Fn(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+ct}(D)}(Ve))return fe;if(1===Ve.requestStatus)return O=function ze(D,S){return Ce.apply(this,arguments)}(D,S),fe;{if(!navigator.onLine)throw en.create("app-offline");const _t=function vn(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}(fe);return O=function Mt(D,S){return Yt.apply(this,arguments)}(D,_t),_t}});return O?yield O:q.authToken}),aa.apply(this,arguments)}function Ce(){return(Ce=(0,B.Z)(function*(D,S){let O=yield et(D.appConfig);for(;1===O.authToken.requestStatus;)yield yo(100),O=yield et(D.appConfig);const q=O.authToken;return 0===q.requestStatus?_s(D,S):q})).apply(this,arguments)}function et(D){return qi(D,S=>{if(!un(S))throw en.create("not-registered");return function Yi(D){return 1===D.requestStatus&&D.requestTime+He<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Yt(){return Yt=(0,B.Z)(function*(D,S){try{const O=yield function cn(D,S){return zi.apply(this,arguments)}(D,S),q=Object.assign(Object.assign({},S),{authToken:O});return yield Ei(D.appConfig,q),O}catch(O){if(!ft(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const q=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ei(D.appConfig,q)}else yield ui(D.appConfig);throw O}}),Yt.apply(this,arguments)}function un(D){return void 0!==D&&2===D.registrationStatus}function Ha(){return(Ha=(0,B.Z)(function*(D){const S=D,{installationEntry:O,registrationPromise:q}=yield oe(S);return q?q.catch(console.error):_s(S).catch(console.error),O.fid})).apply(this,arguments)}function to(){return to=(0,B.Z)(function*(D,S=!1){const O=D;return yield function ji(D){return yt.apply(this,arguments)}(O),(yield _s(O,S)).token}),to.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*(D){const{registrationPromise:S}=yield oe(D);S&&(yield S)})).apply(this,arguments)}function at(D){return en.create("missing-app-config-values",{valueName:D})}const Kt="installations",Sr=D=>{const S=D.getProvider("app").getImmediate(),O=function pn(D){if(!D||!D.options)throw at("App Configuration");if(!D.name)throw at("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!D.options[O])throw at(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,z._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},mr=D=>{const S=D.getProvider("app").getImmediate(),O=(0,z._getProvider)(S,Kt).getImmediate();return{getId:()=>function Ri(D){return Ha.apply(this,arguments)}(O),getToken:ae=>function rc(D){return to.apply(this,arguments)}(O,ae)}};(function no(){(0,z._registerComponent)(new j.wA(Kt,Sr,"PUBLIC")),(0,z._registerComponent)(new j.wA("installations-internal",mr,"PRIVATE"))})(),(0,z.registerVersion)(X,we),(0,z.registerVersion)(X,we,"esm2017");const Gi="@firebase/remote-config",gr=new G.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Py{constructor(S,O,q,ae){this.client=S,this.storage=O,this.storageCache=q,this.logger=ae}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-O,ae=q<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ae}.`),ae}fetch(S){var O=this;return(0,B.Z)(function*(){const[q,ae]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ae&&O.isCachedDataFresh(S.cacheMaxAgeMillis,q))return ae;S.eTag=ae&&ae.eTag;const fe=yield O.client.fetch(S),Ve=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Ve.push(O.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Ve),fe})()}}function df(D=navigator){return D.languages&&D.languages[0]||D.language}class Fm{constructor(S,O,q,ae,fe,Ve){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=q,this.projectId=ae,this.apiKey=fe,this.appId=Ve}fetch(S){var O=this;return(0,B.Z)(function*(){const[q,ae]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,_t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},pt={sdk_version:O.sdkVersion,app_instance_id:q,app_instance_id_token:ae,app_id:O.appId,language_code:df()},kt={method:"POST",headers:_t,body:JSON.stringify(pt)},Xt=fetch(Ve,kt),sn=new Promise((vs,os)=>{S.signal.addEventListener(()=>{const Wd=new Error("The operation was aborted.");Wd.name="AbortError",os(Wd)})});let ss;try{yield Promise.race([Xt,sn]),ss=yield Xt}catch(vs){let os="fetch-client-network";throw"AbortError"===vs?.name&&(os="fetch-timeout"),gr.create(os,{originalErrorMessage:vs?.message})}let yr=ss.status;const sl=ss.headers.get("ETag")||void 0;let $d,To;if(200===ss.status){let vs;try{vs=yield ss.json()}catch(os){throw gr.create("fetch-client-parse",{originalErrorMessage:os?.message})}$d=vs.entries,To=vs.state}if("INSTANCE_STATE_UNSPECIFIED"===To?yr=500:"NO_CHANGE"===To?yr=304:("NO_TEMPLATE"===To||"EMPTY_CONFIG"===To)&&($d={}),304!==yr&&200!==yr)throw gr.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:sl,config:$d}})()}}class ff{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,B.Z)(function*(){const q=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,q)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:q}){var ae=this;return(0,B.Z)(function*(){yield function hf(D,S){return new Promise((O,q)=>{const ae=Math.max(S-Date.now(),0),fe=setTimeout(O,ae);D.addEventListener(()=>{clearTimeout(fe),q(gr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const fe=yield ae.client.fetch(S);return yield ae.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Oy(D){if(!(D instanceof G.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(fe))throw fe;const Ve={throttleEndTimeMillis:Date.now()+(0,G.$s)(q),backoffCount:q+1};return yield ae.storage.setThrottleMetadata(Ve),ae.attemptFetch(S,Ve)}})()}}class Lm{constructor(S,O,q,ae,fe){this.app=S,this._client=O,this._storageCache=q,this._storage=ae,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function da(D,S){const O=D.target.error||void 0;return gr.create(S,{originalErrorMessage:O&&O?.message})}const ro="app_namespace_store";class gf{constructor(S,O,q,ae=function Bm(){return new Promise((D,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=q=>{S(da(q,"storage-open"))},O.onsuccess=q=>{D(q.target.result)},O.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(ro,{keyPath:"compositeKey"})}}catch(O){S(gr.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=S,this.appName=O,this.namespace=q,this.openDbPromise=ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,B.Z)(function*(){const q=yield O.openDbPromise;return new Promise((ae,fe)=>{const _t=q.transaction([ro],"readonly").objectStore(ro),pt=O.createCompositeKey(S);try{const kt=_t.get(pt);kt.onerror=Xt=>{fe(da(Xt,"storage-get"))},kt.onsuccess=Xt=>{const sn=Xt.target.result;ae(sn?sn.value:void 0)}}catch(kt){fe(gr.create("storage-get",{originalErrorMessage:kt?.message}))}})})()}set(S,O){var q=this;return(0,B.Z)(function*(){const ae=yield q.openDbPromise;return new Promise((fe,Ve)=>{const pt=ae.transaction([ro],"readwrite").objectStore(ro),kt=q.createCompositeKey(S);try{const Xt=pt.put({compositeKey:kt,value:O});Xt.onerror=sn=>{Ve(da(sn,"storage-set"))},Xt.onsuccess=()=>{fe()}}catch(Xt){Ve(gr.create("storage-set",{originalErrorMessage:Xt?.message}))}})})()}delete(S){var O=this;return(0,B.Z)(function*(){const q=yield O.openDbPromise;return new Promise((ae,fe)=>{const _t=q.transaction([ro],"readwrite").objectStore(ro),pt=O.createCompositeKey(S);try{const kt=_t.delete(pt);kt.onerror=Xt=>{fe(da(Xt,"storage-delete"))},kt.onsuccess=()=>{ae()}}catch(kt){fe(gr.create("storage-delete",{originalErrorMessage:kt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class vo{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,B.Z)(function*(){const O=S.storage.getLastFetchStatus(),q=S.storage.getLastSuccessfulFetchTimestampMillis(),ae=S.storage.getActiveConfig(),fe=yield O;fe&&(S.lastFetchStatus=fe);const Ve=yield q;Ve&&(S.lastSuccessfulFetchTimestampMillis=Ve);const _t=yield ae;_t&&(S.activeConfig=_t)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function yf(){return su.apply(this,arguments)}function su(){return(su=(0,B.Z)(function*(){if(!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}!function lc(){(0,z._registerComponent)(new j.wA("remote-config",function D(S,{instanceIdentifier:O}){const q=S.getProvider("app").getImmediate(),ae=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gr.create("registration-window");if(!(0,G.hl)())throw gr.create("indexed-db-unavailable");const{projectId:fe,apiKey:Ve,appId:_t}=q.options;if(!fe)throw gr.create("registration-project-id");if(!Ve)throw gr.create("registration-api-key");if(!_t)throw gr.create("registration-app-id");const pt=new gf(_t,q.name,O=O||"firebase"),kt=new vo(pt),Xt=new Z.Yd(Gi);Xt.logLevel=Z.in.ERROR;const sn=new Fm(ae,z.SDK_VERSION,O,fe,Ve,_t),ss=new ff(sn,pt),yr=new Py(ss,pt,kt,Xt),sl=new Lm(q,yr,kt,pt,Xt);return function ts(D){const S=(0,G.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(sl),sl},"PUBLIC").setMultipleInstances(!0)),(0,z.registerVersion)(Gi,"0.4.4"),(0,z.registerVersion)(Gi,"0.4.4","esm2017")}();const Um=(D,S)=>S.some(O=>D instanceof O);let ha,_d;const xl=new WeakMap,Wa=new WeakMap,di=new WeakMap,cc=new WeakMap,au=new WeakMap;let Ya={get(D,S,O){if(D instanceof IDBTransaction){if("done"===S)return Wa.get(D);if("objectStoreNames"===S)return D.objectStoreNames||di.get(D);if("store"===S)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return ns(D[S])},set:(D,S,O)=>(D[S]=O,!0),has:(D,S)=>D instanceof IDBTransaction&&("done"===S||"store"===S)||S in D};function lu(D){return"function"==typeof D?function Hm(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bf(){return _d||(_d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...S){return D.apply(_r(this),S),ns(xl.get(this))}:function(...S){return ns(D.apply(_r(this),S))}:function(S,...O){const q=D.call(_r(this),S,...O);return di.set(q,S.sort?S.sort():[S]),ns(q)}}(D):(D instanceof IDBTransaction&&function qa(D){if(Wa.has(D))return;const S=new Promise((O,q)=>{const ae=()=>{D.removeEventListener("complete",fe),D.removeEventListener("error",Ve),D.removeEventListener("abort",Ve)},fe=()=>{O(),ae()},Ve=()=>{q(D.error||new DOMException("AbortError","AbortError")),ae()};D.addEventListener("complete",fe),D.addEventListener("error",Ve),D.addEventListener("abort",Ve)});Wa.set(D,S)}(D),Um(D,function ou(){return ha||(ha=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Ya):D)}function ns(D){if(D instanceof IDBRequest)return function Zi(D){const S=new Promise((O,q)=>{const ae=()=>{D.removeEventListener("success",fe),D.removeEventListener("error",Ve)},fe=()=>{O(ns(D.result)),ae()},Ve=()=>{q(D.error),ae()};D.addEventListener("success",fe),D.addEventListener("error",Ve)});return S.then(O=>{O instanceof IDBCursor&&xl.set(O,D)}).catch(()=>{}),au.set(S,D),S}(D);if(cc.has(D))return cc.get(D);const S=lu(D);return S!==D&&(cc.set(D,S),au.set(S,D)),S}const _r=D=>au.get(D);function uc(D,S,{blocked:O,upgrade:q,blocking:ae,terminated:fe}={}){const Ve=indexedDB.open(D,S),_t=ns(Ve);return q&&Ve.addEventListener("upgradeneeded",pt=>{q(ns(Ve.result),pt.oldVersion,pt.newVersion,ns(Ve.transaction))}),O&&Ve.addEventListener("blocked",()=>O()),_t.then(pt=>{fe&&pt.addEventListener("close",()=>fe()),ae&&pt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),_t}function fa(D,{blocked:S}={}){const O=indexedDB.deleteDatabase(D);return S&&O.addEventListener("blocked",()=>S()),ns(O).then(()=>{})}const vf=["get","getKey","getAll","getAllKeys","count"],$o=["put","add","delete","clear"],dc=new Map;function Dl(D,S){if(!(D instanceof IDBDatabase)||S in D||"string"!=typeof S)return;if(dc.get(S))return dc.get(S);const O=S.replace(/FromIndex$/,""),q=S!==O,ae=$o.includes(O);if(!(O in(q?IDBIndex:IDBObjectStore).prototype)||!ae&&!vf.includes(O))return;const fe=function(){var Ve=(0,B.Z)(function*(_t,...pt){const kt=this.transaction(_t,ae?"readwrite":"readonly");let Xt=kt.store;return q&&(Xt=Xt.index(pt.shift())),(yield Promise.all([Xt[O](...pt),ae&&kt.done]))[0]});return function(pt){return Ve.apply(this,arguments)}}();return dc.set(S,fe),fe}!function Mr(D){Ya=D(Ya)}(D=>({...D,get:(S,O,q)=>Dl(S,O)||D.get(S,O,q),has:(S,O)=>!!Dl(S,O)||D.has(S,O)}));const rn="/firebase-messaging-sw.js",cu="/firebase-cloud-messaging-push-scope",zm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yd="https://fcmregistrations.googleapis.com/v1",bd="google.c.a.c_id",vd="google.c.a.c_l",wf="google.c.a.ts",Cf="google.c.a.e";var je=(()=>{return(D=je||(je={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",je;var D})();function an(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wd(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(O),ae=new Uint8Array(q.length);for(let fe=0;fe<q.length;++fe)ae[fe]=q.charCodeAt(fe);return ae}const hc="fcm_token_details_db",Oi=5,Ef="fcm_token_object_Store";function Bs(){return Bs=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(hc))return null;let S=null;return(yield uc(hc,Oi,{upgrade:(q=(0,B.Z)(function*(ae,fe,Ve,_t){var pt;if(fe<2||!ae.objectStoreNames.contains(Ef))return;const kt=_t.objectStore(Ef),Xt=yield kt.index("fcmSenderId").get(D);if(yield kt.clear(),Xt)if(2===fe){const sn=Xt;if(!sn.auth||!sn.p256dh||!sn.endpoint)return;S={token:sn.fcmToken,createTime:null!==(pt=sn.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:sn.auth,p256dh:sn.p256dh,endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:"string"==typeof sn.vapidKey?sn.vapidKey:an(sn.vapidKey)}}}else if(3===fe){const sn=Xt;S={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:an(sn.auth),p256dh:an(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:an(sn.vapidKey)}}}else if(4===fe){const sn=Xt;S={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:an(sn.auth),p256dh:an(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:an(sn.vapidKey)}}}}),function(fe,Ve,_t,pt){return q.apply(this,arguments)})})).close(),yield fa(hc),yield fa("fcm_vapid_details_db"),yield fa("undefined"),function uu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var q}),Bs.apply(this,arguments)}const xf="firebase-messaging-database",Df=1,pa="firebase-messaging-store";let Il=null;function kr(){return Il||(Il=uc(xf,Df,{upgrade:(D,S)=>{0===S&&D.createObjectStore(pa)}})),Il}function bs(D){return ma.apply(this,arguments)}function ma(){return ma=(0,B.Z)(function*(D){const S=If(D),q=yield(yield kr()).transaction(pa).objectStore(pa).get(S);if(q)return q;{const ae=yield function Tl(D){return Bs.apply(this,arguments)}(D.appConfig.senderId);if(ae)return yield Wo(D,ae),ae}}),ma.apply(this,arguments)}function Wo(D,S){return wo.apply(this,arguments)}function wo(){return(wo=(0,B.Z)(function*(D,S){const O=If(D),ae=(yield kr()).transaction(pa,"readwrite");return yield ae.objectStore(pa).put(S,O),yield ae.done,S})).apply(this,arguments)}function Za(){return(Za=(0,B.Z)(function*(D){const S=If(D),q=(yield kr()).transaction(pa,"readwrite");yield q.objectStore(pa).delete(S),yield q.done})).apply(this,arguments)}function If({appConfig:D}){return D.appId}const Ni=new G.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function du(D,S){return fc.apply(this,arguments)}function fc(){return(fc=(0,B.Z)(function*(D,S){const O=yield pc(D),q=fu(S),ae={method:"POST",headers:O,body:JSON.stringify(q)};let fe;try{fe=yield(yield fetch(Cd(D.appConfig),ae)).json()}catch(Ve){throw Ni.create("token-subscribe-failed",{errorInfo:Ve?.toString()})}if(fe.error)throw Ni.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Ni.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function hu(){return(hu=(0,B.Z)(function*(D,S){const O=yield pc(D),q=fu(S.subscriptionOptions),ae={method:"PATCH",headers:O,body:JSON.stringify(q)};let fe;try{fe=yield(yield fetch(`${Cd(D.appConfig)}/${S.token}`,ae)).json()}catch(Ve){throw Ni.create("token-update-failed",{errorInfo:Ve?.toString()})}if(fe.error)throw Ni.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Ni.create("token-update-no-token");return fe.token})).apply(this,arguments)}function Af(D,S){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,B.Z)(function*(D,S){const q={method:"DELETE",headers:yield pc(D)};try{const fe=yield(yield fetch(`${Cd(D.appConfig)}/${S}`,q)).json();if(fe.error)throw Ni.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(ae){throw Ni.create("token-unsubscribe-failed",{errorInfo:ae?.toString()})}})).apply(this,arguments)}function Cd({projectId:D}){return`${yd}/projects/${D}/registrations`}function pc(D){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,B.Z)(function*({appConfig:D,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function fu({p256dh:D,auth:S,endpoint:O,vapidKey:q}){const ae={web:{endpoint:O,auth:S,p256dh:D}};return q!==zm&&(ae.web.applicationPubKey=q),ae}const Mf=6048e5;function kf(){return kf=(0,B.Z)(function*(D){const S=yield function Ly(D,S){return Rf.apply(this,arguments)}(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:an(S.getKey("auth")),p256dh:an(S.getKey("p256dh"))},q=yield bs(D.firebaseDependencies);if(q){if(function Vy(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}(q.subscriptionOptions,O))return Date.now()>=q.createTime+Mf?function ai(D,S){return Dd.apply(this,arguments)}(D,{token:q.token,createTime:Date.now(),subscriptionOptions:O}):q.token;try{yield Af(D.firebaseDependencies,q.token)}catch(ae){console.warn(ae)}return Al(D.firebaseDependencies,O)}return Al(D.firebaseDependencies,O)}),kf.apply(this,arguments)}function Co(){return Co=(0,B.Z)(function*(D){const S=yield bs(D.firebaseDependencies);S&&(yield Af(D.firebaseDependencies,S.token),yield function Tf(D){return Za.apply(this,arguments)}(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),Co.apply(this,arguments)}function Dd(){return Dd=(0,B.Z)(function*(D,S){try{const O=yield function Sf(D,S){return hu.apply(this,arguments)}(D.firebaseDependencies,S),q=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield Wo(D.firebaseDependencies,q),O}catch(O){throw yield function Fr(D){return Co.apply(this,arguments)}(D),O}}),Dd.apply(this,arguments)}function Al(D,S){return pu.apply(this,arguments)}function pu(){return(pu=(0,B.Z)(function*(D,S){const q={token:yield du(D,S),createTime:Date.now(),subscriptionOptions:S};return yield Wo(D,q),q.token})).apply(this,arguments)}function Rf(){return(Rf=(0,B.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wd(S)})})).apply(this,arguments)}function mu(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Td(D,S){if(!S.notification)return;D.notification={};const O=S.notification.title;O&&(D.notification.title=O);const q=S.notification.body;q&&(D.notification.body=q);const ae=S.notification.image;ae&&(D.notification.image=ae);const fe=S.notification.icon;fe&&(D.notification.icon=fe)}(S,D),function Pf(D,S){S.data&&(D.data=S.data)}(S,D),function Of(D,S){var O,q,ae,fe,Ve;if(!(S.fcmOptions||null!==(O=S.notification)&&void 0!==O&&O.click_action))return;D.fcmOptions={};const _t=null!==(ae=null===(q=S.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==ae?ae:null===(fe=S.notification)||void 0===fe?void 0:fe.click_action;_t&&(D.fcmOptions.link=_t);const pt=null===(Ve=S.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;pt&&(D.fcmOptions.analyticsLabel=pt)}(S,D),S}function Ml(D,S){const O=[];for(let q=0;q<D.length;q++)O.push(D.charAt(q)),q<S.length&&O.push(S.charAt(q));return O.join("")}function qo(D){return Ni.create("missing-app-config-values",{valueName:D})}Ml("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ml("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class By{constructor(S,O,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ae=function mc(D){if(!D||!D.options)throw qo("App Configuration Object");if(!D.name)throw qo("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const q of S)if(!O[q])throw qo(q);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ae,installations:O,analyticsProvider:q}}_delete(){return Promise.resolve()}}function jm(D){return _u.apply(this,arguments)}function _u(){return(_u=(0,B.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(rn,{scope:cu}),D.swRegistration.update().catch(()=>{})}catch(S){throw Ni.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Yo(){return(Yo=(0,B.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield jm(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Ni.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function gc(){return(gc=(0,B.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=zm)})).apply(this,arguments)}function kl(){return kl=(0,B.Z)(function*(D,S){if(!navigator)throw Ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ni.create("permission-blocked");return yield function Id(D,S){return gc.apply(this,arguments)}(D,S?.vapidKey),yield function Nf(D,S){return Yo.apply(this,arguments)}(D,S?.serviceWorkerRegistration),function xd(D){return kf.apply(this,arguments)}(D)}),kl.apply(this,arguments)}function ga(){return(ga=(0,B.Z)(function*(D,S,O){const q=function Ka(D){switch(D){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:O[bd],message_name:O[vd],message_time:O[wf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qa(){return Qa=(0,B.Z)(function*(D,S){const O=S.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===je.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(mu(O)):D.onMessageHandler.next(mu(O)));const q=O.data;(function gu(D){return"object"==typeof D&&!!D&&bd in D})(q)&&"1"===q[Cf]&&(yield function Ff(D,S,O){return ga.apply(this,arguments)}(D,O.messageType,q))}),Qa.apply(this,arguments)}const Pl="@firebase/messaging",yc=D=>{const S=new By(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Rl(D,S){return Qa.apply(this,arguments)}(S,O)),S},Sd=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:q=>function yu(D,S){return kl.apply(this,arguments)}(S,q)}};function Gm(){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,B.Z)(function*(){try{yield(0,G.eu)()}catch{return!1}return typeof window<"u"&&(0,G.hl)()&&(0,G.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bc(){(0,z._registerComponent)(new j.wA("messaging",yc,"PUBLIC")),(0,z._registerComponent)(new j.wA("messaging-internal",Sd,"PRIVATE")),(0,z.registerVersion)(Pl,"0.12.4"),(0,z.registerVersion)(Pl,"0.12.4","esm2017")}();const _a="analytics",vu="firebase_id",Bf="origin",vc=6e4,Uf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wu="https://www.googletagmanager.com/gtag/js",Ki=new Z.Yd("@firebase/analytics"),hi=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $m(D){if(!D.startsWith(wu)){const S=hi.create("invalid-gtag-resource",{gtagURL:D});return Ki.warn(S.message),""}return D}function ya(D){return Promise.all(D.map(S=>S.catch(O=>O)))}function ba(){return(ba=(0,B.Z)(function*(D,S,O,q,ae,fe){const Ve=q[ae];try{if(Ve)yield S[Ve];else{const pt=(yield ya(O)).find(kt=>kt.measurementId===ae);pt&&(yield S[pt.appId])}}catch(_t){Ki.error(_t)}D("config",ae,fe)})).apply(this,arguments)}function Xa(){return(Xa=(0,B.Z)(function*(D,S,O,q,ae){try{let fe=[];if(ae&&ae.send_to){let Ve=ae.send_to;Array.isArray(Ve)||(Ve=[Ve]);const _t=yield ya(O);for(const pt of Ve){const kt=_t.find(sn=>sn.measurementId===pt),Xt=kt&&S[kt.appId];if(!Xt){fe=[];break}fe.push(Xt)}}0===fe.length&&(fe=Object.values(S)),yield Promise.all(fe),D("event",q,ae||{})}catch(fe){Ki.error(fe)}})).apply(this,arguments)}const Eu=30,tl=new class Hf{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function qm(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Pn(){return(Pn=(0,B.Z)(function*(D){var S;const{appId:O,apiKey:q}=D,ae={method:"GET",headers:qm(q)},fe=Uf.replace("{app-id}",O),Ve=yield fetch(fe,ae);if(200!==Ve.status&&304!==Ve.status){let _t="";try{const pt=yield Ve.json();null!==(S=pt.error)&&void 0!==S&&S.message&&(_t=pt.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:_t})}return Ve.json()})).apply(this,arguments)}function jf(){return(jf=(0,B.Z)(function*(D,S=tl,O){const{appId:q,apiKey:ae,measurementId:fe}=D.options;if(!q)throw hi.create("no-app-id");if(!ae){if(fe)return{measurementId:fe,appId:q};throw hi.create("no-api-key")}const Ve=S.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_t=new k0;return setTimeout((0,B.Z)(function*(){_t.abort()}),void 0!==O?O:vc),Fd({appId:q,apiKey:ae,measurementId:fe},Ve,_t,S)})).apply(this,arguments)}function Fd(D,S,O){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,B.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:O},q,ae=tl){var fe;const{appId:Ve,measurementId:_t}=D;try{yield function Ym(D,S){return new Promise((O,q)=>{const ae=Math.max(S-Date.now(),0),fe=setTimeout(O,ae);D.addEventListener(()=>{clearTimeout(fe),q(hi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(q,S)}catch(pt){if(_t)return Ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:Ve,measurementId:_t};throw pt}try{const pt=yield function zf(D){return Pn.apply(this,arguments)}(D);return ae.deleteThrottleMetadata(Ve),pt}catch(pt){const kt=pt;if(!function M0(D){if(!(D instanceof G.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(kt)){if(ae.deleteThrottleMetadata(Ve),_t)return Ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:Ve,measurementId:_t};throw pt}const Xt=503===Number(null===(fe=kt?.customData)||void 0===fe?void 0:fe.httpStatus)?(0,G.$s)(O,ae.intervalMillis,Eu):(0,G.$s)(O,ae.intervalMillis),sn={throttleEndTimeMillis:Date.now()+Xt,backoffCount:O+1};return ae.setThrottleMetadata(Ve,sn),Ki.debug(`Calling attemptFetch again in ${Xt} millis`),Fd(D,sn,q,ae)}}),Ld.apply(this,arguments)}class k0{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let nl,Ec;function Zm(){return(Zm=(0,B.Z)(function*(D,S,O,q,ae){if(ae&&ae.global)D("event",O,q);else{const fe=yield S;D("event",O,Object.assign(Object.assign({},q),{send_to:fe}))}})).apply(this,arguments)}function Vn(){return(Vn=(0,B.Z)(function*(){if(!(0,G.hl)())return Ki.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(D){return Ki.warn(hi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return wa=(0,B.Z)(function*(D,S,O,q,ae,fe,Ve){var _t;const pt=function Nd(D){return jf.apply(this,arguments)}(D);pt.then(yr=>{O[yr.measurementId]=yr.appId,D.options.measurementId&&yr.measurementId!==D.options.measurementId&&Ki.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>Ki.error(yr)),S.push(pt);const kt=function Us(){return Vn.apply(this,arguments)}().then(yr=>{if(yr)return q.getId()}),[Xt,sn]=yield Promise.all([pt,kt]);(function el(D){const S=window.document.getElementsByTagName("script");for(const O of Object.values(S))if(O.src&&O.src.includes(wu)&&O.src.includes(D))return O;return null})(fe)||function Nl(D,S){const O=function Cu(D,S){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(D,S)),O}("firebase-js-sdk-policy",{createScriptURL:$m}),q=document.createElement("script"),ae=`${wu}?l=${D}&id=${S}`;q.src=O?O?.createScriptURL(ae):ae,q.async=!0,document.head.appendChild(q)}(fe,Xt.measurementId),Ec&&(ae("consent","default",Ec),function xc(D){Ec=D}(void 0)),ae("js",new Date);const ss=null!==(_t=Ve?.config)&&void 0!==_t?_t:{};return ss[Bf]="firebase",ss.update=!0,null!=sn&&(ss[vu]=sn),ae("config",Xt.measurementId,ss),nl&&(ae("set",nl),function Tu(D){nl=D}(void 0)),Xt.measurementId}),wa.apply(this,arguments)}class xo{constructor(S){this.app=S}_delete(){return delete zt[this.app.options.appId],Promise.resolve()}}let zt={},il=[];const fi={};let Hs,rs,Tt="dataLayer",Di="gtag",Lr=!1;function ii(D,S,O){!function ni(){const D=[];if((0,G.ru)()&&D.push("This is a browser extension environment."),(0,G.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((q,ae)=>`(${ae+1}) ${q}`).join(" "),O=hi.create("invalid-analytics-context",{errorInfo:S});Ki.warn(O.message)}}();const q=D.options.appId;if(!q)throw hi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw hi.create("no-api-key");Ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zt[q])throw hi.create("already-exists",{id:q});if(!Lr){!function Rd(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Tt);const{wrappedGtag:fe,gtagCore:Ve}=function Ja(D,S,O,q,ae){let fe=function(...Ve){window[q].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(fe=window[ae]),window[ae]=function wc(D,S,O,q){function fe(){return fe=(0,B.Z)(function*(Ve,..._t){try{if("event"===Ve){const[pt,kt]=_t;yield function Wm(D,S,O,q,ae){return Xa.apply(this,arguments)}(D,S,O,pt,kt)}else if("config"===Ve){const[pt,kt]=_t;yield function Pd(D,S,O,q,ae,fe){return ba.apply(this,arguments)}(D,S,O,q,pt,kt)}else if("consent"===Ve){const[pt]=_t;D("consent","update",pt)}else if("get"===Ve){const[pt,kt,Xt]=_t;D("get",pt,kt,Xt)}else if("set"===Ve){const[pt]=_t;D("set",pt)}else D(Ve,..._t)}catch(pt){Ki.error(pt)}}),fe.apply(this,arguments)}return function ae(Ve){return fe.apply(this,arguments)}}(fe,D,S,O),{gtagCore:fe,wrappedGtag:window[ae]}}(zt,il,fi,Tt,Di);rs=fe,Hs=Ve,Lr=!0}return zt[q]=function Ll(D,S,O,q,ae,fe,Ve){return wa.apply(this,arguments)}(D,il,fi,S,Hs,Tt,O),new xo(D)}function $f(){return so.apply(this,arguments)}function so(){return(so=(0,B.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}const Vl="@firebase/analytics";!function Br(){(0,z._registerComponent)(new j.wA(_a,(S,{options:O})=>ii(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,z._registerComponent)(new j.wA("analytics-internal",function D(S){try{const O=S.getProvider(_a).getImmediate();return{logEvent:(q,ae,fe)=>function Wf(D,S,O,q){D=(0,G.m9)(D),function R0(D,S,O,q,ae){return Zm.apply(this,arguments)}(rs,zt[D.app.options.appId],S,O,q).catch(ae=>Ki.error(ae))}(O,q,ae,fe)}}catch(O){throw hi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,z.registerVersion)(Vl,"0.10.0"),(0,z.registerVersion)(Vl,"0.10.0","esm2017")}();var Yf=F(4408),Yn=F(7565);const Bl=new class Do extends Yn.v{}(class Hd extends Yf.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(S,O,q):(S.flush(this),0)}});var P0=F(4986),Tc=F(9751),Au=F(8505),Mu=F(9468),zd=F(5363);const Ic=new a.GfV("7.6.1"),Zf="__angularfire_symbol__analyticsIsSupportedValue",jd="__angularfire_symbol__analyticsIsSupported",Sc="__angularfire_symbol__remoteConfigIsSupportedValue",Kf="__angularfire_symbol__remoteConfigIsSupported",Qm="__angularfire_symbol__messagingIsSupportedValue",ku="__angularfire_symbol__messagingIsSupported";function Xi(D,S,O){if(S){if(1===S.length)return S[0];const fe=S.filter(Ve=>Ve.app===O);if(1===fe.length)return fe[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[jd]||(globalThis[jd]=$f().then(D=>globalThis[Zf]=D).catch(()=>globalThis[Zf]=!1)),globalThis[ku]||(globalThis[ku]=Gm().then(D=>globalThis[Qm]=D).catch(()=>globalThis[Qm]=!1)),globalThis[Kf]||(globalThis[Kf]=yf().then(D=>globalThis[Sc]=D).catch(()=>globalThis[Sc]=!1));const Ac=(D,S)=>{const O=S?[S]:(0,L.C6)(),q=[];return O.forEach(ae=>{ae.container.getProvider(D).instances.forEach(Ve=>{q.includes(Ve)||q.push(Ve)})}),q};function _e(){}class zs{constructor(S,O=Bl){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,q){const ae=this.zone;return this.delegate.schedule(function(Ve){ae.runGuarded(()=>{S.apply(this,[Ve])})},O,q)}}class js{constructor(S){this.zone=S,this.task=null}call(S,O){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e)),O.pipe((0,Au.b)({next:q,complete:q,error:q})).subscribe(S).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mc=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new zs(Zone.current)),this.insideAngular=O.run(()=>new zs(Zone.current,P0.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(a.LFG(a.R0b))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function rl(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ea(D){return rl().ngZone.run(()=>D())}function Xf(D){return rl(),function Xm(D){return function(O){return(O=O.lift(new js(D.ngZone))).pipe((0,Mu.R)(D.outsideAngular),(0,zd.Q)(D.insideAngular))}}(rl())(D)}const Jf=(D,S)=>function(){const q=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Ea(()=>D.apply(void 0,q))},Ru=(D,S)=>function(){let O;const q=arguments;for(let fe=0;fe<arguments.length;fe++)"function"==typeof q[fe]&&(S&&(O||(O=Ea(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e)))),q[fe]=Jf(q[fe],O));const ae=function Ti(D){return rl().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,q));if(!S){if(ae instanceof Tc.y){const fe=rl();return ae.pipe((0,Mu.R)(fe.outsideAngular),(0,zd.Q)(fe.insideAngular))}return Ea(()=>ae)}return ae instanceof Tc.y?ae.pipe(Xf):ae instanceof Promise?Ea(()=>new Promise((fe,Ve)=>ae.then(_t=>Ea(()=>fe(_t)),_t=>Ea(()=>Ve(_t))))):"function"==typeof ae&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ae.apply(this,arguments)}:Ea(()=>ae)}},1389:(tt,ee,F)=>{"use strict";F.d(ee,{$:()=>rn,A:()=>J,D:()=>Me,I:()=>Zt,J:()=>Sr,L:()=>bo,N:()=>qi,P:()=>Ll,Q:()=>gf,R:()=>Du,U:()=>_f,V:()=>yf,W:()=>su,X:()=>Go,Y:()=>ou,Z:()=>bf,_:()=>au,a:()=>is,a0:()=>zm,a1:()=>bd,a2:()=>Ny,a3:()=>Ef,a4:()=>Bs,a5:()=>xf,a6:()=>pa,a7:()=>kr,a8:()=>ma,a9:()=>wo,aA:()=>se,aB:()=>jd,aC:()=>ui,aD:()=>pr,aE:()=>Au,aF:()=>Su,aG:()=>si,aH:()=>qe,aL:()=>Eo,aO:()=>ha,aa:()=>Tf,ab:()=>If,ac:()=>Fy,ad:()=>Sf,ae:()=>Af,af:()=>Cd,ai:()=>Mf,aj:()=>kf,ak:()=>Fr,an:()=>Hm,ao:()=>Td,aq:()=>gc,ar:()=>Pl,as:()=>ve,at:()=>qn,au:()=>Gt,av:()=>Ge,aw:()=>sn,ax:()=>ku,ay:()=>Rn,az:()=>Ne,b:()=>bu,c:()=>rs,d:()=>ii,e:()=>Li,f:()=>Vl,g:()=>Do,h:()=>Yf,i:()=>Od,j:()=>P0,k:()=>To,l:()=>Cc,m:()=>Wd,o:()=>N0,p:()=>Q,r:()=>Gf,s:()=>va,u:()=>Us});var a=F(5861),L=F(2090),B=F(6881),z=F(655),G=F(1877),j=F(4859);const Q={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},J={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Xe=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new G.Yd("@firebase/auth");function Re(E,...y){xe.logLevel<=G.in.ERROR&&xe.error(`Auth (${B.SDK_VERSION}): ${E}`,...y)}function Ge(E,...y){throw Oe(E,...y)}function Ne(E,...y){return Oe(E,...y)}function Se(E,y,v){const T=Object.assign(Object.assign({},Xe()),{[y]:v});return new L.LL("auth","Firebase",T).create(y,{appName:E.name})}function Be(E,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&Ge(E,"argument-error"),Se(E,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(E,...y){if("string"!=typeof E){const v=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(v,...T)}return mt.create(E,...y)}function se(E,y,...v){if(!E)throw Oe(y,...v)}function le(E){const y="INTERNAL ASSERTION FAILED: "+E;throw Re(y),new Error(y)}function ve(E,y){E||le(y)}function be(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function De(){return"http:"===ue()||"https:"===ue()}function ue(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class He{constructor(y,v){this.shortDelay=y,this.longDelay=v,ve(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function X(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(E,y){ve(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class Je{static initialize(y,v,T){this.fetchImpl=y,v&&(this.headersImpl=v),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ct=new He(3e4,6e4);function rt(E,y){return E.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:E.tenantId}):y}function jt(E,y,v,T){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(E,y,v,T,N={}){return en(E,N,(0,a.Z)(function*(){let H={},ye={};T&&("GET"===y?ye=T:H={body:JSON.stringify(T)});const Fe=(0,L.xO)(Object.assign({key:E.config.apiKey},ye)).slice(1),dt=yield E._getAdditionalHeaders();return dt["Content-Type"]="application/json",E.languageCode&&(dt["X-Firebase-Locale"]=E.languageCode),Je.fetch()(Dn(E,E.config.apiHost,v,Fe),Object.assign({method:y,headers:dt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function en(E,y,v){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(E,y,v){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},$e),y);try{const N=new Ai(E),H=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const ye=yield H.json();if("needConfirmation"in ye)throw Hi(E,"account-exists-with-different-credential",ye);if(H.ok&&!("errorMessage"in ye))return ye;{const Fe=H.ok?ye.errorMessage:ye.error.message,[dt,bt]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw Hi(E,"credential-already-in-use",ye);if("EMAIL_EXISTS"===dt)throw Hi(E,"email-already-in-use",ye);if("USER_DISABLED"===dt)throw Hi(E,"user-disabled",ye);const Bt=T[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw Se(E,Bt,bt);Ge(E,Bt)}}catch(N){if(N instanceof L.ZR)throw N;Ge(E,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function Rt(E,y,v,T){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(E,y,v,T,N={}){const H=yield jt(E,y,v,T,N);return"mfaPendingCredential"in H&&Ge(E,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Dn(E,y,v,T){const N=`${y}${v}?${T}`;return E.config.emulator?Le(E.config,N):`${E.config.apiScheme}://${N}`}class Ai{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,T)=>{this.timer=setTimeout(()=>T(Ne(this.auth,"network-request-failed")),ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hi(E,y,v){const T={appName:E.name};v.email&&(T.email=v.email),v.phoneNumber&&(T.phoneNumber=v.phoneNumber);const N=Ne(E,y,T);return N.customData._tokenResponse=v,N}function Jr(){return(Jr=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Mi(){return(Mi=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function At(E){if(E)try{const y=new Date(Number(E));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function ki(){return(ki=(0,a.Z)(function*(E,y=!1){const v=(0,L.m9)(E),T=yield v.getIdToken(y),N=Is(T);se(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const H="object"==typeof N.firebase?N.firebase:void 0,ye=H?.sign_in_provider;return{claims:N,token:T,authTime:At(ur(N.auth_time)),issuedAtTime:At(ur(N.iat)),expirationTime:At(ur(N.exp)),signInProvider:ye||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function ur(E){return 1e3*Number(E)}function Is(E){const[y,v,T]=E.split(".");if(void 0===y||void 0===v||void 0===T)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,L.tV)(v);return N?JSON.parse(N):(Re("Failed to decode base64 JWT payload"),null)}catch(N){return Re("Caught error parsing JWT payload as JSON",N?.toString()),null}}function mn(E,y){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(E,y,v=!1){if(v)return y;try{return yield y}catch(T){throw T instanceof L.ZR&&function nn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}class dr{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),T)}iteration(){var y=this;return(0,a.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&y.schedule(!0))}y.schedule()})()}}class xr{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=At(this.lastLoginAt),this.creationTime=At(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(E){return hr.apply(this,arguments)}function hr(){return hr=(0,a.Z)(function*(E){var y;const v=E.auth,T=yield E.getIdToken(),N=yield mn(E,function oa(E,y){return Mi.apply(this,arguments)}(v,{idToken:T}));se(N?.users.length,v,"internal-error");const H=N.users[0];E._notifyReloadListener(H);const ye=null!==(y=H.providerUserInfo)&&void 0!==y&&y.length?function Ss(E){return E.map(y=>{var{providerId:v}=y,T=(0,z._T)(y,["providerId"]);return{providerId:v,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(H.providerUserInfo):[],Fe=function Wn(E,y){return[...E.filter(T=>!y.some(N=>N.providerId===T.providerId)),...y]}(E.providerData,ye),Bt=!!E.isAnonymous&&!(E.email&&H.passwordHash||Fe?.length),dn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:Fe,metadata:new xr(H.createdAt,H.lastLoginAt),isAnonymous:Bt};Object.assign(E,dn)}),hr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(E){const y=(0,L.m9)(E);yield ti(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function es(){return(es=(0,a.Z)(function*(E,y){const v=yield en(E,{},(0,a.Z)(function*(){const T=(0,L.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:N,apiKey:H}=E.config,ye=Dn(E,N,"/v1/token",`key=${H}`),Fe=yield E._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(ye,{method:"POST",headers:Fe,body:T})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){se(y.idToken,"internal-error"),se(typeof y.idToken<"u","internal-error"),se(typeof y.refreshToken<"u","internal-error");const v="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Ln(E){const y=Is(E);return se(y,"internal-error"),se(typeof y.exp<"u","internal-error"),se(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var T=this;return(0,a.Z)(function*(){return se(!T.accessToken||T.refreshToken,y,"user-token-expired"),v||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var T=this;return(0,a.Z)(function*(){const{accessToken:N,refreshToken:H,expiresIn:ye}=yield function _n(E,y){return es.apply(this,arguments)}(y,v);T.updateTokensAndExpiration(N,H,Number(ye))})()}updateTokensAndExpiration(y,v,T){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,v){const{refreshToken:T,accessToken:N,expirationTime:H}=v,ye=new Tn;return T&&(se("string"==typeof T,"internal-error",{appName:y}),ye.refreshToken=T),N&&(se("string"==typeof N,"internal-error",{appName:y}),ye.accessToken=N),H&&(se("number"==typeof H,"internal-error",{appName:y}),ye.expirationTime=H),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Tn,this.toJSON())}_performRefresh(){return le("not implemented")}}function Dr(E,y){se("string"==typeof E||typeof E>"u","internal-error",{appName:y})}class Ei{constructor(y){var{uid:v,auth:T,stsTokenManager:N}=y,H=(0,z._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=T,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new xr(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,a.Z)(function*(){const T=yield mn(v,v.stsTokenManager.getToken(v.auth,y));return se(T,v.auth,"internal-error"),v.accessToken!==T&&(v.accessToken=T,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),T})()}getIdTokenResult(y){return function Ua(E){return ki.apply(this,arguments)}(this,y)}reload(){return function Ci(E){return fr.apply(this,arguments)}(this)}_assign(y){this!==y&&(se(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const v=new Ei(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(y){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var T=this;return(0,a.Z)(function*(){let N=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),N=!0),v&&(yield ti(T)),yield T.auth._persistUserIfCurrent(T),N&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,a.Z)(function*(){const v=yield y.getIdToken();return yield mn(y,function Nr(E,y){return Jr.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var T,N,H,ye,Fe,dt,bt,Bt;const dn=null!==(T=v.displayName)&&void 0!==T?T:void 0,as=null!==(N=v.email)&&void 0!==N?N:void 0,xa=null!==(H=v.phoneNumber)&&void 0!==H?H:void 0,np=null!==(ye=v.photoURL)&&void 0!==ye?ye:void 0,Hy=null!==(Fe=v.tenantId)&&void 0!==Fe?Fe:void 0,Ko=null!==(dt=v._redirectEventId)&&void 0!==dt?dt:void 0,ig=null!==(bt=v.createdAt)&&void 0!==bt?bt:void 0,rg=null!==(Bt=v.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:ip,emailVerified:sg,isAnonymous:rp,providerData:sp,stsTokenManager:Qd}=v;se(ip&&Qd,y,"internal-error");const op=Tn.fromJSON(this.name,Qd);se("string"==typeof ip,y,"internal-error"),Dr(dn,y.name),Dr(as,y.name),se("boolean"==typeof sg,y,"internal-error"),se("boolean"==typeof rp,y,"internal-error"),Dr(xa,y.name),Dr(np,y.name),Dr(Hy,y.name),Dr(Ko,y.name),Dr(ig,y.name),Dr(rg,y.name);const ap=new Ei({uid:ip,auth:y,email:as,emailVerified:sg,displayName:dn,isAnonymous:rp,photoURL:np,phoneNumber:xa,tenantId:Hy,stsTokenManager:op,createdAt:ig,lastLoginAt:rg});return sp&&Array.isArray(sp)&&(ap.providerData=sp.map(og=>Object.assign({},og))),Ko&&(ap._redirectEventId=Ko),ap}static _fromIdTokenResponse(y,v,T=!1){return(0,a.Z)(function*(){const N=new Tn;N.updateFromServerResponse(v);const H=new Ei({uid:v.localId,auth:y,stsTokenManager:N,isAnonymous:T});return yield ti(H),H})()}}const xi=new Map;function ui(E){ve(E instanceof Function,"Expected a class definition");let y=xi.get(E);return y?(ve(y instanceof E,"Instance stored in cache mismatched with class"),y):(y=new E,xi.set(E,y),y)}const qi=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,T){var N=this;return(0,a.Z)(function*(){N.storage[v]=T})()}_get(v){var T=this;return(0,a.Z)(function*(){const N=T.storage[v];return void 0===N?null:N})()}_remove(v){var T=this;return(0,a.Z)(function*(){delete T.storage[v]})()}_addListener(v,T){}_removeListener(v,T){}}return E.type="NONE",E})();function pr(E,y,v){return`firebase:${E}:${y}:${v}`}class oe{constructor(y,v,T){this.persistence=y,this.auth=v,this.userKey=T;const{config:N,name:H}=this.auth;this.fullUserKey=pr(this.userKey,N.apiKey,H),this.fullPersistenceKey=pr("persistence",N.apiKey,H),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,a.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?Ei._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,a.Z)(function*(){if(v.persistence===y)return;const T=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,T?v.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,T="authUser"){return(0,a.Z)(function*(){if(!v.length)return new oe(ui(qi),y,T);const N=(yield Promise.all(v.map(function(){var bt=(0,a.Z)(function*(Bt){if(yield Bt._isAvailable())return Bt});return function(Bt){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let H=N[0]||ui(qi);const ye=pr(T,y.config.apiKey,y.name);let Fe=null;for(const bt of v)try{const Bt=yield bt._get(ye);if(Bt){const dn=Ei._fromJSON(y,Bt);bt!==H&&(Fe=dn),H=bt;break}}catch{}const dt=N.filter(bt=>bt._shouldAllowMigration);return H._shouldAllowMigration&&dt.length?(H=dt[0],Fe&&(yield H._set(ye,Fe.toJSON())),yield Promise.all(v.map(function(){var bt=(0,a.Z)(function*(Bt){if(Bt!==H)try{yield Bt._remove(ye)}catch{}});return function(Bt){return bt.apply(this,arguments)}}())),new oe(H,y,T)):new oe(H,y,T)})()}}function te(E){const y=E.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(st(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(de(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(kn(y))return"Blackberry";if(ri(y))return"Webos";if(We(y))return"Safari";if((y.includes("chrome/")||Te(y))&&!y.includes("edge/"))return"Chrome";if(Gt(y))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function de(E=(0,L.z$)()){return/firefox\//i.test(E)}function We(E=(0,L.z$)()){const y=E.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Te(E=(0,L.z$)()){return/crios\//i.test(E)}function st(E=(0,L.z$)()){return/iemobile/i.test(E)}function Gt(E=(0,L.z$)()){return/android/i.test(E)}function kn(E=(0,L.z$)()){return/blackberry/i.test(E)}function ri(E=(0,L.z$)()){return/webos/i.test(E)}function qn(E=(0,L.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Rn(E=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Ir(E=(0,L.z$)()){return qn(E)||Gt(E)||ri(E)||kn(E)||/windows phone/i.test(E)||st(E)}function aa(E,y=[]){let v;switch(E){case"Browser":v=te((0,L.z$)());break;case"Worker":v=`${te((0,L.z$)())}-${E}`;break;default:v=E}const T=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${B.SDK_VERSION}/${T}`}function Ce(){return(Ce=(0,a.Z)(function*(E){return(yield jt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function et(E,y){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(E,y){return jt(E,"GET","/v2/recaptchaConfig",rt(E,y))})).apply(this,arguments)}function Yt(E){return void 0!==E&&void 0!==E.getResponse}function un(E){return void 0!==E&&void 0!==E.enterprise}class Vt{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function vn(E){return new Promise((y,v)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=y,T.onerror=N=>{const H=Ne("internal-error");H.customData=N,v(H)},T.type="text/javascript",T.charset="UTF-8",function Fn(){var E,y;return null!==(y=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==y?y:document}().appendChild(T)})}function Yi(E){return`__${E}${Math.floor(1e6*Math.random())}`}const rc="NO_RECAPTCHA";class to{constructor(y){this.type="recaptcha-enterprise",this.auth=qe(y)}verify(y="verify",v=!1){var T=this;return(0,a.Z)(function*(){function H(){return H=(0,a.Z)(function*(Fe){if(!v){if(null==Fe.tenantId&&null!=Fe._agentRecaptchaConfig)return Fe._agentRecaptchaConfig.siteKey;if(null!=Fe.tenantId&&void 0!==Fe._tenantRecaptchaConfigs[Fe.tenantId])return Fe._tenantRecaptchaConfigs[Fe.tenantId].siteKey}return new Promise(function(){var dt=(0,a.Z)(function*(bt,Bt){et(Fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dn=>{if(void 0!==dn.recaptchaKey){const as=new Vt(dn);return null==Fe.tenantId?Fe._agentRecaptchaConfig=as:Fe._tenantRecaptchaConfigs[Fe.tenantId]=as,bt(as.siteKey)}Bt(new Error("recaptcha Enterprise site key undefined"))}).catch(dn=>{Bt(dn)})});return function(bt,Bt){return dt.apply(this,arguments)}}())}),H.apply(this,arguments)}function ye(Fe,dt,bt){const Bt=window.grecaptcha;un(Bt)?Bt.enterprise.ready(()=>{Bt.enterprise.execute(Fe,{action:y}).then(dn=>{dt(dn)}).catch(()=>{dt(rc)})}):bt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Fe,dt)=>{(function N(Fe){return H.apply(this,arguments)})(T.auth).then(bt=>{if(!v&&un(window.grecaptcha))ye(bt,Fe,dt);else{if(typeof window>"u")return void dt(new Error("RecaptchaVerifier is only supported in browser"));vn("https://www.google.com/recaptcha/enterprise.js?render="+bt).then(()=>{ye(bt,Fe,dt)}).catch(Bt=>{dt(Bt)})}}).catch(bt=>{dt(bt)})})})()}}function ji(E,y,v){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(E,y,v,T=!1){const N=new to(E);let H;try{H=yield N.verify(v)}catch{H=yield N.verify(v,!0)}const ye=Object.assign({},y);return Object.assign(ye,T?{captchaResp:H}:{captchaResponse:H}),Object.assign(ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ye})).apply(this,arguments)}class V{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const T=H=>new Promise((ye,Fe)=>{try{ye(y(H))}catch(dt){Fe(dt)}});T.onAbort=v,this.queue.push(T);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,a.Z)(function*(){if(v.auth.currentUser===y)return;const T=[];try{for(const N of v.queue)yield N(y),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const H of T)try{H()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class ce{constructor(y,v,T,N){this.app=y,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=T,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.beforeStateQueue=new V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(y,v){var T=this;return v&&(this._popupRedirectResolver=ui(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var N,H;if(!T._deleted&&(T.persistenceManager=yield oe.create(T,y),!T._deleted)){if(null!==(N=T._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(v),T.lastNotifiedUid=(null===(H=T.currentUser)||void 0===H?void 0:H.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,a.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,a.Z)(function*(){var T;const N=yield v.assertedPersistence.getCurrentUser();let H=N,ye=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Fe=null===(T=v.redirectUser)||void 0===T?void 0:T._redirectEventId,dt=H?._redirectEventId,bt=yield v.tryRedirectSignIn(y);(!Fe||Fe===dt)&&bt?.user&&(H=bt.user,ye=!0)}if(!H)return v.directlySetCurrentUser(null);if(!H._redirectEventId){if(ye)try{yield v.beforeStateQueue.runMiddleware(H)}catch(Fe){H=N,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Fe))}return H?v.reloadAndSetCurrentUserOrClear(H):v.directlySetCurrentUser(null)}return se(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===H._redirectEventId?v.directlySetCurrentUser(H):v.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(y){var v=this;return(0,a.Z)(function*(){let T=null;try{T=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch{yield v._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,a.Z)(function*(){try{yield ti(y)}catch(T){if("auth/network-request-failed"!==T?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var y=this;return(0,a.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,a.Z)(function*(){const T=y?(0,L.m9)(y):null;return T&&se(T.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(T&&T._clone(v))})()}_updateCurrentUser(y,v=!1){var T=this;return(0,a.Z)(function*(){if(!T._deleted)return y&&se(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),v||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,a.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,a.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(ui(y))}))}initializeRecaptchaConfig(){var y=this;return(0,a.Z)(function*(){const v=yield et(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Vt(v);null==y.tenantId?y._agentRecaptchaConfig=T:y._tenantRecaptchaConfigs[y.tenantId]=T,T.emailPasswordEnabled&&new to(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new L.LL("auth","Firebase",y())}onAuthStateChanged(y,v,T){return this.registerStateListener(this.authStateSubscription,y,v,T)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,T){return this.registerStateListener(this.idTokenSubscription,y,v,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var T=this;return(0,a.Z)(function*(){const N=yield T.getOrInitRedirectPersistenceManager(v);return null===y?N.removeCurrentUser():N.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const T=y&&ui(y)||v._popupRedirectResolver;se(T,v,"argument-error"),v.redirectPersistenceManager=yield oe.create(v,[ui(T._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,a.Z)(function*(){var T,N;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(T=v._currentUser)||void 0===T?void 0:T._redirectEventId)===y?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,a.Z)(function*(){if(y===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,T,N){if(this._deleted)return()=>{};const H="function"==typeof v?v:v.next.bind(v),ye=this._isInitialized?Promise.resolve():this._initializationPromise;return se(ye,this,"internal-error"),ye.then(()=>H(this.currentUser)),"function"==typeof v?y.addObserver(v,T,N):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==y&&v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh(),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,a.Z)(function*(){var v;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const N=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();N&&(T["X-Firebase-Client"]=N);const H=yield y._getAppCheckToken();return H&&(T["X-Firebase-AppCheck"]=H),T})()}_getAppCheckToken(){var y=this;return(0,a.Z)(function*(){var v;const T=yield null===(v=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return T?.error&&function ke(E,...y){xe.logLevel<=G.in.WARN&&xe.warn(`Auth (${B.SDK_VERSION}): ${E}`,...y)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function qe(E){return(0,L.m9)(E)}class Ye{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,L.ne)(v=>this.observer=v)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zt(E,y,v){const T=qe(E);se(T._canInitEmulator,T,"emulator-config-failed"),se(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const N=!!v?.disableWarnings,H=pn(y),{host:ye,port:Fe}=function at(E){const y=pn(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(y.length));if(!v)return{host:"",port:null};const T=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(T);if(N){const H=N[1];return{host:H,port:Kt(T.substr(H.length+1))}}{const[H,ye]=T.split(":");return{host:H,port:Kt(ye)}}}(y);T.config.emulator={url:`${H}//${ye}${null===Fe?"":`:${Fe}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ye,port:Fe,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Pi(){function E(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function pn(E){const y=E.indexOf(":");return y<0?"":E.substr(0,y+1)}function Kt(E){if(!E)return null;const y=Number(E);return isNaN(y)?null:y}class Sr{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return le("not implemented")}_getIdTokenResponse(y){return le("not implemented")}_linkToIdToken(y,v){return le("not implemented")}_getReauthenticationResolver(y){return le("not implemented")}}function mr(E,y){return no.apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:resetPassword",rt(E,y))})).apply(this,arguments)}function Gi(E,y){return za.apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:update",rt(E,y))})).apply(this,arguments)}function la(E,y){return gr.apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithPassword",rt(E,y))})).apply(this,arguments)}function Jn(E,y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:sendOobCode",rt(E,y))})).apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(E,y){return Jn(E,y)})).apply(this,arguments)}function Cl(E,y){return ca.apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(E,y){return Jn(E,y)})).apply(this,arguments)}function Ga(E,y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(E,y){return Jn(E,y)})).apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(E,y){return Jn(E,y)})).apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithEmailLink",rt(E,y))})).apply(this,arguments)}function oc(){return(oc=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithEmailLink",rt(E,y))})).apply(this,arguments)}class ys extends Sr{constructor(y,v,T,N=null){super("password",T),this._email=y,this._password=v,this._tenantId=N}static _fromEmailAndPassword(y,v){return new ys(y,v,"password")}static _fromEmailAndCode(y,v,T=null){return new ys(y,v,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,a.Z)(function*(){var T;switch(v.signInMethod){case"password":const N={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const H=yield ji(y,N,"signInWithPassword");return la(y,H)}return la(y,N).catch(function(){var H=(0,a.Z)(function*(ye){if("auth/missing-recaptcha-token"===ye.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield ji(y,N,"signInWithPassword");return la(y,Fe)}return Promise.reject(ye)});return function(ye){return H.apply(this,arguments)}}());case"emailLink":return function io(E,y){return $a.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:Ge(y,"internal-error")}})()}_linkToIdToken(y,v){var T=this;return(0,a.Z)(function*(){switch(T.signInMethod){case"password":return Gi(y,{idToken:v,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ru(E,y){return oc.apply(this,arguments)}(y,{idToken:v,email:T._email,oobCode:T._password});default:Ge(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function ua(E,y){return ac.apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithIdp",rt(E,y))})).apply(this,arguments)}class bo extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new bo(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):Ge("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:N}=v,H=(0,z._T)(v,["providerId","signInMethod"]);if(!T||!N)return null;const ye=new bo(T,N);return ye.idToken=H.idToken||void 0,ye.accessToken=H.accessToken||void 0,ye.secret=H.secret,ye.nonce=H.nonce,ye.pendingToken=H.pendingToken||null,ye}_getIdTokenResponse(y){return ua(y,this.buildRequest())}_linkToIdToken(y,v){const T=this.buildRequest();return T.idToken=v,ua(y,T)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,ua(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,L.xO)(v)}return y}}function df(){return(df=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:sendVerificationCode",rt(E,y))})).apply(this,arguments)}function hf(){return(hf=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithPhoneNumber",rt(E,y))})).apply(this,arguments)}function ff(){return(ff=(0,a.Z)(function*(E,y){const v=yield Rt(E,"POST","/v1/accounts:signInWithPhoneNumber",rt(E,y));if(v.temporaryProof)throw Hi(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const pf={USER_NOT_FOUND:"user-not-found"};function Lm(){return(Lm=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithPhoneNumber",rt(E,Object.assign(Object.assign({},y),{operation:"REAUTH"})),pf)})).apply(this,arguments)}class da extends Sr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new da({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new da({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function Fm(E,y){return hf.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function Oy(E,y){return ff.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function mf(E,y){return Lm.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:T,verificationCode:N}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:T,code:N}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:T,phoneNumber:N,temporaryProof:H}=y;return T||v||N||H?new da({verificationId:v,verificationCode:T,phoneNumber:N,temporaryProof:H}):null}}class El{constructor(y){var v,T,N,H,ye,Fe;const dt=(0,L.zd)((0,L.pd)(y)),bt=null!==(v=dt.apiKey)&&void 0!==v?v:null,Bt=null!==(T=dt.oobCode)&&void 0!==T?T:null,dn=function ro(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=dt.mode)&&void 0!==N?N:null);se(bt&&Bt&&dn,"argument-error"),this.apiKey=bt,this.operation=dn,this.code=Bt,this.continueUrl=null!==(H=dt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ye=dt.languageCode)&&void 0!==ye?ye:null,this.tenantId=null!==(Fe=dt.tenantId)&&void 0!==Fe?Fe:null}static parseLink(y){const v=function Vm(E){const y=(0,L.zd)((0,L.pd)(E)).link,v=y?(0,L.zd)((0,L.pd)(y)).deep_link_id:null,T=(0,L.zd)((0,L.pd)(E)).deep_link_id;return(T?(0,L.zd)((0,L.pd)(T)).link:null)||T||v||y||E}(y);try{return new El(v)}catch{return null}}}let gf=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,T){return ys._fromEmailAndPassword(v,T)}static credentialWithLink(v,T){const N=El.parseLink(T);return se(N,"argument-error"),ys._fromEmailAndCode(v,N.code,N.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class vo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class lc extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Go extends lc{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return se("providerId"in v&&"signInMethod"in v,"argument-error"),bo._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return se(y.idToken||y.accessToken,"argument-error"),bo._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Go.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Go.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:T,oauthTokenSecret:N,pendingToken:H,nonce:ye,providerId:Fe}=y;if(!T&&!N&&!v&&!H||!Fe)return null;try{return new Go(Fe)._credential({idToken:v,accessToken:T,nonce:ye,pendingToken:H})}catch{return null}}}let _f=(()=>{class E extends lc{constructor(){super("facebook.com")}static credential(v){return bo._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),yf=(()=>{class E extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,T){return bo._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:T})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:T,oauthAccessToken:N}=v;if(!T&&!N)return null;try{return E.credential(T,N)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),su=(()=>{class E extends lc{constructor(){super("github.com")}static credential(v){return bo._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class ha extends Sr{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return ua(y,this.buildRequest())}_linkToIdToken(y,v){const T=this.buildRequest();return T.idToken=v,ua(y,T)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,ua(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:N,pendingToken:H}=v;return T&&N&&H&&T===N?new ha(T,H):null}static _create(y,v){return new ha(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ou extends vo{constructor(y){se(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return ou.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return ou.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=ha.fromJSON(y);return se(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:T}=y;if(!v||!T)return null;try{return ha._create(T,v)}catch{return null}}}let bf=(()=>{class E extends lc{constructor(){super("twitter.com")}static credential(v,T){return bo._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:T})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:T,oauthTokenSecret:N}=v;if(!T||!N)return null;try{return E.credential(T,N)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function xl(E,y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signUp",rt(E,y))})).apply(this,arguments)}class di{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,T,N=!1){return(0,a.Z)(function*(){const H=yield Ei._fromIdTokenResponse(y,T,N),ye=cc(T);return new di({user:H,providerId:ye,_tokenResponse:T,operationType:v})})()}static _forOperation(y,v,T){return(0,a.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const N=cc(T);return new di({user:y,providerId:N,_tokenResponse:T,operationType:v})})()}}function cc(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function au(E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,a.Z)(function*(E){var y;const v=qe(E);if(yield v._initializationPromise,null!==(y=v.currentUser)&&void 0!==y&&y.isAnonymous)return new di({user:v.currentUser,providerId:null,operationType:"signIn"});const T=yield xl(v,{returnSecureToken:!0}),N=yield di._fromIdTokenResponse(v,"signIn",T,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class qa extends L.ZR{constructor(y,v,T,N){var H;super(v.code,v.message),this.operationType=T,this.user=N,Object.setPrototypeOf(this,qa.prototype),this.customData={appName:y.name,tenantId:null!==(H=y.tenantId)&&void 0!==H?H:void 0,_serverResponse:v.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,v,T,N){return new qa(y,v,T,N)}}function Ya(E,y,v,T){return("reauthenticate"===y?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?qa._fromErrorAndOperation(E,H,y,T):H})}function Mr(E){return new Set(E.map(({providerId:y})=>y).filter(y=>!!y))}function Hm(E,y){return lu.apply(this,arguments)}function lu(){return lu=(0,a.Z)(function*(E,y){const v=(0,L.m9)(E);yield uc(!0,v,y);const{providerUserInfo:T}=yield function Fs(E,y){return Ls.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),N=Mr(T||[]);return v.providerData=v.providerData.filter(H=>N.has(H.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),lu.apply(this,arguments)}function ns(E,y){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(E,y,v=!1){const T=yield mn(E,y._linkToIdToken(E.auth,yield E.getIdToken()),v);return di._forOperation(E,"link",T)})).apply(this,arguments)}function uc(E,y,v){return fa.apply(this,arguments)}function fa(){return(fa=(0,a.Z)(function*(E,y,v){yield ti(y);const N=!1===E?"provider-already-linked":"no-such-provider";se(Mr(y.providerData).has(v)===E,y.auth,N)})).apply(this,arguments)}function vf(E,y){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(E,y,v=!1){const{auth:T}=E,N="reauthenticate";try{const H=yield mn(E,Ya(T,N,y,E),v);se(H.idToken,T,"internal-error");const ye=Is(H.idToken);se(ye,T,"internal-error");const{sub:Fe}=ye;return se(E.uid===Fe,T,"user-mismatch"),di._forOperation(E,N,H)}catch(H){throw"auth/user-not-found"===H?.code&&Ge(T,"user-mismatch"),H}})).apply(this,arguments)}function dc(E,y){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.Z)(function*(E,y,v=!1){const T="signIn",N=yield Ya(E,T,y),H=yield di._fromIdTokenResponse(E,T,N);return v||(yield E._updateCurrentUser(H.user)),H})).apply(this,arguments)}function rn(E,y){return cu.apply(this,arguments)}function cu(){return(cu=(0,a.Z)(function*(E,y){return dc(qe(E),y)})).apply(this,arguments)}function zm(E,y){return yd.apply(this,arguments)}function yd(){return(yd=(0,a.Z)(function*(E,y){const v=(0,L.m9)(E);return yield uc(!1,v,y.providerId),ns(v,y)})).apply(this,arguments)}function bd(E,y){return vd.apply(this,arguments)}function vd(){return(vd=(0,a.Z)(function*(E,y){return vf((0,L.m9)(E),y)})).apply(this,arguments)}function Cf(){return(Cf=(0,a.Z)(function*(E,y){return Rt(E,"POST","/v1/accounts:signInWithCustomToken",rt(E,y))})).apply(this,arguments)}function Ny(E,y){return je.apply(this,arguments)}function je(){return je=(0,a.Z)(function*(E,y){const v=qe(E),T=yield function wf(E,y){return Cf.apply(this,arguments)}(v,{token:y,returnSecureToken:!0}),N=yield di._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(N.user),N}),je.apply(this,arguments)}class an{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?wd._fromServerResponse(y,v):"totpInfo"in v?hc._fromServerResponse(y,v):Ge(y,"internal-error")}}class wd extends an{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new wd(v)}}class hc extends an{constructor(y){super("totp",y)}static _fromServerResponse(y,v){return new hc(v)}}function Oi(E,y,v){var T;se((null===(T=v.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),se(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(se(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(se(v.android.packageName.length>0,E,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function Ef(E,y,v){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,a.Z)(function*(E,y,v){var T;const N=qe(E),H={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=N._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ye=yield ji(N,H,"getOobCode",!0);v&&Oi(N,ye,v),yield Cl(N,ye)}else v&&Oi(N,H,v),yield Cl(N,H).catch(function(){var ye=(0,a.Z)(function*(Fe){if("auth/missing-recaptcha-token"!==Fe.code)return Promise.reject(Fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const dt=yield ji(N,H,"getOobCode",!0);v&&Oi(N,dt,v),yield Cl(N,dt)}});return function(Fe){return ye.apply(this,arguments)}}())}),Tl.apply(this,arguments)}function Bs(E,y,v){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(E,y,v){yield mr((0,L.m9)(E),{oobCode:y,newPassword:v})})).apply(this,arguments)}function xf(E,y){return Df.apply(this,arguments)}function Df(){return Df=(0,a.Z)(function*(E,y){yield function ja(E,y){return As.apply(this,arguments)}((0,L.m9)(E),{oobCode:y})}),Df.apply(this,arguments)}function pa(E,y){return Il.apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(E,y){const v=(0,L.m9)(E),T=yield mr(v,{oobCode:y}),N=T.requestType;switch(se(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(T.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(T.mfaInfo,v,"internal-error");default:se(T.email,v,"internal-error")}let H=null;return T.mfaInfo&&(H=an._fromServerResponse(qe(v),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:H},operation:N}})).apply(this,arguments)}function kr(E,y){return bs.apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(E,y){const{data:v}=yield pa((0,L.m9)(E),y);return v.email})).apply(this,arguments)}function ma(E,y,v){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,a.Z)(function*(E,y,v){var T;const N=qe(E),H={returnSecureToken:!0,email:y,password:v,clientType:"CLIENT_TYPE_WEB"};let ye;if(null!==(T=N._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const bt=yield ji(N,H,"signUpPassword");ye=xl(N,bt)}else ye=xl(N,H).catch(function(){var bt=(0,a.Z)(function*(Bt){if("auth/missing-recaptcha-token"===Bt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const dn=yield ji(N,H,"signUpPassword");return xl(N,dn)}return Promise.reject(Bt)});return function(Bt){return bt.apply(this,arguments)}}());const Fe=yield ye.catch(bt=>Promise.reject(bt)),dt=yield di._fromIdTokenResponse(N,"signIn",Fe);return yield N._updateCurrentUser(dt.user),dt}),Wo.apply(this,arguments)}function wo(E,y,v){return rn((0,L.m9)(E),gf.credential(y,v))}function Tf(E,y,v){return Za.apply(this,arguments)}function Za(){return Za=(0,a.Z)(function*(E,y,v){var T;const N=qe(E),H={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function ye(Fe,dt){se(dt.handleCodeInApp,N,"argument-error"),dt&&Oi(N,Fe,dt)}if(null!==(T=N._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Fe=yield ji(N,H,"getOobCode",!0);ye(Fe,v),yield Ga(N,Fe)}else ye(H,v),yield Ga(N,H).catch(function(){var Fe=(0,a.Z)(function*(dt){if("auth/missing-recaptcha-token"!==dt.code)return Promise.reject(dt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const bt=yield ji(N,H,"getOobCode",!0);ye(bt,v),yield Ga(N,bt)}});return function(dt){return Fe.apply(this,arguments)}}())}),Za.apply(this,arguments)}function If(E,y){return"EMAIL_SIGNIN"===El.parseLink(y)?.operation}function Fy(E,y,v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E),N=gf.credentialWithLink(y,v||be());return se(N._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),rn(T,N)})).apply(this,arguments)}function fc(){return(fc=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:createAuthUri",rt(E,y))})).apply(this,arguments)}function Sf(E,y){return hu.apply(this,arguments)}function hu(){return hu=(0,a.Z)(function*(E,y){const T={identifier:y,continueUri:De()?be():"http://localhost"},{signinMethods:N}=yield function du(E,y){return fc.apply(this,arguments)}((0,L.m9)(E),T);return N||[]}),hu.apply(this,arguments)}function Af(E,y){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,a.Z)(function*(E,y){const v=(0,L.m9)(E),N={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};y&&Oi(v.auth,N,y);const{email:H}=yield function gd(E,y){return sc.apply(this,arguments)}(v.auth,N);H!==E.email&&(yield E.reload())}),Sl.apply(this,arguments)}function Cd(E,y,v){return pc.apply(this,arguments)}function pc(){return pc=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:y};v&&Oi(T.auth,H,v);const{email:ye}=yield function uf(E,y){return ts.apply(this,arguments)}(T.auth,H);ye!==E.email&&(yield E.reload())}),pc.apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(E,y){return jt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Mf(E,y){return xd.apply(this,arguments)}function xd(){return xd=(0,a.Z)(function*(E,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const T=(0,L.m9)(E),H={idToken:yield T.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},ye=yield mn(T,function Ed(E,y){return fu.apply(this,arguments)}(T.auth,H));T.displayName=ye.displayName||null,T.photoURL=ye.photoUrl||null;const Fe=T.providerData.find(({providerId:dt})=>"password"===dt);Fe&&(Fe.displayName=T.displayName,Fe.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ye)}),xd.apply(this,arguments)}function kf(E,y){return Co((0,L.m9)(E),y,null)}function Fr(E,y){return Co((0,L.m9)(E),null,y)}function Co(E,y,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(E,y,v){const{auth:T}=E,H={idToken:yield E.getIdToken(),returnSecureToken:!0};y&&(H.email=y),v&&(H.password=v);const ye=yield mn(E,Gi(T,H));yield E._updateTokensIfNecessary(ye,!0)})).apply(this,arguments)}class Al{constructor(y,v,T={}){this.isNewUser=y,this.providerId=v,this.profile=T}}class pu extends Al{constructor(y,v,T,N){super(y,v,T),this.username=N}}class Ly extends Al{constructor(y,v){super(y,"facebook.com",v)}}class Rf extends pu{constructor(y,v){super(y,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Vy extends Al{constructor(y,v){super(y,"google.com",v)}}class mu extends pu{constructor(y,v,T){super(y,"twitter.com",v,T)}}function Td(E){const{user:y,_tokenResponse:v}=E;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Dd(E){var y,v;if(!E)return null;const{providerId:T}=E,N=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},H=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&E?.idToken){const ye=null===(v=null===(y=Is(E.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(ye)return new Al(H,"anonymous"!==ye&&"custom"!==ye?ye:null)}if(!T)return null;switch(T){case"facebook.com":return new Ly(H,N);case"github.com":return new Rf(H,N);case"google.com":return new Vy(H,N);case"twitter.com":return new mu(H,N,E.screenName||null);case"custom":case"anonymous":return new Al(H,null);default:return new Al(H,T,N)}}(v)}class Yo{constructor(y,v,T){this.type=y,this.credential=v,this.auth=T}static _fromIdtoken(y,v){return new Yo("enroll",y,v)}static _fromMfaPendingCredential(y){return new Yo("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,T;if(y?.multiFactorSession){if(null!==(v=y.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Yo._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(T=y.multiFactorSession)&&void 0!==T&&T.idToken)return Yo._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Id{constructor(y,v,T){this.session=y,this.hints=v,this.signInResolver=T}static _fromError(y,v){const T=qe(y),N=v.customData._serverResponse,H=(N.mfaInfo||[]).map(Fe=>an._fromServerResponse(T,Fe));se(N.mfaPendingCredential,T,"internal-error");const ye=Yo._fromMfaPendingCredential(N.mfaPendingCredential);return new Id(ye,H,function(){var Fe=(0,a.Z)(function*(dt){const bt=yield dt._process(T,ye);delete N.mfaInfo,delete N.mfaPendingCredential;const Bt=Object.assign(Object.assign({},N),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(v.operationType){case"signIn":const dn=yield di._fromIdTokenResponse(T,v.operationType,Bt);return yield T._updateCurrentUser(dn.user),dn;case"reauthenticate":return se(v.user,T,"internal-error"),di._forOperation(v.user,v.operationType,Bt);default:Ge(T,"internal-error")}});return function(dt){return Fe.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,a.Z)(function*(){return v.signInResolver(y)})()}}function gc(E,y){var v;const T=(0,L.m9)(E),N=y;return se(y.customData.operationType,T,"argument-error"),se(null===(v=N.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,T,"argument-error"),Id._fromError(T,N)}class Rl{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(T=>an._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new Rl(y)}getSession(){var y=this;return(0,a.Z)(function*(){return Yo._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,v){var T=this;return(0,a.Z)(function*(){const N=y,H=yield T.getSession(),ye=yield mn(T.user,N._process(T.user.auth,H,v));return yield T.user._updateTokensIfNecessary(ye),T.user.reload()})()}unenroll(y){var v=this;return(0,a.Z)(function*(){const T="string"==typeof y?y:y.uid,N=yield v.user.getIdToken();try{const H=yield mn(v.user,function Ka(E,y){return jt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(E,y))}(v.user.auth,{idToken:N,mfaEnrollmentId:T}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ye})=>ye!==T),yield v.user._updateTokensIfNecessary(H),yield v.user.reload()}catch(H){throw H}})()}}const Qa=new WeakMap;function Pl(E){const y=(0,L.m9)(E);return Qa.has(y)||Qa.set(y,Rl._fromUser(y)),Qa.get(y)}const _c="__sak";class yc{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const bu=(()=>{class E extends yc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,T)=>this.onStorageEvent(v,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sd(){const E=(0,L.z$)();return We(E)||qn(E)}()&&function _s(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ir(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const T of Object.keys(this.listeners)){const N=this.storage.getItem(T),H=this.localCache[T];N!==H&&v(T,H,N)}}onStorageEvent(v,T=!1){if(!v.key)return void this.forAllChangedKeys((Fe,dt,bt)=>{this.notifyListeners(Fe,bt)});const N=v.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(N);if(v.newValue!==Fe)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!T)return}const H=()=>{const Fe=this.storage.getItem(N);!T&&this.localCache[N]===Fe||this.notifyListeners(N,Fe)},ye=this.storage.getItem(N);!function zi(){return(0,L.w1)()&&10===document.documentMode}()||ye===v.newValue||v.newValue===v.oldValue?H():setTimeout(H,10)}notifyListeners(v,T){this.localCache[v]=T;const N=this.listeners[v];if(N)for(const H of Array.from(N))H(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,T,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:T,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(T)}_removeListener(v,T){this.listeners[v]&&(this.listeners[v].delete(T),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,T){var N=()=>super._set,H=this;return(0,a.Z)(function*(){yield N().call(H,v,T),H.localCache[v]=JSON.stringify(T)})()}_get(v){var T=()=>super._get,N=this;return(0,a.Z)(function*(){const H=yield T().call(N,v);return N.localCache[v]=JSON.stringify(H),H})()}_remove(v){var T=()=>super._remove,N=this;return(0,a.Z)(function*(){yield T().call(N,v),delete N.localCache[v]})()}}return E.type="LOCAL",E})(),is=(()=>{class E extends yc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,T){}_removeListener(v,T){}}return E.type="SESSION",E})();let kd=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const T=this.receivers.find(H=>H.isListeningto(v));if(T)return T;const N=new E(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var T=this;return(0,a.Z)(function*(){const N=v,{eventId:H,eventType:ye,data:Fe}=N.data,dt=T.handlersMap[ye];if(!dt?.size)return;N.ports[0].postMessage({status:"ack",eventId:H,eventType:ye});const bt=Array.from(dt).map(function(){var dn=(0,a.Z)(function*(as){return as(N.origin,Fe)});return function(as){return dn.apply(this,arguments)}}()),Bt=yield function Lf(E){return Promise.all(E.map(function(){var y=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(T){return{fulfilled:!1,reason:T}}});return function(v){return y.apply(this,arguments)}}()))}(bt);N.ports[0].postMessage({status:"done",eventId:H,eventType:ye,response:Bt})})()}_subscribe(v,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(T)}_unsubscribe(v,T){this.handlersMap[v]&&T&&this.handlersMap[v].delete(T),(!T||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Eo(E="",y=10){let v="";for(let T=0;T<y;T++)v+=Math.floor(10*Math.random());return E+v}class Vf{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,T=50){var N=this;return(0,a.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ye,Fe;return new Promise((dt,bt)=>{const Bt=Eo("",20);H.port1.start();const dn=setTimeout(()=>{bt(new Error("unsupported_event"))},T);Fe={messageChannel:H,onMessage(as){const xa=as;if(xa.data.eventId===Bt)switch(xa.data.status){case"ack":clearTimeout(dn),ye=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),dt(xa.data.response);break;default:clearTimeout(dn),clearTimeout(ye),bt(new Error("invalid_response"))}}},N.handlers.add(Fe),H.port1.addEventListener("message",Fe.onMessage),N.target.postMessage({eventType:y,eventId:Bt,data:v},[H.port2])}).finally(()=>{Fe&&N.removeMessageHandler(Fe)})})()}}function Fi(){return window}function vu(){return typeof Fi().WorkerGlobalScope<"u"&&"function"==typeof Fi().importScripts}function vc(){return(vc=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ki="firebaseLocalStorageDb",Ol=1,hi="firebaseLocalStorage",$m="fbase_key";class ya{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Cu(E,y){return E.transaction([hi],y?"readwrite":"readonly").objectStore(hi)}function Rd(){const E=indexedDB.open(Ki,Ol);return new Promise((y,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(hi,{keyPath:$m})}catch(N){v(N)}}),E.addEventListener("success",(0,a.Z)(function*(){const T=E.result;T.objectStoreNames.contains(hi)?y(T):(T.close(),yield function Nl(){const E=indexedDB.deleteDatabase(Ki);return new ya(E).toPromise()}(),y(yield Rd()))}))})}function Pd(E,y,v){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(E,y,v){const T=Cu(E,!0).put({[$m]:y,value:v});return new ya(T).toPromise()})).apply(this,arguments)}function Xa(){return(Xa=(0,a.Z)(function*(E,y){const v=Cu(E,!1).get(y),T=yield new ya(v).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function wc(E,y){const v=Cu(E,!0).delete(y);return new ya(v).toPromise()}const Od=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield Rd()),v.db})()}_withRetries(v){var T=this;return(0,a.Z)(function*(){let N=0;for(;;)try{const H=yield T._openDb();return yield v(H)}catch(H){if(N++>3)throw H;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return vu()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=kd._getInstance(function wu(){return vu()?self:null}()),v.receiver._subscribe("keyChanged",function(){var T=(0,a.Z)(function*(N,H){return{keyProcessed:(yield v._poll()).includes(H.key)}});return function(N,H){return T.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var T=(0,a.Z)(function*(N,H){return["keyChanged"]});return function(N,H){return T.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var T,N;if(v.activeServiceWorker=yield function Bf(){return vc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Vf(v.activeServiceWorker);const H=yield v.sender._send("ping",{},800);H&&null!==(T=H[0])&&void 0!==T&&T.fulfilled&&null!==(N=H[0])&&void 0!==N&&N.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var T=this;return(0,a.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Uf(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:v},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Rd();return yield Pd(v,_c,"1"),yield wc(v,_c),!0}catch{}return!1})()}_withPendingWrite(v){var T=this;return(0,a.Z)(function*(){T.pendingWrites++;try{yield v()}finally{T.pendingWrites--}})()}_set(v,T){var N=this;return(0,a.Z)(function*(){return N._withPendingWrite((0,a.Z)(function*(){return yield N._withRetries(H=>Pd(H,v,T)),N.localCache[v]=T,N.notifyServiceWorker(v)}))})()}_get(v){var T=this;return(0,a.Z)(function*(){const N=yield T._withRetries(H=>function Wm(E,y){return Xa.apply(this,arguments)}(H,v));return T.localCache[v]=N,N})()}_remove(v){var T=this;return(0,a.Z)(function*(){return T._withPendingWrite((0,a.Z)(function*(){return yield T._withRetries(N=>wc(N,v)),delete T.localCache[v],T.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const T=yield v._withRetries(ye=>{const Fe=Cu(ye,!1).getAll();return new ya(Fe).toPromise()});if(!T)return[];if(0!==v.pendingWrites)return[];const N=[],H=new Set;for(const{fbase_key:ye,value:Fe}of T)H.add(ye),JSON.stringify(v.localCache[ye])!==JSON.stringify(Fe)&&(v.notifyListeners(ye,Fe),N.push(ye));for(const ye of Object.keys(v.localCache))v.localCache[ye]&&!H.has(ye)&&(v.notifyListeners(ye,null),N.push(ye));return N})()}notifyListeners(v,T){this.localCache[v]=T;const N=this.listeners[v];if(N)for(const H of Array.from(N))H(T)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(T)}_removeListener(v,T){this.listeners[v]&&(this.listeners[v].delete(T),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Nd=1e12;class jf{constructor(y){this.auth=y,this.counter=Nd,this._widgets=new Map}render(y,v){const T=this.counter;return this._widgets.set(T,new Fd(y,this.auth.name,v||{})),this.counter++,T}reset(y){var v;const T=y||Nd;null===(v=this._widgets.get(T))||void 0===v||v.delete(),this._widgets.delete(T)}getResponse(y){var v;return(null===(v=this._widgets.get(y||Nd))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,a.Z)(function*(){var T;return null===(T=v._widgets.get(y||Nd))||void 0===T||T.execute(),""})()}}class Fd{constructor(y,v,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof y?document.getElementById(y):y;se(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ld(E){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<E;T++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ym=Yi("rcb"),M0=new He(3e4,6e4);class nl{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Fi().grecaptcha)||void 0===y||!y.render)}load(y,v=""){return se(function R0(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(v),y,"argument-error"),this.shouldResolveImmediately(v)&&Yt(Fi().grecaptcha)?Promise.resolve(Fi().grecaptcha):new Promise((T,N)=>{const H=Fi().setTimeout(()=>{N(Ne(y,"network-request-failed"))},M0.get());Fi()[Ym]=()=>{Fi().clearTimeout(H),delete Fi()[Ym];const Fe=Fi().grecaptcha;if(!Fe||!Yt(Fe))return void N(Ne(y,"internal-error"));const dt=Fe.render;Fe.render=(bt,Bt)=>{const dn=dt(bt,Bt);return this.counter++,dn},this.hostLanguage=v,T(Fe)},vn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Ym,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(H),N(Ne(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var v;return!(null===(v=Fi().grecaptcha)||void 0===v||!v.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zm{load(y){return(0,a.Z)(function*(){return new jf(y)})()}clearedOneInstance(){}}const Qi="recaptcha",xu={theme:"light",type:"image"};class Du{constructor(y,v=Object.assign({},xu),T){this.parameters=v,this.type=Qi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qe(T),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof y?document.getElementById(y):y;se(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zm:new nl,this.validateStartingState()}verify(){var y=this;return(0,a.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(v)||new Promise(H=>{const ye=Fe=>{Fe&&(y.tokenChangeListeners.delete(ye),H(Fe))};y.tokenChangeListeners.add(ye),y.isInvisible&&T.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(T=>T(v)),"function"==typeof y)y(v);else if("string"==typeof y){const T=Fi()[y];"function"==typeof T&&T(v)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,a.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const T=document.createElement("div");v.appendChild(T),v=T}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,a.Z)(function*(){se(De()&&!vu(),y.auth,"internal-error"),yield function Vd(){let E=null;return new Promise(y=>{"complete"!==document.readyState?(E=()=>y(),window.addEventListener("load",E)):y()}).catch(y=>{throw E&&window.removeEventListener("load",E),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function ze(E){return Ce.apply(this,arguments)}(y.auth);se(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ms{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=da._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function va(E,y,v){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,a.Z)(function*(E,y,v){const T=qe(E),N=yield xc(T,y,(0,L.m9)(v));return new Ms(N,H=>rn(T,H))})).apply(this,arguments)}function Cc(E,y,v){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E);yield uc(!1,T,"phone");const N=yield xc(T.auth,y,(0,L.m9)(v));return new Ms(N,H=>zm(T,H))})).apply(this,arguments)}function Gf(E,y,v){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E),N=yield xc(T.auth,y,(0,L.m9)(v));return new Ms(N,H=>bd(T,H))})).apply(this,arguments)}function xc(E,y,v){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,a.Z)(function*(E,y,v){var T;const N=yield v.verify();try{let H;if(se("string"==typeof N,E,"argument-error"),se(v.type===Qi,E,"argument-error"),H="string"==typeof y?{phoneNumber:y}:y,"session"in H){const ye=H.session;if("phoneNumber"in H)return se("enroll"===ye.type,E,"internal-error"),(yield function yu(E,y){return jt(E,"POST","/v2/accounts/mfaEnrollment:start",rt(E,y))}(E,{idToken:ye.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{se("signin"===ye.type,E,"internal-error");const Fe=(null===(T=H.multiFactorHint)||void 0===T?void 0:T.uid)||H.multiFactorUid;return se(Fe,E,"missing-multi-factor-info"),(yield function Hf(E,y){return jt(E,"POST","/v2/accounts/mfaSignIn:start",rt(E,y))}(E,{mfaPendingCredential:ye.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ye}=yield function Py(E,y){return df.apply(this,arguments)}(E,{phoneNumber:H.phoneNumber,recaptchaToken:N});return ye}}finally{v._reset()}}),Tu.apply(this,arguments)}function Us(E,y){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(E,y){yield ns((0,L.m9)(E),y)})).apply(this,arguments)}let Ll=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=qe(v)}verifyPhoneNumber(v,T){return xc(this.auth,v,(0,L.m9)(T))}static credential(v,T){return da._fromVerification(v,T)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:T,temporaryProof:N}=v;return T&&N?da._fromTokenResponse(T,N):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function wa(E,y){return y?ui(y):(se(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class xo extends Sr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return ua(y,this._buildIdpRequest())}_linkToIdToken(y,v){return ua(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return ua(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function zt(E){return dc(E.auth,new xo(E),E.bypassAuthState)}function il(E){const{auth:y,user:v}=E;return se(v,y,"internal-error"),vf(v,new xo(E),E.bypassAuthState)}function fi(E){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(E){const{auth:y,user:v}=E;return se(v,y,"internal-error"),ns(v,new xo(E),E.bypassAuthState)})).apply(this,arguments)}class Di{constructor(y,v,T,N,H=!1){this.auth=y,this.resolver=T,this.user=N,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,a.Z)(function*(T,N){y.pendingPromise={resolve:T,reject:N};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(H){y.reject(H)}});return function(T,N){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,a.Z)(function*(){const{urlResponse:T,sessionId:N,postBody:H,tenantId:ye,error:Fe,type:dt}=y;if(Fe)return void v.reject(Fe);const bt={auth:v.auth,requestUri:T,sessionId:N,tenantId:ye||void 0,postBody:H||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(dt)(bt))}catch(Bt){v.reject(Bt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return zt;case"linkViaPopup":case"linkViaRedirect":return fi;case"reauthViaPopup":case"reauthViaRedirect":return il;default:Ge(this.auth,"internal-error")}}resolve(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hs=new He(2e3,1e4);function rs(E,y,v){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,a.Z)(function*(E,y,v){const T=qe(E);Be(E,y,vo);const N=wa(T,v);return new Ud(T,"signInViaPopup",y,N).executeNotNull()})).apply(this,arguments)}function Li(E,y,v){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E);Be(T.auth,y,vo);const N=wa(T.auth,v);return new Ud(T.auth,"reauthViaPopup",y,N,T).executeNotNull()})).apply(this,arguments)}function ii(E,y,v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E);Be(T.auth,y,vo);const N=wa(T.auth,v);return new Ud(T.auth,"linkViaPopup",y,N,T).executeNotNull()})).apply(this,arguments)}let Ud=(()=>{class E extends Di{constructor(v,T,N,H,ye){super(v,T,H,ye),this.provider=N,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const T=yield v.execute();return se(T,v.auth,"internal-error"),T})()}onExecution(){var v=this;return(0,a.Z)(function*(){ve(1===v.filter.length,"Popup operations only handle one event");const T=Eo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],T),v.authWindow.associatedEvent=T,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(Ne(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var T,N;this.pollId=null!==(N=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Hs.get())};v()}}return E.currentPopupAction=null,E})();const $f="pendingRedirect",so=new Map;class Iu extends Di{constructor(y,v,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,a.Z)(function*(){let T=so.get(v.auth._key());if(!T){try{const H=(yield function Km(E,y){return Ca.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;T=()=>Promise.resolve(H)}catch(N){T=()=>Promise.reject(N)}so.set(v.auth._key(),T)}return v.bypassAuthState||so.set(v.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,T=this;return(0,a.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(T,y);if("unknown"!==y.type){if(y.eventId){const N=yield T.auth._redirectUserForId(y.eventId);if(N)return T.user=N,v().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ca(){return(Ca=(0,a.Z)(function*(E,y){const v=qf(y),T=Wf(E);if(!(yield T._isAvailable()))return!1;const N="true"===(yield T._get(v));return yield T._remove(v),N})).apply(this,arguments)}function li(E,y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(E,y){return Wf(E)._set(qf(y),"true")})).apply(this,arguments)}function si(){so.clear()}function Su(E,y){so.set(E._key(),y)}function Wf(E){return ui(E._redirectPersistence)}function qf(E){return pr($f,E.config.apiKey,E.name)}function Vl(E,y,v){return function Zo(E,y,v){return Br.apply(this,arguments)}(E,y,v)}function Br(){return(Br=(0,a.Z)(function*(E,y,v){const T=qe(E);Be(E,y,vo),yield T._initializationPromise;const N=wa(T,v);return yield li(N,T),N._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function Yf(E,y,v){return function Hd(E,y,v){return Yn.apply(this,arguments)}(E,y,v)}function Yn(){return(Yn=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E);Be(T.auth,y,vo),yield T.auth._initializationPromise;const N=wa(T.auth,v);yield li(N,T.auth);const H=yield zd(T);return N._openRedirect(T.auth,y,"reauthViaRedirect",H)})).apply(this,arguments)}function Do(E,y,v){return function Bl(E,y,v){return Dc.apply(this,arguments)}(E,y,v)}function Dc(){return(Dc=(0,a.Z)(function*(E,y,v){const T=(0,L.m9)(E);Be(T.auth,y,vo),yield T.auth._initializationPromise;const N=wa(T.auth,v);yield uc(!1,T,y.providerId),yield li(N,T.auth);const H=yield zd(T);return N._openRedirect(T.auth,y,"linkViaRedirect",H)})).apply(this,arguments)}function P0(E,y){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,a.Z)(function*(E,y){return yield qe(E)._initializationPromise,Au(E,y,!1)})).apply(this,arguments)}function Au(E,y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,a.Z)(function*(E,y,v=!1){const T=qe(E),N=wa(T,y),ye=yield new Iu(T,N,v).execute();return ye&&!v&&(delete ye.user._redirectEventId,yield T._persistUserIfCurrent(ye.user),yield T._setRedirectUser(null,y)),ye})).apply(this,arguments)}function zd(E){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(E){const y=Eo(`${E.uid}:::`);return E._redirectEventId=y,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),y})).apply(this,arguments)}class jd{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(v=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Qm(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kf(E);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var T;if(y.error&&!Kf(y)){const N=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";v.onError(Ne(this.auth,N))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const T=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sc(y))}saveEventToCache(y){this.cachedEventUids.add(Sc(y)),this.lastProcessedEventTime=Date.now()}}function Sc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(y=>y).join("-")}function Kf({type:E,error:y}){return"unknown"===E&&"auth/no-auth-event"===y?.code}function ku(E){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,a.Z)(function*(E,y={}){return jt(E,"GET","/v1/projects",y)})).apply(this,arguments)}const CD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O0=/^https?/;function Xi(){return(Xi=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:y}=yield ku(E);for(const v of y)try{if(Ac(v))return}catch{}Ge(E,"unauthorized-domain")})).apply(this,arguments)}function Ac(E){const y=be(),{protocol:v,hostname:T}=new URL(y);if(E.startsWith("chrome-extension://")){const ye=new URL(E);return""===ye.hostname&&""===T?"chrome-extension:"===v&&E.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&ye.hostname===T}if(!O0.test(v))return!1;if(CD.test(E))return T===E;const N=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(T)}const _e=new He(3e4,6e4);function zs(){const E=Fi().___jsl;if(E?.H)for(const y of Object.keys(E.H))if(E.H[y].r=E.H[y].r||[],E.H[y].L=E.H[y].L||[],E.H[y].r=[...E.H[y].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let Mc=null;const Ti=new He(5e3,15e3),Ea="__/auth/iframe",kc="emulator/auth/iframe",Qf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xm(E){const y=E.config;se(y.authDomain,E,"auth-domain-config-required");const v=y.emulator?Le(y,kc):`https://${E.config.authDomain}/${Ea}`,T={apiKey:y.apiKey,appName:E.name,v:B.SDK_VERSION},N=Xf.get(E.config.apiHost);N&&(T.eid=N);const H=E._getFrameworks();return H.length&&(T.fw=H.join(",")),`${v}?${(0,L.xO)(T).slice(1)}`}function Ru(){return Ru=(0,a.Z)(function*(E){const y=yield function rl(E){return Mc=Mc||function js(E){return new Promise((y,v)=>{var T,N,H;function ye(){zs(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{zs(),v(Ne(E,"network-request-failed"))},timeout:_e.get()})}if(null!==(N=null===(T=Fi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==N&&N.Iframe)y(gapi.iframes.getContext());else{if(null===(H=Fi().gapi)||void 0===H||!H.load){const Fe=Yi("iframefcb");return Fi()[Fe]=()=>{gapi.load?ye():v(Ne(E,"network-request-failed"))},vn(`https://apis.google.com/js/api.js?onload=${Fe}`).catch(dt=>v(dt))}ye()}}).catch(y=>{throw Mc=null,y})}(E),Mc}(E),v=Fi().gapi;return se(v,E,"internal-error"),y.open({where:document.body,url:Xm(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qf,dontclear:!0},T=>new Promise(function(){var N=(0,a.Z)(function*(H,ye){yield T.restyle({setHideOnLeave:!1});const Fe=Ne(E,"network-request-failed"),dt=Fi().setTimeout(()=>{ye(Fe)},Ti.get());function bt(){Fi().clearTimeout(dt),H(T)}T.ping(bt).then(bt,()=>{ye(Fe)})});return function(H,ye){return N.apply(this,arguments)}}()))}),Ru.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S=500,O=600,q="_blank",ae="http://localhost";class fe{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pt="__/auth/handler",kt="emulator/auth/handler",Xt=encodeURIComponent("fac");function sn(E,y,v,T,N,H){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(E,y,v,T,N,H){se(E.config.authDomain,E,"auth-domain-config-required"),se(E.config.apiKey,E,"invalid-api-key");const ye={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:T,v:B.SDK_VERSION,eventId:N};if(y instanceof vo){y.setDefaultLanguage(E.languageCode),ye.providerId=y.providerId||"",(0,L.xb)(y.getCustomParameters())||(ye.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Bt,dn]of Object.entries(H||{}))ye[Bt]=dn}if(y instanceof lc){const Bt=y.getScopes().filter(dn=>""!==dn);Bt.length>0&&(ye.scopes=Bt.join(","))}E.tenantId&&(ye.tid=E.tenantId);const Fe=ye;for(const Bt of Object.keys(Fe))void 0===Fe[Bt]&&delete Fe[Bt];const dt=yield E._getAppCheckToken(),bt=dt?`#${Xt}=${encodeURIComponent(dt)}`:"";return`${function yr({config:E}){return E.emulator?Le(E,kt):`https://${E.authDomain}/${pt}`}(E)}?${(0,L.xO)(Fe).slice(1)}${bt}`})).apply(this,arguments)}const sl="webStorageSupport",To=class $d{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=is,this._completeRedirectFn=Au,this._overrideRedirectResult=Su}_openPopup(y,v,T,N){var H=this;return(0,a.Z)(function*(){var ye;ve(null===(ye=H.eventManagers[y._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Fe=yield sn(y,v,T,be(),N);return function Ve(E,y,v,T=S,N=O){const H=Math.max((window.screen.availHeight-N)/2,0).toString(),ye=Math.max((window.screen.availWidth-T)/2,0).toString();let Fe="";const dt=Object.assign(Object.assign({},D),{width:T.toString(),height:N.toString(),top:H,left:ye}),bt=(0,L.z$)().toLowerCase();v&&(Fe=Te(bt)?q:v),de(bt)&&(y=y||ae,dt.scrollbars="yes");const Bt=Object.entries(dt).reduce((as,[xa,np])=>`${as}${xa}=${np},`,"");if(function cn(E=(0,L.z$)()){var y;return qn(E)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(bt)&&"_self"!==Fe)return function _t(E,y){const v=document.createElement("a");v.href=E,v.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(T)}(y||"",Fe),new fe(null);const dn=window.open(y||"",Fe,Bt);se(dn,E,"popup-blocked");try{dn.focus()}catch{}return new fe(dn)}(y,Fe,Eo())})()}_openRedirect(y,v,T,N){var H=this;return(0,a.Z)(function*(){return yield H._originValidation(y),function _a(E){Fi().location.href=E}(yield sn(y,v,T,be(),N)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:N,promise:H}=this.eventManagers[v];return N?Promise.resolve(N):(ve(H,"If manager is not set, promise should be"),H)}const T=this.initAndGetManager(y);return this.eventManagers[v]={promise:T},T.catch(()=>{delete this.eventManagers[v]}),T}initAndGetManager(y){var v=this;return(0,a.Z)(function*(){const T=yield function Jf(E){return Ru.apply(this,arguments)}(y),N=new jd(y);return T.register("authEvent",H=>(se(H?.authEvent,y,"invalid-auth-event"),{status:N.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:N},v.iframes[y._key()]=T,N})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(sl,{type:sl},N=>{var H;const ye=null===(H=N?.[0])||void 0===H?void 0:H[sl];void 0!==ye&&v(!!ye),Ge(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function xt(E){return Xi.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ir()||We()||qn()}};class vs{constructor(y){this.factorId=y}_process(y,v,T){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,T);case"signin":return this._finalizeSignIn(y,v.credential);default:return le("unexpected MultiFactorSessionType")}}}class os extends vs{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new os(y)}_finalizeEnroll(y,v,T){return function kl(E,y){return jt(E,"POST","/v2/accounts/mfaEnrollment:finalize",rt(E,y))}(y,{idToken:v,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function tl(E,y){return jt(E,"POST","/v2/accounts/mfaSignIn:finalize",rt(E,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wd=(()=>{class E{constructor(){}static assertion(v){return os._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var qd="@firebase/auth";class Rc{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(T=>{y(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);v&&(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const tg=(0,L.Pz)("authIdTokenMaxAge")||300;let tp=null;const ng=E=>function(){var y=(0,a.Z)(function*(v){const T=v&&(yield v.getIdTokenResult()),N=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(N&&N>tg)return;const H=T?.token;tp!==H&&(tp=H,yield fetch(E,{method:H?"POST":"DELETE",headers:H?{Authorization:`Bearer ${H}`}:{}}))});return function(v){return y.apply(this,arguments)}}();function N0(E=(0,B.getApp)()){const y=(0,B._getProvider)(E,"auth");if(y.isInitialized())return y.getImmediate();const v=function Dt(E,y){const v=(0,B._getProvider)(E,"auth");if(v.isInitialized()){const N=v.getImmediate(),H=v.getOptions();if((0,L.vZ)(H,y??{}))return N;Ge(N,"already-initialized")}return v.initialize({options:y})}(E,{popupRedirectResolver:To,persistence:[Od,bu,is]}),T=(0,L.Pz)("authTokenSyncURL");if(T){const H=ng(T);(function Ml(E,y,v){(0,L.m9)(E).beforeAuthStateChanged(y,v)})(v,H,()=>H(v.currentUser)),function gu(E,y,v,T){(0,L.m9)(E).onIdTokenChanged(y,v,T)}(v,ye=>H(ye))}const N=(0,L.q4)("auth");return N&&Zt(v,`http://${N}`),v}!function eg(E){(0,B._registerComponent)(new j.wA("auth",(y,{options:v})=>{const T=y.getProvider("app").getImmediate(),N=y.getProvider("heartbeat"),H=y.getProvider("app-check-internal"),{apiKey:ye,authDomain:Fe}=T.options;se(ye&&!ye.includes(":"),"invalid-api-key",{appName:T.name});const dt={apiKey:ye,authDomain:Fe,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aa(E)},bt=new ce(T,N,H,dt);return function Ot(E,y){const v=y?.persistence||[],T=(Array.isArray(v)?v:[v]).map(ui);y?.errorMap&&E._updateErrorMap(y.errorMap),E._initializeWithPersistence(T,y?.popupRedirectResolver)}(bt,v),bt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,T)=>{y.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new j.wA("auth-internal",y=>{const v=qe(y.getProvider("auth").getImmediate());return new Rc(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(qd,"0.23.2",function Zd(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,B.registerVersion)(qd,"0.23.2","esm2017")}("Browser")},2090:(tt,ee,F)=>{"use strict";F.d(ee,{$s:()=>ui,BH:()=>Se,DV:()=>Ls,GJ:()=>Jr,L:()=>me,LL:()=>Lt,P0:()=>Re,Pz:()=>Ne,Sg:()=>Be,UG:()=>le,UI:()=>Mi,US:()=>j,Wl:()=>En,Yr:()=>He,ZB:()=>ne,ZR:()=>jt,aH:()=>Ge,b$:()=>De,cI:()=>Rt,dS:()=>Ss,eu:()=>$e,g5:()=>B,gK:()=>hr,gQ:()=>Ln,h$:()=>Q,hl:()=>Je,hu:()=>L,jU:()=>ve,m9:()=>pr,ne:()=>mn,p$:()=>J,pd:()=>Is,q4:()=>ke,r3:()=>Fs,ru:()=>be,tV:()=>K,uI:()=>se,ug:()=>_n,vZ:()=>At,w1:()=>X,w9:()=>Nr,xO:()=>ki,xb:()=>oa,z$:()=>Oe,zI:()=>ct,zd:()=>ur});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},L=function(oe,te){if(!oe)throw B(te)},B=function(oe){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+oe)},z=function(oe){const te=[];let de=0;for(let We=0;We<oe.length;We++){let Te=oe.charCodeAt(We);Te<128?te[de++]=Te:Te<2048?(te[de++]=Te>>6|192,te[de++]=63&Te|128):55296==(64512&Te)&&We+1<oe.length&&56320==(64512&oe.charCodeAt(We+1))?(Te=65536+((1023&Te)<<10)+(1023&oe.charCodeAt(++We)),te[de++]=Te>>18|240,te[de++]=Te>>12&63|128,te[de++]=Te>>6&63|128,te[de++]=63&Te|128):(te[de++]=Te>>12|224,te[de++]=Te>>6&63|128,te[de++]=63&Te|128)}return te},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Te=0;Te<oe.length;Te+=3){const st=oe[Te],Gt=Te+1<oe.length,kn=Gt?oe[Te+1]:0,ri=Te+2<oe.length,qn=ri?oe[Te+2]:0;let zi=(15&kn)<<2|qn>>6,Ir=63&qn;ri||(Ir=64,Gt||(zi=64)),We.push(de[st>>2],de[(3&st)<<4|kn>>4],de[zi],de[Ir])}return We.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(z(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let de=0,We=0;for(;de<oe.length;){const Te=oe[de++];if(Te<128)te[We++]=String.fromCharCode(Te);else if(Te>191&&Te<224){const st=oe[de++];te[We++]=String.fromCharCode((31&Te)<<6|63&st)}else if(Te>239&&Te<365){const ri=((7&Te)<<18|(63&oe[de++])<<12|(63&oe[de++])<<6|63&oe[de++])-65536;te[We++]=String.fromCharCode(55296+(ri>>10)),te[We++]=String.fromCharCode(56320+(1023&ri))}else{const st=oe[de++],Gt=oe[de++];te[We++]=String.fromCharCode((15&Te)<<12|(63&st)<<6|63&Gt)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const de=te?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Te=0;Te<oe.length;){const st=de[oe.charAt(Te++)],kn=Te<oe.length?de[oe.charAt(Te)]:0;++Te;const qn=Te<oe.length?de[oe.charAt(Te)]:64;++Te;const cn=Te<oe.length?de[oe.charAt(Te)]:64;if(++Te,null==st||null==kn||null==qn||null==cn)throw new Z;We.push(st<<2|kn>>4),64!==qn&&(We.push(kn<<4&240|qn>>2),64!==cn&&We.push(qn<<6&192|cn))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(oe){const te=z(oe);return j.encodeByteArray(te,!0)},me=function(oe){return Q(oe).replace(/\./g,"")},K=function(oe){try{return j.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function J(oe){return ne(void 0,oe)}function ne(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const de in te)!te.hasOwnProperty(de)||!Pe(de)||(oe[de]=ne(oe[de],te[de]));return oe}function Pe(oe){return"__proto__"!==oe}const xe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=oe&&K(oe[1]);return te&&JSON.parse(te)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},ke=oe=>{var te,de;return null===(de=null===(te=xe())||void 0===te?void 0:te.emulatorHosts)||void 0===de?void 0:de[oe]},Re=oe=>{const te=ke(oe);if(!te)return;const de=te.lastIndexOf(":");if(de<=0||de+1===te.length)throw new Error(`Invalid host ${te} with no separate hostname and port!`);const We=parseInt(te.substring(de+1),10);return"["===te[0]?[te.substring(1,de-1),We]:[te.substring(0,de),We]},Ge=()=>{var oe;return null===(oe=xe())||void 0===oe?void 0:oe.config},Ne=oe=>{var te;return null===(te=xe())||void 0===te?void 0:te[`_${oe}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,de)=>{this.resolve=te,this.reject=de})}wrapCallback(te){return(de,We)=>{de?this.reject(de):this.resolve(We),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(de):te(de,We))}}}function Be(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=te||"demo-project",Te=oe.iat||0,st=oe.sub||oe.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Te,exp:Te+3600,auth_time:Te,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Gt)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function le(){var oe;const te=null===(oe=xe())||void 0===oe?void 0:oe.forceEnvironment;if("node"===te)return!0;if("browser"===te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function be(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const oe=Oe();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function He(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((oe,te)=>{try{let de=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(We);Te.onsuccess=()=>{Te.result.close(),de||self.indexedDB.deleteDatabase(We),oe(!0)},Te.onupgradeneeded=()=>{de=!1},Te.onerror=()=>{var st;te((null===(st=Te.error)||void 0===st?void 0:st.message)||"")}}catch(de){te(de)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class jt extends Error{constructor(te,de,We){super(de),this.code=te,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(te,de,We){this.service=te,this.serviceName=de,this.errors=We}create(te,...de){const We=de[0]||{},Te=`${this.service}/${te}`,st=this.errors[te],Gt=st?function en(oe,te){return oe.replace(ft,(de,We)=>{const Te=te[We];return null!=Te?String(Te):`<${We}?>`})}(st,We):"Error";return new jt(Te,`${this.serviceName}: ${Gt} (${Te}).`,We)}}const ft=/\{\$([^}]+)}/g;function Rt(oe){return JSON.parse(oe)}function En(oe){return JSON.stringify(oe)}const Dn=function(oe){let te={},de={},We={},Te="";try{const st=oe.split(".");te=Rt(K(st[0])||""),de=Rt(K(st[1])||""),Te=st[2],We=de.d||{},delete de.d}catch{}return{header:te,claims:de,data:We,signature:Te}},Nr=function(oe){const de=Dn(oe).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Jr=function(oe){const te=Dn(oe).claims;return"object"==typeof te&&!0===te.admin};function Fs(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function Ls(oe,te){if(Object.prototype.hasOwnProperty.call(oe,te))return oe[te]}function oa(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function Mi(oe,te,de){const We={};for(const Te in oe)Object.prototype.hasOwnProperty.call(oe,Te)&&(We[Te]=te.call(de,oe[Te],Te,oe));return We}function At(oe,te){if(oe===te)return!0;const de=Object.keys(oe),We=Object.keys(te);for(const Te of de){if(!We.includes(Te))return!1;const st=oe[Te],Gt=te[Te];if(yo(st)&&yo(Gt)){if(!At(st,Gt))return!1}else if(st!==Gt)return!1}for(const Te of We)if(!de.includes(Te))return!1;return!0}function yo(oe){return null!==oe&&"object"==typeof oe}function ki(oe){const te=[];for(const[de,We]of Object.entries(oe))Array.isArray(We)?We.forEach(Te=>{te.push(encodeURIComponent(de)+"="+encodeURIComponent(Te))}):te.push(encodeURIComponent(de)+"="+encodeURIComponent(We));return te.length?"&"+te.join("&"):""}function ur(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Te,st]=We.split("=");te[decodeURIComponent(Te)]=decodeURIComponent(st)}}),te}function Is(oe){const te=oe.indexOf("?");if(!te)return"";const de=oe.indexOf("#",te);return oe.substring(te,de>0?de:void 0)}class Ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let te=1;te<this.blockSize;++te)this.pad_[te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(te,de){de||(de=0);const We=this.W_;if("string"==typeof te)for(let cn=0;cn<16;cn++)We[cn]=te.charCodeAt(de)<<24|te.charCodeAt(de+1)<<16|te.charCodeAt(de+2)<<8|te.charCodeAt(de+3),de+=4;else for(let cn=0;cn<16;cn++)We[cn]=te[de]<<24|te[de+1]<<16|te[de+2]<<8|te[de+3],de+=4;for(let cn=16;cn<80;cn++){const zi=We[cn-3]^We[cn-8]^We[cn-14]^We[cn-16];We[cn]=4294967295&(zi<<1|zi>>>31)}let qn,Rn,Te=this.chain_[0],st=this.chain_[1],Gt=this.chain_[2],kn=this.chain_[3],ri=this.chain_[4];for(let cn=0;cn<80;cn++){cn<40?cn<20?(qn=kn^st&(Gt^kn),Rn=1518500249):(qn=st^Gt^kn,Rn=1859775393):cn<60?(qn=st&Gt|kn&(st|Gt),Rn=2400959708):(qn=st^Gt^kn,Rn=3395469782);const zi=(Te<<5|Te>>>27)+qn+ri+Rn+We[cn]&4294967295;ri=kn,kn=Gt,Gt=4294967295&(st<<30|st>>>2),st=Te,Te=zi}this.chain_[0]=this.chain_[0]+Te&4294967295,this.chain_[1]=this.chain_[1]+st&4294967295,this.chain_[2]=this.chain_[2]+Gt&4294967295,this.chain_[3]=this.chain_[3]+kn&4294967295,this.chain_[4]=this.chain_[4]+ri&4294967295}update(te,de){if(null==te)return;void 0===de&&(de=te.length);const We=de-this.blockSize;let Te=0;const st=this.buf_;let Gt=this.inbuf_;for(;Te<de;){if(0===Gt)for(;Te<=We;)this.compress_(te,Te),Te+=this.blockSize;if("string"==typeof te){for(;Te<de;)if(st[Gt]=te.charCodeAt(Te),++Gt,++Te,Gt===this.blockSize){this.compress_(st),Gt=0;break}}else for(;Te<de;)if(st[Gt]=te[Te],++Gt,++Te,Gt===this.blockSize){this.compress_(st),Gt=0;break}}this.inbuf_=Gt,this.total_+=de}digest(){const te=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Te=this.blockSize-1;Te>=56;Te--)this.buf_[Te]=255&de,de/=256;this.compress_(this.buf_);let We=0;for(let Te=0;Te<5;Te++)for(let st=24;st>=0;st-=8)te[We]=this.chain_[Te]>>st&255,++We;return te}}function mn(oe,te){const de=new Pt(oe,te);return de.subscribe.bind(de)}class Pt{constructor(te,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{te(this)}).catch(We=>{this.error(We)})}next(te){this.forEachObserver(de=>{de.next(te)})}error(te){this.forEachObserver(de=>{de.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,de,We){let Te;if(void 0===te&&void 0===de&&void 0===We)throw new Error("Missing Observer.");Te=function dr(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const de of te)if(de in oe&&"function"==typeof oe[de])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:de,complete:We},void 0===Te.next&&(Te.next=xr),void 0===Te.error&&(Te.error=xr),void 0===Te.complete&&(Te.complete=xr);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Te.error(this.finalError):Te.complete()}catch{}}),this.observers.push(Te),st}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,te)}sendOne(te,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{de(this.observers[te])}catch(We){typeof console<"u"&&console.error&&console.error(We)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function hr(oe,te){return`${oe} failed: ${te} argument `}const Ss=function(oe){const te=[];let de=0;for(let We=0;We<oe.length;We++){let Te=oe.charCodeAt(We);if(Te>=55296&&Te<=56319){const st=Te-55296;We++,L(We<oe.length,"Surrogate pair missing trail surrogate."),Te=65536+(st<<10)+(oe.charCodeAt(We)-56320)}Te<128?te[de++]=Te:Te<2048?(te[de++]=Te>>6|192,te[de++]=63&Te|128):Te<65536?(te[de++]=Te>>12|224,te[de++]=Te>>6&63|128,te[de++]=63&Te|128):(te[de++]=Te>>18|240,te[de++]=Te>>12&63|128,te[de++]=Te>>6&63|128,te[de++]=63&Te|128)}return te},_n=function(oe){let te=0;for(let de=0;de<oe.length;de++){const We=oe.charCodeAt(de);We<128?te++:We<2048?te+=2:We>=55296&&We<=56319?(te+=4,de++):te+=3}return te},Tn=1e3,Dr=2,Ei=144e5,xi=.5;function ui(oe,te=Tn,de=Dr){const We=te*Math.pow(de,oe),Te=Math.round(xi*We*(Math.random()-.5)*2);return Math.min(Ei,We+Te)}function pr(oe){return oe&&oe._delegate?oe._delegate:oe}},4476:(tt,ee,F)=>{"use strict";var a=F(4650);let L=null;function B(){return L}class G{}const j=new a.OlP("DocumentToken");let Z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Q(){return(0,a.LFG)(K)}()},providedIn:"platform"}),n})();const me=new a.OlP("Location Initialized");let K=(()=>{class n extends Z{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){J()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){J()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ne(){return new K((0,a.LFG)(j))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let mt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(xe)},providedIn:"root"}),n})();const pe=new a.OlP("appBaseHref");let xe=(()=>{class n extends mt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Xe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Xe(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Xe(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Z),a.LFG(pe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n extends mt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Pe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Xe(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Xe(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Z),a.LFG(pe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Me(Se(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Xe(i))}normalize(t){return n.stripTrailingSlash(function Ne(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Se(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Pe,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(a.LFG(mt))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ge(){return new Re((0,a.LFG)(mt))}()},providedIn:"root"}),n})();function Se(n){return n.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Format=0]="Format",ve[ve.Standalone=1]="Standalone",ve))(),be=(()=>((be=be||{})[be.Narrow=0]="Narrow",be[be.Abbreviated=1]="Abbreviated",be[be.Wide=2]="Wide",be[be.Short=3]="Short",be))(),De=(()=>((De=De||{})[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function jt(n,e){return Mi((0,a.cg1)(n)[a.wAp.DateFormat],e)}function Lt(n,e){return Mi((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function en(n,e){return Mi((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function ft(n,e){const t=(0,a.cg1)(n),i=t[a.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ue.CurrencyDecimal)return t[a.wAp.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[a.wAp.NumberSymbols][ue.Group]}return i}function Jr(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function At(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ur=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Is={},Ln=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mn=(()=>((mn=mn||{})[mn.Short=0]="Short",mn[mn.ShortGMT=1]="ShortGMT",mn[mn.Long=2]="Long",mn[mn.Extended=3]="Extended",mn))(),Pt=(()=>((Pt=Pt||{})[Pt.FullYear=0]="FullYear",Pt[Pt.Month=1]="Month",Pt[Pt.Date=2]="Date",Pt[Pt.Hours=3]="Hours",Pt[Pt.Minutes=4]="Minutes",Pt[Pt.Seconds=5]="Seconds",Pt[Pt.FractionalSeconds=6]="FractionalSeconds",Pt[Pt.Day=7]="Day",Pt))(),nn=(()=>((nn=nn||{})[nn.DayPeriods=0]="DayPeriods",nn[nn.Days=1]="Days",nn[nn.Months=2]="Months",nn[nn.Eras=3]="Eras",nn))();function dr(n,e,t,i){let r=function Te(n){if(Gt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(l=>+l);return xr(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(ur))return function st(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,l=Number(n[5]||0)-i,d=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,l,d,f),e}(i)}const e=new Date(n);if(!Gt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ti(t,e)||e;let l,o=[];for(;e;){if(l=Ln.exec(e),!l){o.push(e);break}{o=o.concat(l.slice(1));const m=o.pop();if(!m)break;e=m}}let d=r.getTimezoneOffset();i&&(d=te(i,d),r=function We(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function de(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(te(e,r)-r))}(r,i,!0));let f="";return o.forEach(m=>{const _=function oe(n){if(pr[n])return pr[n];let e;switch(n){case"G":case"GG":case"GGG":e=_n(nn.Eras,be.Abbreviated);break;case"GGGG":e=_n(nn.Eras,be.Wide);break;case"GGGGG":e=_n(nn.Eras,be.Narrow);break;case"y":e=Wn(Pt.FullYear,1,0,!1,!0);break;case"yy":e=Wn(Pt.FullYear,2,0,!0,!0);break;case"yyy":e=Wn(Pt.FullYear,3,0,!1,!0);break;case"yyyy":e=Wn(Pt.FullYear,4,0,!1,!0);break;case"Y":e=qi(1);break;case"YY":e=qi(2,!0);break;case"YYY":e=qi(3);break;case"YYYY":e=qi(4);break;case"M":case"L":e=Wn(Pt.Month,1,1);break;case"MM":case"LL":e=Wn(Pt.Month,2,1);break;case"MMM":e=_n(nn.Months,be.Abbreviated);break;case"MMMM":e=_n(nn.Months,be.Wide);break;case"MMMMM":e=_n(nn.Months,be.Narrow);break;case"LLL":e=_n(nn.Months,be.Abbreviated,ve.Standalone);break;case"LLLL":e=_n(nn.Months,be.Wide,ve.Standalone);break;case"LLLLL":e=_n(nn.Months,be.Narrow,ve.Standalone);break;case"w":e=Tr(1);break;case"ww":e=Tr(2);break;case"W":e=Tr(1,!0);break;case"d":e=Wn(Pt.Date,1);break;case"dd":e=Wn(Pt.Date,2);break;case"c":case"cc":e=Wn(Pt.Day,1);break;case"ccc":e=_n(nn.Days,be.Abbreviated,ve.Standalone);break;case"cccc":e=_n(nn.Days,be.Wide,ve.Standalone);break;case"ccccc":e=_n(nn.Days,be.Narrow,ve.Standalone);break;case"cccccc":e=_n(nn.Days,be.Short,ve.Standalone);break;case"E":case"EE":case"EEE":e=_n(nn.Days,be.Abbreviated);break;case"EEEE":e=_n(nn.Days,be.Wide);break;case"EEEEE":e=_n(nn.Days,be.Narrow);break;case"EEEEEE":e=_n(nn.Days,be.Short);break;case"a":case"aa":case"aaa":e=_n(nn.DayPeriods,be.Abbreviated);break;case"aaaa":e=_n(nn.DayPeriods,be.Wide);break;case"aaaaa":e=_n(nn.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":e=_n(nn.DayPeriods,be.Abbreviated,ve.Standalone,!0);break;case"bbbb":e=_n(nn.DayPeriods,be.Wide,ve.Standalone,!0);break;case"bbbbb":e=_n(nn.DayPeriods,be.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":e=_n(nn.DayPeriods,be.Abbreviated,ve.Format,!0);break;case"BBBB":e=_n(nn.DayPeriods,be.Wide,ve.Format,!0);break;case"BBBBB":e=_n(nn.DayPeriods,be.Narrow,ve.Format,!0);break;case"h":e=Wn(Pt.Hours,1,-12);break;case"hh":e=Wn(Pt.Hours,2,-12);break;case"H":e=Wn(Pt.Hours,1);break;case"HH":e=Wn(Pt.Hours,2);break;case"m":e=Wn(Pt.Minutes,1);break;case"mm":e=Wn(Pt.Minutes,2);break;case"s":e=Wn(Pt.Seconds,1);break;case"ss":e=Wn(Pt.Seconds,2);break;case"S":e=Wn(Pt.FractionalSeconds,1);break;case"SS":e=Wn(Pt.FractionalSeconds,2);break;case"SSS":e=Wn(Pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Tn(mn.Short);break;case"ZZZZZ":e=Tn(mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Tn(mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Tn(mn.Long);break;default:return null}return pr[n]=e,e}(m);f+=_?_(r,t,d):"''"===m?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function xr(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ti(n,e){const t=function we(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Is[t]=Is[t]||{},Is[t][e])return Is[t][e];let i="";switch(e){case"shortDate":i=jt(n,De.Short);break;case"mediumDate":i=jt(n,De.Medium);break;case"longDate":i=jt(n,De.Long);break;case"fullDate":i=jt(n,De.Full);break;case"shortTime":i=Lt(n,De.Short);break;case"mediumTime":i=Lt(n,De.Medium);break;case"longTime":i=Lt(n,De.Long);break;case"fullTime":i=Lt(n,De.Full);break;case"short":const r=ti(n,"shortTime"),s=ti(n,"shortDate");i=hr(en(n,De.Short),[r,s]);break;case"medium":const o=ti(n,"mediumTime"),l=ti(n,"mediumDate");i=hr(en(n,De.Medium),[o,l]);break;case"long":const d=ti(n,"longTime"),f=ti(n,"longDate");i=hr(en(n,De.Long),[d,f]);break;case"full":const m=ti(n,"fullTime"),_=ti(n,"fullDate");i=hr(en(n,De.Full),[m,_])}return i&&(Is[t][e]=i),i}function hr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Ci(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Wn(n,e,t=0,i=!1,r=!1){return function(s,o){let l=function Ss(n,e){switch(n){case Pt.FullYear:return e.getFullYear();case Pt.Month:return e.getMonth();case Pt.Date:return e.getDate();case Pt.Hours:return e.getHours();case Pt.Minutes:return e.getMinutes();case Pt.Seconds:return e.getSeconds();case Pt.FractionalSeconds:return e.getMilliseconds();case Pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||l>-t)&&(l+=t),n===Pt.Hours)0===l&&-12===t&&(l=12);else if(n===Pt.FractionalSeconds)return function fr(n,e){return Ci(n,3).substring(0,e)}(l,e);const d=ft(o,ue.MinusSign);return Ci(l,e,d,i,r)}}function _n(n,e,t=ve.Format,i=!1){return function(r,s){return function es(n,e,t,i,r,s){switch(t){case nn.Months:return function Je(n,e,t){const i=(0,a.cg1)(n),s=Mi([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],e);return Mi(s,t)}(e,r,i)[n.getMonth()];case nn.Days:return function Le(n,e,t){const i=(0,a.cg1)(n),s=Mi([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],e);return Mi(s,t)}(e,r,i)[n.getDay()];case nn.DayPeriods:const o=n.getHours(),l=n.getMinutes();if(s){const f=function Fs(n){const e=(0,a.cg1)(n);return Jr(e),(e[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?At(i):[At(i[0]),At(i[1])])}(e),m=function Ls(n,e,t){const i=(0,a.cg1)(n);Jr(i);const s=Mi([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],e)||[];return Mi(s,t)||[]}(e,r,i),_=f.findIndex(w=>{if(Array.isArray(w)){const[x,M]=w,k=o>=x.hours&&l>=x.minutes,R=o<M.hours||o===M.hours&&l<M.minutes;if(x.hours<M.hours){if(k&&R)return!0}else if(k||R)return!0}else if(w.hours===o&&w.minutes===l)return!0;return!1});if(-1!==_)return m[_]}return function He(n,e,t){const i=(0,a.cg1)(n),s=Mi([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],e);return Mi(s,t)}(e,r,i)[o<12?0:1];case nn.Eras:return function $e(n,e){return Mi((0,a.cg1)(n)[a.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Tn(n){return function(e,t,i){const r=-1*i,s=ft(t,ue.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case mn.Short:return(r>=0?"+":"")+Ci(o,2,s)+Ci(Math.abs(r%60),2,s);case mn.ShortGMT:return"GMT"+(r>=0?"+":"")+Ci(o,1,s);case mn.Long:return"GMT"+(r>=0?"+":"")+Ci(o,2,s)+":"+Ci(Math.abs(r%60),2,s);case mn.Extended:return 0===i?"Z":(r>=0?"+":"")+Ci(o,2,s)+":"+Ci(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Dr=0,Ei=4;function ui(n){return xr(n.getFullYear(),n.getMonth(),n.getDate()+(Ei-n.getDay()))}function Tr(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=ui(t),o=function xi(n){const e=xr(n,Dr,1).getDay();return xr(n,0,1+(e<=Ei?Ei:Ei+7)-e)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return Ci(r,n,ft(i,ue.MinusSign))}}function qi(n,e=!1){return function(t,i){return Ci(ui(t).getFullYear(),n,ft(i,ue.MinusSign),e)}}const pr={};function te(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Gt(n){return n instanceof Date&&!isNaN(n.valueOf())}function to(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const ji=/\s+/,yt=[];let V=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=yt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ji):yt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ji):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(ji).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Dt{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ot=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Dt(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,o),Zt(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Zt(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Zt(n,e){n.context.$implicit=e.item}let at=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Kt{constructor(){this.$implicit=null,this.ngIf=null}}function Pi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Sr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let mr=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),no=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Sr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(mr,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Gi=(()=>{class n{constructor(t,i,r){r._addDefault(new Sr(t,i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(mr,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),la=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),gr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})(),ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Vm="browser";function vo(n){return n===Vm}let su=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Um((0,a.LFG)(j),window)}),n})();class Um{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _d(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ha(this.window.history)||ha(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ha(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bf{}class Of extends G{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gu extends Of{static makeCurrent(){!function z(n){L||(L=n)}(new gu)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mc(){return Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null}();return null==t?null:function By(n){qo=qo||document.createElement("a"),qo.setAttribute("href",n);const e=qo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return to(document.cookie,e)}}let qo,Ml=null;const jm=new a.OlP("TRANSITION_ID"),Nf=[{provide:a.ip1,useFactory:function _u(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[jm,j,a.zs3],multi:!0}];let Id=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=new a.OlP("EventManagerPlugins");let yu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(gc),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class kl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ff=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ga=(()=>{class n extends Ff{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ka={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rl=/%COMP%/g,bc=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bu(n,e){return e.flat(100).map(t=>t.replace(Rl,n))}function Md(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let is=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Lf(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof vu?r.applyToHost(t):r instanceof _a&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestory;switch(i.encapsulation){case a.ifc.Emulated:s=new vu(o,l,i,this.appId,d);break;case a.ifc.ShadowDom:return new Fi(o,l,t,i);default:s=new _a(o,l,i,d)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yu),a.LFG(ga),a.LFG(a.AFp),a.LFG(bc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Lf{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ka[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Vf(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Vf(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ka[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ka[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Md(i)):this.eventManager.addEventListener(e,t,Md(i))}}function Vf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fi extends Lf{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=bu(r.id,r.styles);for(const o of s){const l=document.createElement("style");l.textContent=o,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _a extends Lf{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=bu(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vu extends _a{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function Gm(n){return"_ngcontent-%COMP%".replace(Rl,n)}(o),this.hostAttr=function Ad(n){return"_nghost-%COMP%".replace(Rl,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Bf=(()=>{class n extends kl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const vc=["alt","control","meta","shift"],Uf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ki=(()=>{class n extends kl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),o="code."),vc.forEach(f=>{const m=i.indexOf(f);m>-1&&(i.splice(m,1),o+=f+".")}),o+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=o,d}static matchEventFullKeyCode(t,i){let r=Uf[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vc.forEach(o=>{o!==r&&(0,wu[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wm=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Vm},{provide:a.g9A,useValue:function Nl(){gu.makeCurrent()},multi:!0},{provide:j,useFactory:function Pd(){return(0,a.RDi)(document),document},deps:[]}]),Xa=new a.OlP(""),wc=[{provide:a.rWj,useClass:class Yo{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(d){o=o||d,s--,0==s&&i(o)};r.forEach(function(d){d.whenStable(l)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Ja=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Rd(){return new a.qLn},deps:[]},{provide:gc,useClass:Bf,multi:!0,deps:[j,a.R0b,a.Lbi]},{provide:gc,useClass:Ki,multi:!0,deps:[j]},{provide:is,useClass:is,deps:[yu,ga,a.AFp,bc]},{provide:a.FYo,useExisting:is},{provide:Ff,useExisting:ga},{provide:ga,useClass:ga,deps:[j]},{provide:yu,useClass:yu,deps:[gc,a.R0b]},{provide:bf,useClass:Id,deps:[]},[]];let el=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:jm,useExisting:a.AFp},Nf]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Xa,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Ja,...wc],imports:[ro,a.hGG]}),n})(),qm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function tl(){return new qm((0,a.LFG)(j))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):a.LFG(Tu),i},providedIn:"root"}),n})(),Tu=(()=>{class n extends Ec{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${a.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${a.JZr})`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function xc(n){return new Tu(n.get(j))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();const Vn=void 0,wa=["es",[["a.\xa0m.","p.\xa0m."],Vn,Vn],Vn,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Vn,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Vn,[["a. C.","d. C."],Vn,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",Vn,Vn,Vn],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Vn,"$"],BRL:[Vn,"R$"],BYN:[Vn,"\u0440."],CAD:[Vn,"$"],CNY:[Vn,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Vn,"\xa3"],HKD:[Vn,"$"],ILS:[Vn,"\u20aa"],INR:[Vn,"\u20b9"],JPY:[Vn,"\xa5"],KRW:[Vn,"\u20a9"],MXN:[Vn,"$"],NZD:[Vn,"$"],PHP:[Vn,"\u20b1"],RON:[Vn,"L"],THB:["\u0e3f"],TWD:[Vn,"NT$"],USD:["US$","$"],XAF:[],XCD:[Vn,"$"],XOF:[]},"ltr",function Ll(n){const e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e?1:0===r&&0!==t&&t%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}];var xo=F(2011),zt=F(7579),il=F(3269),fi=F(8996);function Tt(...n){const e=(0,il.yG)(n);return(0,fi.D)(n,e)}var Di=F(9751),Hs=F(6451),rs=F(5363),Lr=F(8421),Li=F(4482),ni=F(5403);function ii(n,e){return(0,Li.e)((t,i)=>{let r=null,s=0,o=!1;const l=()=>o&&!r&&i.complete();t.subscribe((0,ni.x)(i,d=>{r?.unsubscribe();let f=0;const m=s++;(0,Lr.Xf)(n(d,m)).subscribe(r=(0,ni.x)(i,_=>i.next(e?e(d,_,m,f++):_),()=>{r=null,l()}))},()=>{o=!0,l()}))})}var Ht=F(4004),Ud=F(6063);class $f extends zt.x{constructor(e=1/0,t=1/0,i=Ud.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let l=0;for(let d=1;d<i.length&&i[d]<=o;d+=2)l=d;l&&i.splice(0,l+1)}}}var so=F(3099);function Iu(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,so.B)({connector:()=>new $f(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const Ca=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function li(n,e){return(0,Li.e)((t,i)=>{let r=0;t.subscribe((0,ni.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Vr=F(515);function si(n){return n<=0?()=>Vr.E:(0,Li.e)((e,t)=>{let i=0;e.subscribe((0,ni.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Su(n){return(0,Li.e)((e,t)=>{let i=!1;e.subscribe((0,ni.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Wf(n=qf){return(0,Li.e)((e,t)=>{let i=!1;e.subscribe((0,ni.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function qf(){return new Ca}var Vl=F(4671);function Zo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?li((r,s)=>n(r,s,i)):Vl.y,si(1),t?Su(e):Wf(()=>new Ca))}var Br=F(576);function Yf(n,e){return(0,Br.m)(e)?ii(()=>n,e):ii(()=>n)}var Hd=F(9468),Yn=F(4976),Do=F(259);class Bl{constructor(e){return e}}class Dc{constructor(){return(0,Do.C6)()}}const Au=new a.OlP("angularfire2._apps"),Mu={provide:Bl,useFactory:function Tc(n){return n&&1===n.length?n[0]:new Bl((0,Do.Mq)())},deps:[[new a.FiY,Au]]},zd={provide:Dc,deps:[[new a.FiY,Au]]};function Ic(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bl(i)}}let Zf=(()=>{class n{constructor(t){(0,Do.KN)("angularfire",Yn.q4.full,"core"),(0,Do.KN)("angularfire",Yn.q4.full,"app"),(0,Do.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Mu,zd]}),n})();function jd(n,...e){return{ngModule:Zf,providers:[{provide:Au,useFactory:Ic(n),multi:!0,deps:[a.R0b,a.zs3,Yn.HU,...e]}]}}const ku=(0,Yn.u3)(Do.ZF,!0);var xt=F(5861),Xi=F(6881),Ac=F(4859),_e=F(2090),zs=F(1877);const js=new Map,Mc={activated:!1,tokenObservers:[]},rl={initialized:!1,enabled:!1};function Ti(n){return js.get(n)||Object.assign({},Mc)}function kc(){return rl}const Qf="https://content-firebaseappcheck.googleapis.com/v1",Jf="exchangeDebugToken",Ru={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class S{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xt.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function O(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ae=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ve(n){if(!Ti(n).activated)throw ae.create("use-before-activation",{appName:n.name})}function kt(n,e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,xt.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const _=yield r.getHeartbeatsHeader();_&&(i["X-Firebase-Client"]=_)}const s={method:"POST",body:JSON.stringify(e),headers:i};let o,l;try{o=yield fetch(n,s)}catch(_){throw ae.create("fetch-network-error",{originalErrorMessage:_?.message})}if(200!==o.status)throw ae.create("fetch-status-error",{httpStatus:o.status});try{l=yield o.json()}catch(_){throw ae.create("fetch-parse-error",{originalErrorMessage:_?.message})}const d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw ae.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const f=1e3*Number(d[1]),m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})).apply(this,arguments)}function yr(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Qf}/projects/${t}/apps/${i}:${Jf}?key=${r}`,body:{debug_token:e}}}const sl="firebase-app-check-database",$d=1,To="firebase-app-check-store";let os=null;function qd(n,e){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,xt.Z)(function*(n,e){const i=(yield function Wd(){return os||(os=new Promise((n,e)=>{try{const t=indexedDB.open(sl,$d);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ae.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(t){e(ae.create("storage-open",{originalErrorMessage:t?.message}))}}),os)}()).transaction(To,"readwrite"),s=i.objectStore(To).put({compositeKey:n,value:e});return new Promise((o,l)=>{s.onsuccess=d=>{o()},i.onerror=d=>{var f;l(ae.create("storage-set",{originalErrorMessage:null===(f=d.target.error)||void 0===f?void 0:f.message}))}})})).apply(this,arguments)}const Kd=new zs.Yd("@firebase/app-check");function ng(n,e){return(0,_e.hl)()?function Jm(n,e){return qd(function eg(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Kd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function y(){return kc().enabled}function v(){return T.apply(this,arguments)}function T(){return(T=(0,xt.Z)(function*(){const n=kc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const H={error:"UNKNOWN_ERROR"};function ye(n){return _e.US.encodeString(JSON.stringify(n),!1)}function Fe(n){return dt.apply(this,arguments)}function dt(){return(dt=(0,xt.Z)(function*(n,e=!1){const t=n.app;Ve(t);const i=Ti(t);let s,r=i.token;if(r&&!Ko(r)&&(i.token=void 0,r=void 0),!r){const d=yield i.cachedTokenPromise;d&&(Ko(d)?r=d:yield ng(t,void 0))}if(!e&&r&&Ko(r))return{token:r.token};let l,o=!1;if(y()){i.exchangeTokenPromise||(i.exchangeTokenPromise=kt(yr(t,yield v()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const d=yield i.exchangeTokenPromise;return yield ng(t,d),i.token=d,{token:d.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Ti(t).exchangeTokenPromise}catch(d){"appCheck/throttled"===d.code?Kd.warn(d.message):Kd.error(d),s=d}return r?s?l=Ko(r)?{token:r.token,internalError:s}:ig(s):(l={token:r.token},i.token=r,yield ng(t,r)):l=ig(s),o&&function Hy(n,e){const t=Ti(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,l),l})).apply(this,arguments)}function bt(n){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,xt.Z)(function*(n){const e=n.app;Ve(e);const{provider:t}=Ti(e);if(y()){const i=yield v(),{token:r}=yield kt(yr(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function as(n,e){const t=Ti(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function xa(n){const{app:e}=n,t=Ti(e);let i=t.tokenRefresher;i||(i=function np(n){const{app:e}=n;return new S((0,xt.Z)(function*(){let i;if(i=Ti(e).token?yield Fe(n,!0):yield Fe(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ti(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Ru.RETRIAL_MIN_WAIT,Ru.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ko(n){return n.expireTimeMillis-Date.now()>0}function ig(n){return{token:ye(H),error:n}}class rg{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ti(this.app);for(const t of e)as(this.app,t.next);return Promise.resolve()}}const cg="app-check-internal";!function U0(){(0,Xi._registerComponent)(new Ac.wA("app-check",n=>function ip(n,e){return new rg(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cg).initialize()})),(0,Xi._registerComponent)(new Ac.wA(cg,n=>function sg(n){return{getToken:e=>Fe(n,e),getLimitedUseToken:()=>bt(n),addTokenListener:e=>function dn(n,e,t,i){const{app:r}=n,s=Ti(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Ko(s.token)){const l=s.token;Promise.resolve().then(()=>{t({token:l.token}),xa(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xa(n))}(n,"INTERNAL",e),removeTokenListener:e=>as(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xi.registerVersion)("@firebase/app-check","0.8.0")}();class ug{constructor(){return(0,Yn.vb)("app-check")}}typeof window<"u"&&window;var Nk=F(9260);const Lk=new a.OlP("angularfire2.auth.use-emulator"),Vk=new a.OlP("angularfire2.auth.settings"),$y=new a.OlP("angularfire2.auth.tenant-id"),Oc=new a.OlP("angularfire2.auth.langugage-code"),hg=new a.OlP("angularfire2.auth.use-device-language"),ID=new a.OlP("angularfire.auth.persistence");let Wy=(()=>{class n{constructor(t,i,r,s,o,l,d,f,m,_,w,x){const M=new zt.x,k=Tt(void 0).pipe((0,rs.Q)(o.outsideAngular),ii(()=>s.runOutsideAngular(()=>F.e(568).then(F.bind(F,9568)))),(0,Ht.U)(()=>(0,xo.on)(t,s,i)),(0,Ht.U)(R=>((n,e,t,i,r,s,o,l)=>(0,xo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const d=e.runOutsideAngular(()=>n.auth());if(t&&d.useEmulator(...t),i&&(d.tenantId=i),d.languageCode=r,s&&d.useDeviceLanguage(),o)for(const[f,m]of Object.entries(o))d.settings[f]=m;return l&&d.setPersistence(l),d},[t,i,r,s,o,l]))(R,s,l,f,m,_,d,w)),Iu({bufferSize:1,refCount:!1}));if(function lc(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Tt(null);else{k.pipe(Zo()).subscribe();const $=k.pipe(ii(re=>re.getRedirectResult().then(ge=>ge,()=>null)),Yn.iC,Iu({bufferSize:1,refCount:!1})),W=k.pipe(ii(re=>new Di.y(ge=>({unsubscribe:s.runOutsideAngular(()=>re.onAuthStateChanged(Ee=>ge.next(Ee),Ee=>ge.error(Ee),()=>ge.complete()))})))),ie=k.pipe(ii(re=>new Di.y(ge=>({unsubscribe:s.runOutsideAngular(()=>re.onIdTokenChanged(Ee=>ge.next(Ee),Ee=>ge.error(Ee),()=>ge.complete()))}))));this.authState=$.pipe(Yf(W),(0,Hd.R)(o.outsideAngular),(0,rs.Q)(o.insideAngular)),this.user=$.pipe(Yf(ie),(0,Hd.R)(o.outsideAngular),(0,rs.Q)(o.insideAngular)),this.idToken=this.user.pipe(ii(re=>re?(0,fi.D)(re.getIdToken()):Tt(null))),this.idTokenResult=this.user.pipe(ii(re=>re?(0,fi.D)(re.getIdTokenResult()):Tt(null))),this.credential=(0,Hs.T)($,M,this.authState.pipe(li(re=>!re))).pipe((0,Ht.U)(re=>re?.user?re:null),(0,Hd.R)(o.outsideAngular),(0,rs.Q)(o.insideAngular))}return(0,xo.pX)(this,k,s,{spy:{apply:(R,$,W)=>{(R.startsWith("signIn")||R.startsWith("createUser"))&&W.then(ie=>M.next(ie))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(xo.Dh),a.LFG(xo.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Yn.HU),a.LFG(Lk,8),a.LFG(Vk,8),a.LFG($y,8),a.LFG(Oc,8),a.LFG(hg,8),a.LFG(ID,8),a.LFG(ug,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UU=(()=>{class n{constructor(){Nk.Z.registerVersion("angularfire",Yn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Wy]}),n})();var HU=F(1389);class fg{constructor(e){return e}}class qy{constructor(){return(0,Yn.vb)("auth")}}const AD=new a.OlP("angularfire2.auth-instances");function Uk(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new fg(i)}}const Hk={provide:qy,deps:[[new a.FiY,AD]]},zk={provide:fg,useFactory:function MD(n,e){const t=(0,Yn.JM)("auth",n,e);return t&&new fg(t)},deps:[[new a.FiY,AD],Bl]};let jk=(()=>{class n{constructor(){(0,Do.KN)("angularfire",Yn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[zk,Hk]}),n})();function kD(n,...e){return{ngModule:jk,providers:[{provide:AD,useFactory:Uk(n),multi:!0,deps:[a.R0b,a.zs3,Yn.HU,Dc,[new a.FiY,ug],...e]}]}}const $k=(0,Yn.u3)(HU.o,!0),rR="@firebase/database";let Xd="";class fp{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,_e.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,_e.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,_e.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const GD=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fp(e)}}catch{}return new mg},Ou=GD("localStorage"),W0=GD("sessionStorage"),pp=new zs.Yd("@firebase/database"),$D=function(){let n=1;return function(){return n++}}(),q0=function(n){const e=(0,_e.dS)(n),t=new _e.gQ;t.update(e);const i=t.digest();return _e.US.encodeByteArray(i)},mp=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=mp.apply(null,i):e+="object"==typeof i?(0,_e.Wl)(i):i,e+=" "}return e};let Nc=null,Zy=!0;const Hr=function(...n){if(!0===Zy&&(Zy=!1,null===Nc&&!0===W0.get("logging_enabled")&&function(n,e){(0,_e.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(pp.logLevel=zs.in.VERBOSE,Nc=pp.log.bind(pp),e&&W0.set("logging_enabled",!0)):"function"==typeof n?Nc=n:(Nc=null,W0.remove("logging_enabled"))}(!0)),Nc){const e=mp.apply(null,n);Nc(e)}},Fc=function(n){return function(...e){Hr(n,...e)}},Y0=function(...n){const e="FIREBASE INTERNAL ERROR: "+mp(...n);pp.error(e)},Ul=function(...n){const e=`FIREBASE FATAL ERROR: ${mp(...n)}`;throw pp.error(e),new Error(e)},Gs=function(...n){const e="FIREBASE WARNING: "+mp(...n);pp.warn(e)},Ky=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Nu="[MIN_NAME]",Io="[MAX_NAME]",oo=function(n,e){if(n===e)return 0;if(n===Nu||e===Io)return-1;if(e===Nu||n===Io)return 1;{const t=Da(n),i=Da(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},lR=function(n,e){return n===e?0:n<e?-1:1},gg=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,_e.Wl)(e))},qD=function(n){if("object"!=typeof n||null===n)return(0,_e.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,_e.Wl)(e[i]),t+=":",t+=qD(n[e[i]]);return t+="}",t},cR=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function ls(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const uR=function(n){(0,_e.hu)(!Ky(n),"Invalid JSON number");const i=1023;let r,s,o,l,d;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=l+i,o=Math.round(n*Math.pow(2,52-l)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const f=[];for(d=52;d;d-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(d=11;d;d-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const m=f.join("");let _="";for(d=0;d<64;d+=8){let w=parseInt(m.substr(d,8),2).toString(16);1===w.length&&(w="0"+w),_+=w}return _.toLowerCase()},KD=new RegExp("^-?(0*)\\d{1,10}$"),Da=function(n){if(KD.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},gp=function(n){try{n()}catch(e){setTimeout(()=>{throw Gs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},QD=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_g=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class pR{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Gs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mR{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Hr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gs(e)}}let yg=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Z0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tT="websocket",J0="long_polling";class ew{constructor(e,t,i,r,s=!1,o="",l=!1,d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ou.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ou.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function iT(n,e,t){let i;if((0,_e.hu)("string"==typeof e,"typeof type must == string"),(0,_e.hu)("object"==typeof t,"typeof params must == object"),e===tT)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==J0)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function nT(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return ls(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class gR{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,_e.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,_e.p$)(this.counters_)}}const rT={},Qy={};function Xy(n){const e=n.toString();return rT[e]||(rT[e]=new gR),rT[e]}class _R{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&gp(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fu{constructor(e,t,i,r,s,o,l){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fc(e),this.stats_=Xy(t),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),iT(t,J0,d))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _R(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,_e.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new iw((...s)=>{const[o,l,d,f,m]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=l,this.password=d;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Z0.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fu.forceAllow_=!0}static forceDisallow(){Fu.forceDisallow_=!0}static isAvailable(){return!((0,_e.Yr)()||!Fu.forceAllow_&&(Fu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,_e.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,_e.h$)(t),r=cR(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,_e.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,_e.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class iw{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,_e.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=$D(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=iw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Hr("frame writing exception"),l.stack&&Hr(l.stack),Hr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Hr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,_e.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Hr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let wg=null;typeof MozWebSocket<"u"?wg=MozWebSocket:typeof WebSocket<"u"&&(wg=WebSocket);let yp=(()=>{class n{constructor(t,i,r,s,o,l,d){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fc(this.connId),this.stats_=Xy(i),this.connURL=n.connectionURL_(i,l,d,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const l={v:"5"};return!(0,_e.Yr)()&&typeof location<"u"&&location.hostname&&Z0.test(location.hostname)&&(l.r="f"),i&&(l.s=i),r&&(l.ls=r),s&&(l.ac=s),o&&(l.p=o),iT(t,tT,l)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ou.set("previous_websocket_failure",!0);try{let r;if((0,_e.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Xd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,l=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;l&&(r.proxy={origin:l})}this.mySock=new wg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==wg&&!n.forceDisallow_}static previouslyFailed(){return Ou.isInMemoryStorage||!0===Ou.get("previous_websocket_failure")}markConnectionHealthy(){Ou.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,_e.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,_e.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,_e.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=cR(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),rw=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Fu,yp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=yp&&yp.isAvailable();let r=i&&!yp.previouslyFailed();if(t.webSocketOnly&&(i||Gs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yp];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class eb{constructor(e,t,i,r,s,o,l,d,f,m){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fc("c:"+this.id+":"),this.transportManager_=new rw(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=_g(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=gg("t",e),i=gg("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=gg("t",e),i=gg("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=gg("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?Y0("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Y0("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Gs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),_g(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_g(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ou.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wp{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class tb{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,_e.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,_e.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class eh extends tb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,_e.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new eh}getInitialEvent(e){return(0,_e.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const uw=32,nb=768;class Zn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Bn(){return new Zn("")}function In(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hl(n){return n.pieces_.length-n.pieceNum_}function pi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Zn(n.pieces_,e)}function dw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Eg(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function hw(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Zn(e,0)}function Vi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Zn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Zn(t,0)}function On(n){return n.pieceNum_>=n.pieces_.length}function ao(n,e){const t=In(n),i=In(e);if(null===t)return e;if(t===i)return ao(pi(n),pi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function fw(n,e){if(Hl(n)!==Hl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ta(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Hl(n)>Hl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class u3{constructor(e,t){this.errorPrefix_=t,this.parts_=Eg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,_e.ug)(this.parts_[i]);fT(this)}}function fT(n){if(n.byteLength_>nb)throw new Error(n.errorPrefix_+"has a key path longer than "+nb+" bytes ("+n.byteLength_+").");if(n.parts_.length>uw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uw+") or object contains a cycle "+th(n))}function th(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class mw extends tb{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new mw}getInitialEvent(e){return(0,_e.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Cp=1e3;let Ep,nh=(()=>{class n extends wp{constructor(t,i,r,s,o,l,d,f){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=Fc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,_e.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mw.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&eh.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_((0,_e.Wl)(o)),(0,_e.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new _e.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const d=l.d;"ok"===l.s?i.resolve(d):i.reject(d)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),(0,_e.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,_e.hu)(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(l).set(o,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,d=>{const f=d.d,m=d.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",d),"ok"!==m&&this.removeListen_(r,s),t.onComplete&&t.onComplete(m,f))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,_e.r3)(t,"w")){const r=(0,_e.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Gs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,_e.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,_e.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,l=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,_e.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const l={p:i,d:r};void 0!==o&&(l.h=o),this.outstandingPuts_.push({action:t,request:l,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,_e.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):Y0("Unrecognized action received from server: "+(0,_e.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,_e.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cp,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Cp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,xt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,l=t.lastSessionId;let d=!1,f=null;const m=function(){f?f.close():(d=!0,s())};t.realtime_={close:m,sendRequest:function(x){(0,_e.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(x)}};const w=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[x,M]=yield Promise.all([t.authTokenProvider_.getToken(w),t.appCheckTokenProvider_.getToken(w)]);d?Hr("getToken() completed but was canceled"):(Hr("getToken() completed. Creating connection."),t.authToken_=x&&x.accessToken,t.appCheckToken_=M&&M.token,f=new eb(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,k=>{Gs(k+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},l))}catch(x){t.log_("Failed to get token: "+x),d||(t.repoInfo_.nodeAdmin&&Gs(x),m())}}})()}interrupt(t){Hr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Hr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,_e.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Cp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>qD(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Zn(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Hr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Hr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,_e.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Xd.replace(/\./g,"-")]=1,(0,_e.uI)()?t["framework.cordova"]=1:(0,_e.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=eh.getInstance().currentlyOnline();return(0,_e.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Nn(e,t)}}class Xo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Nn(Nu,e),r=new Nn(Nu,t);return 0!==this.compare(i,r)}minPost(){return Nn.MIN}}class gT extends Xo{static get __EMPTY_NODE(){return Ep}static set __EMPTY_NODE(e){Ep=e}compare(e,t){return oo(e.name,t.name)}isDefinedOn(e){throw(0,_e.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Nn.MIN}maxPost(){return new Nn(Io,Ep)}makePost(e,t){return(0,_e.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Nn(e,Ep)}toString(){return".key"}}const zl=new gT;class xg{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let bw,ol=(()=>{class n{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??So.EMPTY_NODE,this.right=o??So.EMPTY_NODE}copy(t,i,r,s,o){return new n(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return So.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return So.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class So{constructor(e,t=So.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new So(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ol.BLACK,null,null))}remove(e){return new So(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ol.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new xg(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new xg(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new xg(this.root_,null,this.comparator_,!0,e)}}function _w(n,e){return oo(n.name,e.name)}function yw(n,e){return oo(n,e)}So.EMPTY_NODE=new class RR{copy(e,t,i,r,s){return this}insert(e,t,i){return new ol(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Dg=function(n){return"number"==typeof n?"number:"+uR(n):"string:"+n},Tg=function(n){if(n.isLeafNode()){const e=n.val();(0,_e.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,_e.r3)(e,".sv"),"Priority must be a string or number.")}else(0,_e.hu)(n===bw||n.isEmpty(),"priority of unexpected type.");(0,_e.hu)(n===bw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PR,OR,vw,Lu=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,_e.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tg(this.priorityNode_)}static set __childrenNodeConstructor(t){PR=t}static get __childrenNodeConstructor(){return PR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return On(t)?this:".priority"===In(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=In(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,_e.hu)(".priority"!==r||1===Hl(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(pi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Dg(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?uR(this.value_):this.value_,this.lazyHash_=q0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,_e.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,_e.hu)(s>=0,"Unknown leaf type: "+i),(0,_e.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ci=new class bT extends Xo{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?oo(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Nn.MIN}maxPost(){return new Nn(Io,new Lu("[PRIORITY-POST]",vw))}makePost(e,t){const i=OR(e);return new Nn(t,new Lu("[PRIORITY-POST]",i))}toString(){return".priority"}},Lc=Math.log(2);class rb{constructor(e){this.count=parseInt(Math.log(e+1)/Lc,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ih=function(n,e,t,i){n.sort(e);const r=function(d,f){const m=f-d;let _,w;if(0===m)return null;if(1===m)return _=n[d],w=t?t(_):_,new ol(w,_.node,ol.BLACK,null,null);{const x=parseInt(m/2,10)+d,M=r(d,x),k=r(x+1,f);return _=n[x],w=t?t(_):_,new ol(w,_.node,ol.BLACK,M,k)}},l=function(d){let f=null,m=null,_=n.length;const w=function(M,k){const R=_-M,$=_;_-=M;const W=r(R+1,$),ie=n[R],re=t?t(ie):ie;x(new ol(re,ie.node,k,null,W))},x=function(M){f?(f.left=M,f=M):(m=M,f=M)};for(let M=0;M<d.count;++M){const k=d.nextBitIsOne(),R=Math.pow(2,d.count-(M+1));k?w(R,ol.BLACK):(w(R,ol.BLACK),w(R,ol.RED))}return m}(new rb(n.length));return new So(i||e,l)};let rh;const xp={};class jl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,_e.hu)(xp&&ci,"ChildrenNode.ts has not been loaded"),rh=rh||new jl({".priority":xp},{".priority":ci}),rh}get(e){const t=(0,_e.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof So?t:null}hasIndex(e){return(0,_e.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,_e.hu)(e!==zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Nn.Wrap);let l,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();l=r?ih(i,e.getCompare()):xp;const d=e.toString(),f=Object.assign({},this.indexSet_);f[d]=e;const m=Object.assign({},this.indexes_);return m[d]=l,new jl(m,f)}addToIndexes(e,t){const i=(0,_e.UI)(this.indexes_,(r,s)=>{const o=(0,_e.DV)(this.indexSet_,s);if((0,_e.hu)(o,"Missing index implementation for "+s),r===xp){if(o.isDefinedOn(e.node)){const l=[],d=t.getIterator(Nn.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&l.push(f),f=d.getNext();return l.push(e),ih(l,o.getCompare())}return xp}{const l=t.get(e.name);let d=r;return l&&(d=d.remove(new Nn(e.name,l))),d.insert(e,e.node)}});return new jl(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,_e.UI)(this.indexes_,r=>{if(r===xp)return r;{const s=t.get(e.name);return s?r.remove(new Nn(e.name,s)):r}});return new jl(i,this.indexSet_)}}let Dp,wn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tg(this.priorityNode_),this.children_.isEmpty()&&(0,_e.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dp||(Dp=new n(new So(yw),null,jl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dp}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Dp:i}}getChild(t){const i=In(t);return null===i?this:this.getImmediateChild(i).getChild(pi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,_e.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Nn(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?Dp:this.priorityNode_;return new n(s,l,o)}}updateChild(t,i){const r=In(t);if(null===r)return i;{(0,_e.hu)(".priority"!==In(t)||1===Hl(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(pi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(ci,(l,d)=>{i[l]=d.val(t),r++,o&&n.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!t&&o&&s<2*r){const l=[];for(const d in i)l[d]=i[d];return l}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Dg(this.getPriority().val())+":"),this.forEachChild(ci,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":q0(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Nn(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Nn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Nn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Nn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Nn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vc?-1:0}withIndex(t){if(t===zl||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===zl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ci),s=i.getIterator(ci);let o=r.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=s.getNext()}return null===o&&null===l}return!1}return!1}}resolveIndex_(t){return t===zl?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Vc=new class NR extends wn{constructor(){super(new So(yw),wn.EMPTY_NODE,jl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return wn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Nn,{MIN:{value:new Nn(Nu,wn.EMPTY_NODE)},MAX:{value:new Nn(Io,Vc)}}),gT.__EMPTY_NODE=wn.EMPTY_NODE,Lu.__childrenNodeConstructor=wn,function ib(n){bw=n}(Vc),function yT(n){vw=n}(Vc);const FR=!0;function br(n,e=null){if(null===n)return wn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,_e.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Lu(n,br(e));if(n instanceof Array||!FR){let t=wn.EMPTY_NODE;return ls(n,(i,r)=>{if((0,_e.r3)(n,i)&&"."!==i.substring(0,1)){const s=br(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(br(e))}{const t=[];let i=!1;if(ls(n,(o,l)=>{if("."!==o.substring(0,1)){const d=br(l);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),t.push(new Nn(o,d)))}}),0===t.length)return wn.EMPTY_NODE;const s=ih(t,_w,o=>o.name,yw);if(i){const o=ih(t,ci.getCompare());return new wn(s,br(e),new jl({".priority":o},{".priority":ci}))}return new wn(s,br(e),jl.Default)}}!function _T(n){OR=n}(br);class ww extends Xo{constructor(e){super(),this.indexPath_=e,(0,_e.hu)(!On(e)&&".priority"!==In(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?oo(e.name,t.name):s}makePost(e,t){const i=br(e),r=wn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nn(t,r)}maxPost(){const e=wn.EMPTY_NODE.updateChild(this.indexPath_,Vc);return new Nn(Io,e)}toString(){return Eg(this.indexPath_,0).join("/")}}const Cw=new class LR extends Xo{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?oo(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Nn.MIN}maxPost(){return Nn.MAX}makePost(e,t){const i=br(e);return new Nn(t,i)}toString(){return".value"}};function vT(n){return{type:"value",snapshotNode:n}}function Tp(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Ig(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Sg(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Ag{constructor(e){this.index_=e}updateChild(e,t,i,r,s,o){(0,_e.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(t);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(Ig(t,l)):(0,_e.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Tp(t,i)):o.trackChildChange(Sg(t,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(ci,(r,s)=>{t.hasChild(r)||i.trackChildChange(Ig(r,s))}),t.isLeafNode()||t.forEachChild(ci,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Sg(r,s,o))}else i.trackChildChange(Tp(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?wn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Mg{constructor(e){this.indexedFilter_=new Ag(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Mg.getStartPost_(e),this.endPost_=Mg.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,o){return this.matches(new Nn(t,i))||(i=wn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=wn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(wn.EMPTY_NODE);const s=this;return t.forEachChild(ci,(o,l)=>{s.matches(new Nn(o,l))||(r=r.updateImmediateChild(o,wn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Ew{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Mg(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,o){return this.rangedFilter_.matches(new Nn(t,i))||(i=wn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,o):this.fullLimitUpdateChild_(e,t,i,s,o)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=wn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=wn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l)){if(!this.withinDirectionalEnd(l))break;r=r.updateImmediateChild(l.name,l.node),o++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(wn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:r=r.updateImmediateChild(l.name,wn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let o;if(this.reverse_){const _=this.index_.getCompare();o=(w,x)=>_(x,w)}else o=this.index_.getCompare();const l=e;(0,_e.hu)(l.numChildren()===this.limit_,"");const d=new Nn(t,i),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(l.hasChild(t)){const _=l.getImmediateChild(t);let w=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=w&&(w.name===t||l.hasChild(w.name));)w=r.getChildAfterChild(this.index_,w,this.reverse_);const x=null==w?1:o(w,d);if(m&&!i.isEmpty()&&x>=0)return s?.trackChildChange(Sg(t,i,_)),l.updateImmediateChild(t,i);{s?.trackChildChange(Ig(t,_));const k=l.updateImmediateChild(t,wn.EMPTY_NODE);return null!=w&&this.rangedFilter_.matches(w)?(s?.trackChildChange(Tp(w.name,w.node)),k.updateImmediateChild(w.name,w.node)):k}}return i.isEmpty()?e:m&&o(f,d)>=0?(null!=s&&(s.trackChildChange(Ig(f.name,f.node)),s.trackChildChange(Tp(t,i))),l.updateImmediateChild(t,i).updateImmediateChild(f.name,wn.EMPTY_NODE)):e}}class xw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ci}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,_e.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,_e.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,_e.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,_e.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Io}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,_e.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ci}copy(){const e=new xw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ET(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ci?t="$priority":n.index_===Cw?t="$value":n.index_===zl?t="$key":((0,_e.hu)(n.index_ instanceof ww,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,_e.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,_e.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,_e.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,_e.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,_e.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function zR(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ci&&(e.i=n.index_.toString()),e}class Rg extends wp{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Fc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,_e.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Rg.getListenId_(e,i),l={};this.listens_[o]=l;const d=ET(e._queryParams);this.restRequest_(s+".json",d,(f,m)=>{let _=m;if(404===f&&(_=null,f=null),null===f&&this.onDataUpdate_(s,_,!1,i),(0,_e.DV)(this.listens_,o)===l){let w;w=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(w,null)}})}unlisten(e,t){const i=Rg.getListenId_(e,t);delete this.listens_[i]}get(e){const t=ET(e._queryParams),i=e._path.toString(),r=new _e.BH;return this.restRequest_(i+".json",t,(s,o)=>{let l=o;404===s&&(l=null,s=null),null===s?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,_e.xO)(t);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&4===l.readyState){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let d=null;if(l.status>=200&&l.status<300){try{d=(0,_e.cI)(l.responseText)}catch{Gs("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,d)}else 401!==l.status&&404!==l.status&&Gs("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}class d3{constructor(){this.rootNode_=wn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function sh(){return{value:null,children:new Map}}function Ip(n,e,t){if(On(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=In(e);n.children.has(i)||n.children.set(i,sh()),Ip(n.children.get(i),e=pi(e),t)}}function Pg(n,e,t){null!==n.value?t(e,n.value):function jR(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{Pg(r,new Zn(e.toString()+"/"+i),t)})}class Gl{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ls(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class sb{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gl(e);const i=1e4+2e4*Math.random();_g(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ls(e,(r,s)=>{s>0&&(0,_e.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),_g(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ji=(()=>{return(n=Ji||(Ji={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ji;var n})();function Bu(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Bc{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ji.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(On(this.path)){if(null!=this.affectedTree.value)return(0,_e.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Zn(e));return new Bc(Bn(),t,this.revert)}}return(0,_e.hu)(In(this.path)===e,"operationForChild called for unrelated child."),new Bc(pi(this.path),this.affectedTree,this.revert)}}class $l{constructor(e,t){this.source=e,this.path=t,this.type=Ji.LISTEN_COMPLETE}operationForChild(e){return On(this.path)?new $l(this.source,Bn()):new $l(this.source,pi(this.path))}}class Ia{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ji.OVERWRITE}operationForChild(e){return On(this.path)?new Ia(this.source,Bn(),this.snap.getImmediateChild(e)):new Ia(this.source,pi(this.path),this.snap)}}class al{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ji.MERGE}operationForChild(e){if(On(this.path)){const t=this.children.subtree(new Zn(e));return t.isEmpty()?null:t.value?new Ia(this.source,Bn(),t.value):new al(this.source,Bn(),t)}return(0,_e.hu)(In(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new al(this.source,pi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jo{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(On(e))return this.isFullyInitialized()&&!this.filtered_;const t=In(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ap{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kp(n,e,t,i,r,s){const o=i.filter(l=>l.type===t);o.sort((l,d)=>function DT(n,e,t){if(null==e.childName||null==t.childName)throw(0,_e.g5)("Should only compare child_ events.");const i=new Nn(e.childName,e.snapshotNode),r=new Nn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,l,d)),o.forEach(l=>{const d=function xT(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,l,s);r.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(d,n.query_))})})}function Ng(n,e){return{eventCache:n,serverCache:e}}function Rp(n,e,t,i){return Ng(new Jo(e,t,i),n.serverCache)}function Sw(n,e,t,i){return Ng(n.eventCache,new Jo(e,t,i))}function Fg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Uu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ob;class Ii{constructor(e,t=(()=>(ob||(ob=new So(lR)),ob))()){this.value=e,this.children=t}static fromObject(e){let t=new Ii(null);return ls(e,(i,r)=>{t=t.set(new Zn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Bn(),value:this.value};if(On(e))return null;{const i=In(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(pi(e),t);return null!=s?{path:Vi(new Zn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(On(e))return this;{const t=In(e),i=this.children.get(t);return null!==i?i.subtree(pi(e)):new Ii(null)}}set(e,t){if(On(e))return new Ii(t,this.children);{const i=In(e),s=(this.children.get(i)||new Ii(null)).set(pi(e),t),o=this.children.insert(i,s);return new Ii(this.value,o)}}remove(e){if(On(e))return this.children.isEmpty()?new Ii(null):new Ii(null,this.children);{const t=In(e),i=this.children.get(t);if(i){const r=i.remove(pi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ii(null):new Ii(this.value,s)}return this}}get(e){if(On(e))return this.value;{const t=In(e),i=this.children.get(t);return i?i.get(pi(e)):null}}setTree(e,t){if(On(e))return t;{const i=In(e),s=(this.children.get(i)||new Ii(null)).setTree(pi(e),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ii(this.value,o)}}fold(e){return this.fold_(Bn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Vi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Bn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(On(e))return null;{const s=In(e),o=this.children.get(s);return o?o.findOnPath_(pi(e),Vi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Bn(),t)}foreachOnPath_(e,t,i){if(On(e))return this;{this.value&&i(t,this.value);const r=In(e),s=this.children.get(r);return s?s.foreachOnPath_(pi(e),Vi(t,r),i):new Ii(null)}}foreach(e){this.foreach_(Bn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Vi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Sa{constructor(e){this.writeTree_=e}static empty(){return new Sa(new Ii(null))}}function Lg(n,e,t){if(On(e))return new Sa(new Ii(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=ao(r,e);return s=s.updateChild(o,t),new Sa(n.writeTree_.set(r,s))}{const r=new Ii(t),s=n.writeTree_.setTree(e,r);return new Sa(s)}}}function ab(n,e,t){let i=n;return ls(t,(r,s)=>{i=Lg(i,Vi(e,r),s)}),i}function lb(n,e){if(On(e))return Sa.empty();{const t=n.writeTree_.setTree(e,new Ii(null));return new Sa(t)}}function Vg(n,e){return null!=ah(n,e)}function ah(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ao(t.path,e)):null}function Bg(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ci,(i,r)=>{e.push(new Nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Nn(i,r.value))}),e}function ll(n,e){if(On(e))return n;{const t=ah(n,e);return new Sa(null!=t?new Ii(t):n.writeTree_.subtree(e))}}function Ug(n){return n.writeTree_.isEmpty()}function Pp(n,e){return Hg(Bn(),n.writeTree_,e)}function Hg(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,_e.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=Hg(Vi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Vi(n,".priority"),i)),t}}function lh(n,e){return Nw(e,n)}function ST(n,e){if(n.snap)return Ta(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ta(Vi(n.path,t),e))return!0;return!1}function AT(n){return n.visible}function MT(n,e,t){let i=Sa.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const o=s.path;let l;if(s.snap)Ta(t,o)?(l=ao(t,o),i=Lg(i,l,s.snap)):Ta(o,t)&&(l=ao(o,t),i=Lg(i,Bn(),s.snap.getChild(l)));else{if(!s.children)throw(0,_e.g5)("WriteRecord should have .snap or .children");if(Ta(t,o))l=ao(t,o),i=ab(i,l,s.children);else if(Ta(o,t))if(l=ao(o,t),On(l))i=ab(i,Bn(),s.children);else{const d=(0,_e.DV)(s.children,In(l));if(d){const f=d.getChild(pi(l));i=Lg(i,Bn(),f)}}}}}return i}function Rw(n,e,t,i,r){if(i||r){const s=ll(n.visibleWrites,e);return!r&&Ug(s)?t:r||null!=t||Vg(s,Bn())?Pp(MT(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Ta(f.path,e)||Ta(e,f.path))},e),t||wn.EMPTY_NODE):null}{const s=ah(n.visibleWrites,e);if(null!=s)return s;{const o=ll(n.visibleWrites,e);return Ug(o)?t:null!=t||Vg(o,Bn())?Pp(o,t||wn.EMPTY_NODE):null}}}function zg(n,e,t,i){return Rw(n.writeTree,n.treePath,e,t,i)}function jg(n,e){return function kT(n,e,t){let i=wn.EMPTY_NODE;const r=ah(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ci,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=ll(n.visibleWrites,e);return t.forEachChild(ci,(o,l)=>{const d=Pp(ll(s,new Zn(o)),l);i=i.updateImmediateChild(o,d)}),Bg(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return Bg(ll(n.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,e)}function Pw(n,e,t,i){return function RT(n,e,t,i,r){(0,_e.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Vi(e,t);if(Vg(n.visibleWrites,s))return null;{const o=ll(n.visibleWrites,s);return Ug(o)?r.getChild(t):Pp(o,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Gg(n,e){return function $R(n,e){return ah(n.visibleWrites,e)}(n.writeTree,Vi(n.treePath,e))}function cb(n,e,t){return function PT(n,e,t,i){const r=Vi(e,t),s=ah(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Pp(ll(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Ow(n,e){return Nw(Vi(n.treePath,e),n.writeTree)}function Nw(n,e){return{treePath:n,writeTree:e}}class LT{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,_e.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,_e.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Sg(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,Ig(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Tp(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,_e.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Sg(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const $g=new class VT{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class Wl{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Jo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cb(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uu(this.viewCache_),s=function FT(n,e,t,i,r,s){return function OT(n,e,t,i,r,s,o){let l;const d=ll(n.visibleWrites,e),f=ah(d,Bn());if(null!=f)l=f;else{if(null==t)return[];l=Pp(d,t)}if(l=l.withIndex(o),l.isEmpty()||l.isLeafNode())return[];{const m=[],_=o.getCompare(),w=s?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let x=w.getNext();for(;x&&m.length<r;)0!==_(x,i)&&m.push(x),x=w.getNext();return m}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function ub(n,e,t,i,r,s){const o=e.eventCache;if(null!=Gg(i,t))return e;{let l,d;if(On(t))if((0,_e.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Uu(e),_=jg(i,f instanceof wn?f:wn.EMPTY_NODE);l=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const f=zg(i,Uu(e));l=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=In(t);if(".priority"===f){(0,_e.hu)(1===Hl(t),"Can't have a priority with additional path components");const m=o.getNode();d=e.serverCache.getNode();const _=Pw(i,t,m,d);l=null!=_?n.filter.updatePriority(m,_):o.getNode()}else{const m=pi(t);let _;if(o.isCompleteForChild(f)){d=e.serverCache.getNode();const w=Pw(i,t,o.getNode(),d);_=null!=w?o.getNode().getImmediateChild(f).updateChild(m,w):o.getNode().getImmediateChild(f)}else _=cb(i,f,e.serverCache);l=null!=_?n.filter.updateChild(o.getNode(),f,_,m,r,s):o.getNode()}}return Rp(e,l,o.isFullyInitialized()||On(t),n.filter.filtersNodes())}}function db(n,e,t,i,r,s,o,l){const d=e.serverCache;let f;const m=o?n.filter:n.filter.getIndexedFilter();if(On(t))f=m.updateFullNode(d.getNode(),i,null);else if(m.filtersNodes()&&!d.isFiltered()){const x=d.getNode().updateChild(t,i);f=m.updateFullNode(d.getNode(),x,null)}else{const x=In(t);if(!d.isCompleteForPath(t)&&Hl(t)>1)return e;const M=pi(t),R=d.getNode().getImmediateChild(x).updateChild(M,i);f=".priority"===x?m.updatePriority(d.getNode(),R):m.updateChild(d.getNode(),x,R,M,$g,null)}const _=Sw(e,f,d.isFullyInitialized()||On(t),m.filtersNodes());return ub(n,_,t,r,new Wl(r,_,s),l)}function Wg(n,e,t,i,r,s,o){const l=e.eventCache;let d,f;const m=new Wl(r,e,s);if(On(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,o),d=Rp(e,f,!0,n.filter.filtersNodes());else{const _=In(t);if(".priority"===_)f=n.filter.updatePriority(e.eventCache.getNode(),i),d=Rp(e,f,l.isFullyInitialized(),l.isFiltered());else{const w=pi(t),x=l.getNode().getImmediateChild(_);let M;if(On(w))M=i;else{const k=m.getCompleteChild(_);M=null!=k?".priority"===dw(w)&&k.getChild(hw(w)).isEmpty()?k:k.updateChild(w,i):wn.EMPTY_NODE}d=x.equals(M)?e:Rp(e,n.filter.updateChild(l.getNode(),_,M,w,m,o),l.isFullyInitialized(),n.filter.filtersNodes())}}return d}function YR(n,e){return n.eventCache.isCompleteForChild(e)}function BT(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Lw(n,e,t,i,r,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f,d=e;f=On(t)?i:new Ii(null).setTree(t,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((_,w)=>{if(m.hasChild(_)){const M=BT(0,e.serverCache.getNode().getImmediateChild(_),w);d=db(n,d,new Zn(_),M,r,s,o,l)}}),f.children.inorderTraversal((_,w)=>{const x=!e.serverCache.isCompleteForChild(_)&&null===w.value;if(!m.hasChild(_)&&!x){const k=BT(0,e.serverCache.getNode().getImmediateChild(_),w);d=db(n,d,new Zn(_),k,r,s,o,l)}}),d}class HT{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Ag(i.getIndex()),s=function VR(n){return n.loadsAllData()?new Ag(n.getIndex()):n.hasLimit()?new Ew(n):new Mg(n)}(i);this.processor_=function WR(n){return{filter:n}}(s);const o=t.serverCache,l=t.eventCache,d=r.updateFullNode(wn.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(wn.EMPTY_NODE,l.getNode(),null),m=new Jo(d,o.isFullyInitialized(),r.filtersNodes()),_=new Jo(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ng(_,m),this.eventGenerator_=new Ap(this.query_)}get query(){return this.query_}}function zT(n,e){const t=Uu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!On(e)&&!t.getImmediateChild(In(e)).isEmpty())?t.getChild(e):null}function jT(n){return 0===n.eventRegistrations_.length}function Vw(n,e,t){const i=[];if(t){(0,_e.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function uh(n,e,t,i){e.type===Ji.MERGE&&null!==e.source.queryId&&((0,_e.hu)(Uu(n.viewCache_),"We should always have a full cache before handling merges"),(0,_e.hu)(Fg(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Fw(n,e,t,i,r){const s=new LT;let o,l;if(t.type===Ji.OVERWRITE){const f=t;f.source.fromUser?o=Wg(n,e,f.path,f.snap,i,r,s):((0,_e.hu)(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!On(f.path),o=db(n,e,f.path,f.snap,i,r,l,s))}else if(t.type===Ji.MERGE){const f=t;f.source.fromUser?o=function h3(n,e,t,i,r,s,o){let l=e;return i.foreach((d,f)=>{const m=Vi(t,d);YR(e,In(m))&&(l=Wg(n,l,m,f,r,s,o))}),i.foreach((d,f)=>{const m=Vi(t,d);YR(e,In(m))||(l=Wg(n,l,m,f,r,s,o))}),l}(n,e,f.path,f.children,i,r,s):((0,_e.hu)(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),o=Lw(n,e,f.path,f.children,i,r,l,s))}else if(t.type===Ji.ACK_USER_WRITE){const f=t;o=f.revert?function cs(n,e,t,i,r,s){let o;if(null!=Gg(i,t))return e;{const l=new Wl(i,e,r),d=e.eventCache.getNode();let f;if(On(t)||".priority"===In(t)){let m;if(e.serverCache.isFullyInitialized())m=zg(i,Uu(e));else{const _=e.serverCache.getNode();(0,_e.hu)(_ instanceof wn,"serverChildren would be complete if leaf node"),m=jg(i,_)}f=n.filter.updateFullNode(d,m,s)}else{const m=In(t);let _=cb(i,m,e.serverCache);null==_&&e.serverCache.isCompleteForChild(m)&&(_=d.getImmediateChild(m)),f=null!=_?n.filter.updateChild(d,m,_,pi(t),l,s):e.eventCache.getNode().hasChild(m)?n.filter.updateChild(d,m,wn.EMPTY_NODE,pi(t),l,s):d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zg(i,Uu(e)),o.isLeafNode()&&(f=n.filter.updateFullNode(f,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Gg(i,Bn()),Rp(e,f,o,n.filter.filtersNodes())}}(n,e,f.path,i,r,s):function UT(n,e,t,i,r,s,o){if(null!=Gg(r,t))return e;const l=e.serverCache.isFiltered(),d=e.serverCache;if(null!=i.value){if(On(t)&&d.isFullyInitialized()||d.isCompleteForPath(t))return db(n,e,t,d.getNode().getChild(t),r,s,l,o);if(On(t)){let f=new Ii(null);return d.getNode().forEachChild(zl,(m,_)=>{f=f.set(new Zn(m),_)}),Lw(n,e,t,f,r,s,l,o)}return e}{let f=new Ii(null);return i.foreach((m,_)=>{const w=Vi(t,m);d.isCompleteForPath(w)&&(f=f.set(m,d.getNode().getChild(w)))}),Lw(n,e,t,f,r,s,l,o)}}(n,e,f.path,f.affectedTree,i,r,s)}else{if(t.type!==Ji.LISTEN_COMPLETE)throw(0,_e.g5)("Unknown operation type: "+t.type);o=function ZR(n,e,t,i,r){const s=e.serverCache;return ub(n,Sw(e,s.getNode(),s.isFullyInitialized()||On(t),s.isFiltered()),t,i,$g,r)}(n,e,t.path,i,s)}const d=s.getChanges();return function ch(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Fg(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(vT(Fg(e)))}}(e,o,d),{viewCache:o,changes:d}}(n.processor_,r,e,t,i);return function qR(n,e){(0,_e.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,_e.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,_e.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,$T(n,s.changes,s.viewCache.eventCache.getNode(),null)}function $T(n,e,t,i){return function Mp(n,e,t,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function wT(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),kp(n,r,"child_removed",e,i,t),kp(n,r,"child_added",e,i,t),kp(n,r,"child_moved",s,i,t),kp(n,r,"child_changed",e,i,t),kp(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let qg,fb;class WT{constructor(){this.views=new Map}}function Yg(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,_e.hu)(null!=s,"SyncTree gave us an op for an invalid query."),uh(s,e,t,i)}{let s=[];for(const o of n.views.values())s=s.concat(uh(o,e,t,i));return s}}function JR(n,e,t,i,r,s){const o=function cl(n,e,t,i,r){const o=n.views.get(e._queryIdentifier);if(!o){let l=zg(t,r?i:null),d=!1;l?d=!0:i instanceof wn?(l=jg(t,i),d=!1):(l=wn.EMPTY_NODE,d=!1);const f=Ng(new Jo(l,d,!1),new Jo(i,r,!1));return new HT(e,f)}return o}(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function GT(n,e){n.eventRegistrations_.push(e)}(o,t),function XR(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ci,(s,o)=>{i.push(Tp(s,o))}),t.isFullyInitialized()&&i.push(vT(t.getNode())),$T(n,i,t.getNode(),e)}(o,t)}function ul(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ws(n,e){let t=null;for(const i of n.views.values())t=t||zT(i,e);return t}function Aa(n,e){return e._queryParams.loadsAllData()?hb(n):n.views.get(e._queryIdentifier)}function Uw(n,e){return null!=Aa(n,e)}function Uc(n){return null!=hb(n)}function hb(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Hw=1;class Op{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ii(null),this.pendingWriteTree_=function NT(){return{visibleWrites:Sa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zw(n,e,t,i,r){return function Aw(n,e,t,i,r){(0,_e.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Lg(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?hh(n,new Ia({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Hu(n,e,t=!1){const i=function Mw(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function IT(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);(0,_e.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const l=n.allWrites[o];l.visible&&(o>=t&&ST(l,i.path)?r=!1:Ta(i.path,l.path)&&(s=!0)),o--}return!!r&&(s?(function kw(n){n.visibleWrites=MT(n.allWrites,AT,Bn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=lb(n.visibleWrites,i.path):ls(i.children,d=>{n.visibleWrites=lb(n.visibleWrites,Vi(i.path,d))}),!0))}(n.pendingWriteTree_,e)){let s=new Ii(null);return null!=i.snap?s=s.set(Bn(),!0):ls(i.children,o=>{s=s.set(new Zn(o),!0)}),hh(n,new Bc(i.path,s,t))}return[]}function Zg(n,e,t){return hh(n,new Ia({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function mb(n,e,t,i,r=!1){const s=e._path,o=n.syncPointTree_.get(s);let l=[];if(o&&("default"===e._queryIdentifier||Uw(o,e))){const d=function eP(n,e,t,i){const r=e._queryIdentifier,s=[];let o=[];const l=Uc(n);if("default"===r)for(const[d,f]of n.views.entries())o=o.concat(Vw(f,t,i)),jT(f)&&(n.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query));else{const d=n.views.get(r);d&&(o=o.concat(Vw(d,t,i)),jT(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||s.push(d.query)))}return l&&!Uc(n)&&s.push(new(function f3(){return(0,_e.hu)(qg,"Reference.ts has not been loaded"),qg}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,i);(function Bw(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=d.removed;if(l=d.events,!r){const m=-1!==f.findIndex(w=>w._queryParams.loadsAllData()),_=n.syncPointTree_.findOnPath(s,(w,x)=>Uc(x));if(m&&!_){const w=n.syncPointTree_.subtree(s);if(!w.isEmpty()){const x=function iP(n){return n.fold((e,t,i)=>{if(t&&Uc(t))return[hb(t)];{let r=[];return t&&(r=ul(t)),ls(i,(s,o)=>{r=r.concat(o)}),r}})}(w);for(let M=0;M<x.length;++M){const k=x[M],R=k.query,$=$w(n,k);n.listenProvider_.startListening(Xg(R),Np(n,R),$.hashFn,$.onComplete)}}}!_&&f.length>0&&!i&&(m?n.listenProvider_.stopListening(Xg(e),null):f.forEach(w=>{const x=n.queryToTagMap.get(Qg(w));n.listenProvider_.stopListening(Xg(w),x)}))}!function rP(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=Qg(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return l}function Kg(n,e,t,i=!1){const r=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(w,x)=>{const M=ao(w,r);s=s||ws(x,M),o=o||Uc(x)});let d,l=n.syncPointTree_.get(r);l?(o=o||Uc(l),s=s||ws(l,Bn())):(l=new WT,n.syncPointTree_=n.syncPointTree_.set(r,l)),null!=s?d=!0:(d=!1,s=wn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((x,M)=>{const k=ws(M,Bn());k&&(s=s.updateImmediateChild(x,k))}));const f=Uw(l,e);if(!f&&!e._queryParams.loadsAllData()){const w=Qg(e);(0,_e.hu)(!n.queryToTagMap.has(w),"View does not exist, but we have a tag");const x=function sP(){return Hw++}();n.queryToTagMap.set(w,x),n.tagToQueryMap.set(x,w)}let _=JR(l,e,t,lh(n.pendingWriteTree_,r),s,d);if(!f&&!o&&!i){const w=Aa(l,e);_=_.concat(function oP(n,e,t){const i=e._path,r=Np(n,e),s=$w(n,t),o=n.listenProvider_.startListening(Xg(e),r,s.hashFn,s.onComplete),l=n.syncPointTree_.subtree(i);if(r)(0,_e.hu)(!Uc(l.value),"If we're adding a query, it shouldn't be shadowed");else{const d=l.fold((f,m,_)=>{if(!On(f)&&m&&Uc(m))return[hb(m).query];{let w=[];return m&&(w=w.concat(ul(m).map(x=>x.query))),ls(_,(x,M)=>{w=w.concat(M)}),w}});for(let f=0;f<d.length;++f){const m=d[f];n.listenProvider_.stopListening(Xg(m),Np(n,m))}}return o}(n,e,w))}return _}function dh(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,l)=>{const f=ws(l,ao(o,e));if(f)return f});return Rw(r,e,s,t,!0)}function hh(n,e){return Gw(e,n.syncPointTree_,null,lh(n.pendingWriteTree_,Bn()))}function Gw(n,e,t,i){if(On(n.path))return gb(n,e,t,i);{const r=e.get(Bn());null==t&&null!=r&&(t=ws(r,Bn()));let s=[];const o=In(n.path),l=n.operationForChild(o),d=e.children.get(o);if(d&&l){const f=t?t.getImmediateChild(o):null,m=Ow(i,o);s=s.concat(Gw(l,d,f,m))}return r&&(s=s.concat(Yg(r,n,i,t))),s}}function gb(n,e,t,i){const r=e.get(Bn());null==t&&null!=r&&(t=ws(r,Bn()));let s=[];return e.children.inorderTraversal((o,l)=>{const d=t?t.getImmediateChild(o):null,f=Ow(i,o),m=n.operationForChild(o);m&&(s=s.concat(gb(m,l,d,f)))}),r&&(s=s.concat(Yg(r,n,i,t))),s}function $w(n,e){const t=e.query,i=Np(n,t);return{hashFn:()=>(function KR(n){return n.viewCache_.serverCache.getNode()}(e)||wn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function pb(n,e,t){const i=_b(n,t);if(i){const r=yb(i),s=r.path,o=r.queryId,l=ao(s,e);return Ww(n,s,new $l(Bu(o),l))}return[]}(n,t._path,i):function KT(n,e){return hh(n,new $l({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function dR(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return mb(n,t,null,s)}}}}function Np(n,e){const t=Qg(e);return n.queryToTagMap.get(t)}function Qg(n){return n._path.toString()+"$"+n._queryIdentifier}function _b(n,e){return n.tagToQueryMap.get(e)}function yb(n){const e=n.indexOf("$");return(0,_e.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Zn(n.substr(0,e))}}function Ww(n,e,t){const i=n.syncPointTree_.get(e);return(0,_e.hu)(i,"Missing sync point for query tag that we're tracking"),Yg(i,t,lh(n.pendingWriteTree_,e),null)}function Xg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function nP(){return(0,_e.hu)(fb,"Reference.ts has not been loaded"),fb}())(n._repo,n._path):n}class qw{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new qw(t)}node(){return this.node_}}class Yw{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Vi(this.path_,e);return new Yw(this.syncTree_,t)}node(){return dh(this.syncTree_,this.path_)}}const aP=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},JT=function(n,e,t){return n&&"object"==typeof n?((0,_e.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?lP(n[".sv"],e,t):"object"==typeof n[".sv"]?cP(n[".sv"],e):void(0,_e.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},lP=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,_e.hu)(!1,"Unexpected server value: "+n)},cP=function(n,e,t){n.hasOwnProperty("increment")||(0,_e.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,_e.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,_e.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},eI=function(n,e,t,i){return Kw(e,new Yw(t,n),i)},Zw=function(n,e,t){return Kw(n,new qw(e),t)};function Kw(n,e,t){const i=n.getPriority().val(),r=JT(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,l=JT(o.getValue(),e,t);return l!==o.getValue()||r!==o.getPriority().val()?new Lu(l,br(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Lu(r))),o.forEachChild(ci,(l,d)=>{const f=Kw(d,e.getImmediateChild(l),t);f!==d&&(s=s.updateImmediateChild(l,f))}),s}}class Qw{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function bb(n,e){let t=e instanceof Zn?e:new Zn(e),i=n,r=In(t);for(;null!==r;){const s=(0,_e.DV)(i.node.children,r)||{children:{},childCount:0};i=new Qw(r,i,s),t=pi(t),r=In(t)}return i}function zu(n){return n.node.value}function vb(n,e){n.node.value=e,wb(n)}function Xw(n){return n.node.childCount>0}function Jg(n,e){ls(n.node.children,(t,i)=>{e(new Qw(t,n,i))})}function Jw(n,e,t,i){t&&!i&&e(n),Jg(n,r=>{Jw(r,e,!0,i)}),t&&i&&e(n)}function Fp(n){return new Zn(null===n.parent?n.name:Fp(n.parent)+"/"+n.name)}function wb(n){null!==n.parent&&function eC(n,e,t){const i=function tI(n){return void 0===zu(n)&&!Xw(n)}(t),r=(0,_e.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,wb(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,wb(n))}(n.parent,n.name,n)}const iI=/[\[\].#$\/\u0000-\u001F\u007F]/,fh=/[\[\].#$\u0000-\u001F\u007F]/,tC=10485760,Cb=function(n){return"string"==typeof n&&0!==n.length&&!iI.test(n)},ph=function(n){return"string"==typeof n&&0!==n.length&&!fh.test(n)},Hc=function(n,e,t,i){i&&void 0===e||Lp((0,_e.gK)(n,"value"),e,t)},Lp=function(n,e,t){const i=t instanceof Zn?new u3(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+th(i));if("function"==typeof e)throw new Error(n+"contains a function "+th(i)+" with contents = "+e.toString());if(Ky(e))throw new Error(n+"contains "+e.toString()+" "+th(i));if("string"==typeof e&&e.length>tC/3&&(0,_e.ug)(e)>tC)throw new Error(n+"contains a string greater than "+tC+" utf8 bytes "+th(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(ls(e,(o,l)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Cb(o)))throw new Error(n+" contains an invalid key ("+o+") "+th(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pw(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,_e.ug)(e),fT(n)})(i,o),Lp(n,l,i),function hT(n){const e=n.parts_.pop();n.byteLength_-=(0,_e.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+th(i)+" in addition to actual children.")}},nC=function(n,e,t,i){if(!(i&&void 0===t||ph(t)))throw new Error((0,_e.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hP=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nC(n,e,t,i)},lo=function(n,e){if(".info"===In(e))throw new Error(n+" failed = Can't modify data under /.info/")},sI=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Cb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ph(n)}(t))throw new Error((0,_e.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Eb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gh(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!fw(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function er(n,e,t){gh(n,t),iC(n,i=>fw(i,e))}function Ma(n,e,t){gh(n,t),iC(n,i=>Ta(i,e)||Ta(e,i))}function iC(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(oI(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function oI(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Nc&&Hr("event: "+t.toString()),gp(i)}}}const aI="repo_interrupt",lI=25;class cI{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Eb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sh(),this.transactionQueueTree_=new Qw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rC(n){const t=n.infoData_.getNode(new Zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function t_(n){return aP({timestamp:rC(n)})}function dI(n,e,t,i,r){n.dataUpdateCount++;const s=new Zn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(i){const d=(0,_e.UI)(t,f=>br(f));o=function QT(n,e,t,i){const r=_b(n,i);if(r){const s=yb(r),o=s.path,l=s.queryId,d=ao(o,e),f=Ii.fromObject(t);return Ww(n,o,new al(Bu(l),d,f))}return[]}(n.serverSyncTree_,s,d,r)}else{const d=br(t);o=function jw(n,e,t,i){const r=_b(n,i);if(null!=r){const s=yb(r),o=s.path,l=s.queryId,d=ao(o,e);return Ww(n,o,new Ia(Bu(l),d,t))}return[]}(n.serverSyncTree_,s,d,r)}else if(i){const d=(0,_e.UI)(t,f=>br(f));o=function ZT(n,e,t){const i=Ii.fromObject(t);return hh(n,new al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,d)}else{const d=br(t);o=Zg(n.serverSyncTree_,s,d)}let l=s;o.length>0&&(l=s_(n,s)),Ma(n.eventQueue_,l,o)}function hI(n,e){sC(n,"connected",e),!1===e&&function pI(n){_h(n,"onDisconnectEvents");const e=t_(n),t=sh();Pg(n.onDisconnect_,Bn(),(r,s)=>{const o=eI(r,s,n.serverSyncTree_,e);Ip(t,r,o)});let i=[];Pg(t,Bn(),(r,s)=>{i=i.concat(Zg(n.serverSyncTree_,r,s));const o=lC(n,r);s_(n,o)}),n.onDisconnect_=sh(),Ma(n.eventQueue_,Bn(),i)}(n)}function sC(n,e,t){const i=new Zn("/.info/"+e),r=br(t);n.infoData_.updateSnapshot(i,r);const s=Zg(n.infoSyncTree_,i,r);Ma(n.eventQueue_,i,s)}function xb(n){return n.nextWriteId_++}function Vp(n,e,t,i,r){_h(n,"set",{path:e.toString(),value:t,priority:i});const s=t_(n),o=br(t,i),l=dh(n.serverSyncTree_,e),d=Zw(o,l,s),f=xb(n),m=zw(n.serverSyncTree_,e,d,f,!0);gh(n.eventQueue_,m),n.server_.put(e.toString(),o.val(!0),(w,x)=>{const M="ok"===w;M||Gs("set at "+e+" failed: "+w);const k=Hu(n.serverSyncTree_,f,!M);Ma(n.eventQueue_,e,k),function zc(n,e,t,i){e&&gp(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}(0,r,w,x)});const _=lC(n,e);s_(n,_),Ma(n.eventQueue_,_,[])}function oC(n,e,t){let i;i=".info"===In(e._path)?mb(n.infoSyncTree_,e,t):mb(n.serverSyncTree_,e,t),er(n.eventQueue_,e._path,i)}function _h(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Hr(t,...e)}function Db(n,e,t){return dh(n.serverSyncTree_,e,t)||wn.EMPTY_NODE}function Tb(n,e=n.transactionQueueTree_){if(e||yh(n,e),zu(e)){const t=yP(n,e);(0,_e.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function gP(n,e,t){const i=t.map(f=>f.currentWriteId),r=Db(n,e,i);let s=r;const o=r.hash();for(let f=0;f<t.length;f++){const m=t[f];(0,_e.hu)(0===m.status,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=ao(e,m.path);s=s.updateChild(_,m.currentOutputSnapshotRaw)}const l=s.val(!0),d=e;n.server_.put(d.toString(),l,f=>{_h(n,"transaction put response",{path:d.toString(),status:f});let m=[];if("ok"===f){const _=[];for(let w=0;w<t.length;w++)t[w].status=2,m=m.concat(Hu(n.serverSyncTree_,t[w].currentWriteId)),t[w].onComplete&&_.push(()=>t[w].onComplete(null,!0,t[w].currentOutputSnapshotResolved)),t[w].unwatcher();yh(n,bb(n.transactionQueueTree_,e)),Tb(n,n.transactionQueueTree_),Ma(n.eventQueue_,e,m);for(let w=0;w<_.length;w++)gp(_[w])}else{if("datastale"===f)for(let _=0;_<t.length;_++)t[_].status=3===t[_].status?4:0;else{Gs("transaction at "+d.toString()+" failed: "+f);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=f}s_(n,e)}},o)}(n,Fp(e),t)}else Xw(e)&&Jg(e,t=>{Tb(n,t)})}function s_(n,e){const t=_P(n,e),i=Fp(t);return function p3(n,e,t){if(0===e.length)return;const i=[];let r=[];const o=e.filter(l=>0===l.status).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const d=e[l],f=ao(t,d.path);let _,m=!1;if((0,_e.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)m=!0,_=d.abortReason,r=r.concat(Hu(n.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=lI)m=!0,_="maxretry",r=r.concat(Hu(n.serverSyncTree_,d.currentWriteId,!0));else{const w=Db(n,d.path,o);d.currentInputSnapshot=w;const x=e[l].update(w.val());if(void 0!==x){Lp("transaction failed: Data returned ",x,d.path);let M=br(x);"object"==typeof x&&null!=x&&(0,_e.r3)(x,".priority")||(M=M.updatePriority(w.getPriority()));const R=d.currentWriteId,$=t_(n),W=Zw(M,w,$);d.currentOutputSnapshotRaw=M,d.currentOutputSnapshotResolved=W,d.currentWriteId=xb(n),o.splice(o.indexOf(R),1),r=r.concat(zw(n.serverSyncTree_,d.path,W,d.currentWriteId,d.applyLocally)),r=r.concat(Hu(n.serverSyncTree_,R,!0))}else m=!0,_="nodata",r=r.concat(Hu(n.serverSyncTree_,d.currentWriteId,!0))}Ma(n.eventQueue_,t,r),r=[],m&&(e[l].status=2,setTimeout(e[l].unwatcher,Math.floor(0)),e[l].onComplete&&i.push("nodata"===_?()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot):()=>e[l].onComplete(new Error(_),!1,null)))}yh(n,n.transactionQueueTree_);for(let l=0;l<i.length;l++)gp(i[l]);Tb(n,n.transactionQueueTree_)}(n,yP(n,t),i),i}function _P(n,e){let t,i=n.transactionQueueTree_;for(t=In(e);null!==t&&void 0===zu(i);)i=bb(i,t),t=In(e=pi(e));return i}function yP(n,e){const t=[];return aC(n,e,t),t.sort((i,r)=>i.order-r.order),t}function aC(n,e,t){const i=zu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Jg(e,r=>{aC(n,r,t)})}function yh(n,e){const t=zu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,vb(e,t.length>0?t:void 0)}Jg(e,i=>{yh(n,i)})}function lC(n,e){const t=Fp(_P(n,e)),i=bb(n.transactionQueueTree_,e);return function nI(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{cC(n,r)}),cC(n,i),Jw(i,r=>{cC(n,r)}),t}function cC(n,e){const t=zu(e);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,_e.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,_e.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(Hu(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?vb(e,void 0):t.length=s+1,Ma(n.eventQueue_,Fp(e),r);for(let o=0;o<i.length;o++)gp(i[o])}}const uC=function(n,e){const t=bP(n),i=t.namespace;return"firebase.com"===t.domain&&Ul(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ul("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ew(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Zn(t.pathString)}},bP=function(n){let e="",t="",i="",r="",s="",o=!0,l="https",d=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(l=n.substring(0,f-1),n=n.substring(f+2));let m=n.indexOf("/");-1===m&&(m=n.length);let _=n.indexOf("?");-1===_&&(_=n.length),e=n.substring(0,Math.min(m,_)),m<_&&(r=function bI(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(m,_)));const w=function o_(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Gs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,_)));f=e.indexOf(":"),f>=0?(o="https"===l||"wss"===l,d=parseInt(e.substring(f+1),10)):f=e.length;const x=e.slice(0,f);if("localhost"===x.toLowerCase())t="localhost";else if(x.split(".").length<=2)t=x;else{const M=e.indexOf(".");i=e.substring(0,M).toLowerCase(),t=e.substring(M+1),s=i}"ns"in w&&(s=w.ns)}return{host:e,port:d,domain:t,subdomain:i,secure:o,scheme:l,pathString:r,namespace:s}},vI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vP=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=vI.charAt(t%64),t=Math.floor(t/64);(0,_e.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=vI.charAt(e[r]);return(0,_e.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class wP{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,_e.Wl)(this.snapshot.exportVal())}}class wI{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ib{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,_e.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ea{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return On(this._path)?null:dw(this._path)}get ref(){return new dl(this._repo,this._path)}get _queryIdentifier(){const e=zR(this._queryParams),t=qD(e);return"{}"===t?"default":t}get _queryObject(){return zR(this._queryParams)}isEqual(e){if(!((e=(0,_e.m9)(e))instanceof ea))return!1;const t=this._repo===e._repo,i=fw(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function dT(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class dl extends ea{constructor(e,t){super(e,t,new xw,!1)}get parent(){const e=hw(this._path);return null===e?null:new dl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $u{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Zn(e),i=Bp(this.ref,e);return new $u(this._node.getChild(t),i,ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new $u(r,Bp(this.ref,i),ci)))}hasChild(e){const t=new Zn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function CI(n,e){return(n=(0,_e.m9)(n))._checkNotDeleted("ref"),void 0!==e?Bp(n._root,e):n._root}function Bp(n,e){return null===In((n=(0,_e.m9)(n))._path)?hP("child","path",e,!1):nC("child","path",e,!1),new dl(n._repo,Vi(n._path,e))}function xP(n,e){n=(0,_e.m9)(n),lo("push",n._path),Hc("push",e,n._path,!0);const t=rC(n._repo),i=vP(t),r=Bp(n,i),s=Bp(n,i);let o;return o=null!=e?dC(s,e).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function xI(n){return lo("remove",n._path),dC(n,null)}function dC(n,e){n=(0,_e.m9)(n),lo("set",n._path),Hc("set",e,n._path,!1);const t=new _e.BH;return Vp(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class l_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new wP("value",this,new $u(e.snapshotNode,new dl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wI(this,e,t):null}matches(e){return e instanceof l_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class c_{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wI(this,e,t):null}createEvent(e,t){(0,_e.hu)(null!=e.childName,"Child events should have a childName.");const i=Bp(new dl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new wP(e.type,this,new $u(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof c_&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function TI(n,e,t,i){return function u_(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const d=t,f=(m,_)=>{oC(n._repo,n,l),d(m,_)};f.userCallback=t.userCallback,f.context=t.context,t=f}const o=new Ib(t,s||void 0),l="value"===e?new l_(o):new c_(e,o);return function pP(n,e,t){let i;i=".info"===In(e._path)?Kg(n.infoSyncTree_,e,t):Kg(n.serverSyncTree_,e,t),er(n.eventQueue_,e._path,i)}(n._repo,n,l),()=>oC(n._repo,n,l)}(n,"value",e,t,i)}(function qT(n){(0,_e.hu)(!qg,"__referenceConstructor has already been defined"),qg=n})(dl),function tP(n){(0,_e.hu)(!fb,"__referenceConstructor has already been defined"),fb=n}(dl);const MP="FIREBASE_DATABASE_EMULATOR_HOST",h_={};let PI=!1;class VI{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function uI(n,e,t){if(n.stats_=Xy(n.repoInfo_),n.forceRestClient_||QD())n.server_=new Rg(n.repoInfo_,(i,r,s,o)=>{dI(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hI(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,_e.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new nh(n.repoInfo_,e,(i,r,s,o)=>{dI(n,i,r,s,o)},i=>{hI(n,i)},i=>{!function n_(n,e){ls(e,(t,i)=>{sC(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Jd(n,e){const t=n.toString();return Qy[t]||(Qy[t]=e()),Qy[t]}(n.repoInfo_,()=>new sb(n.stats_,n.server_)),n.infoData_=new d3,n.infoSyncTree_=new Op({startListening:(i,r,s,o)=>{let l=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(l=Zg(n.infoSyncTree_,i._path,d),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),sC(n,"connected",!1),n.serverSyncTree_=new Op({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(l,d)=>{const f=o(l,d);Ma(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dl(this._repo,Bn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function NI(n,e){const t=h_[e];(!t||t[n.key]!==n)&&Ul(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function _I(n){n.persistentConnection_&&n.persistentConnection_.interrupt(aI)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ul("Cannot call "+e+" on a deleted database.")}}function kP(n=(0,Xi.getApp)(),e){const t=(0,Xi._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=(0,_e.P0)("database");i&&function UI(n,e,t,i={}){(n=(0,_e.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ul("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ul('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new yg(yg.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,_e.Sg)(i.mockUserToken,n.app.options.projectId);s=new yg(o)}!function OI(n,e,t,i){n.repoInfo_=new ew(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(t,...i)}return t}nh.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},nh.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function PP(n){(function sR(n){Xd=n})(Xi.SDK_VERSION),(0,Xi._registerComponent)(new Ac.wA("database",(e,{instanceIdentifier:t})=>function gC(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Ul("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d,f,o=uC(s,r),l=o.repoInfo;typeof process<"u"&&process.env&&(f=process.env[MP]),f?(d=!0,s=`http://${f}?ns=${l.namespace}`,o=uC(s,r),l=o.repoInfo):d=!o.repoInfo.secure;const m=r&&d?new yg(yg.OWNER):new mR(n.name,n.options,e);sI("Invalid Firebase Database URL",o),On(o.path)||Ul("Database URL must point to the root of a Firebase Database (not including a child path).");const _=function FI(n,e,t,i){let r=h_[e.name];r||(r={},h_[e.name]=r);let s=r[n.toURLString()];return s&&Ul("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cI(n,PI,t,i),r[n.toURLString()]=s,s}(l,n,m,new pR(n.name,t));return new VI(_,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Xi.registerVersion)(rR,"0.14.4",n),(0,Xi.registerVersion)(rR,"0.14.4","esm2017")}();class bh{constructor(e){return e}}const zI="database",_C=new a.OlP("angularfire2.database-instances");function f_(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new bh(i)}}const jI={provide:class FP{constructor(){return(0,Yn.vb)(zI)}},deps:[[new a.FiY,_C]]},GI={provide:bh,useFactory:function LP(n,e){const t=(0,Yn.JM)(zI,n,e);return t&&new bh(t)},deps:[[new a.FiY,_C],Bl]};let $I=(()=>{class n{constructor(){(0,Do.KN)("angularfire",Yn.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[GI,jI]}),n})();function WI(n,...e){return{ngModule:$I,providers:[{provide:_C,useFactory:f_(n),multi:!0,deps:[a.R0b,a.zs3,Yn.HU,Dc,[new a.FiY,qy],[new a.FiY,ug],...e]}]}}const HP=(0,Yn.u3)(kP,!0),p_=(0,Yn.u3)(TI,!0),JI=(0,Yn.u3)(xP,!0),Wu=(0,Yn.u3)(CI,!0),tS=(0,Yn.u3)(xI,!0),wC_firebase={projectId:"proyecto-final-9cd83",appId:"1:248208646105:web:5758c93dfbdc9c2ca103c8",databaseURL:"https://proyecto-final-9cd83-default-rtdb.firebaseio.com",storageBucket:"proyecto-final-9cd83.appspot.com",apiKey:"AIzaSyBEQ1xlYvYPkh6r3aNiMDplV27dRSoV2J0",authDomain:"proyecto-final-9cd83.firebaseapp.com",messagingSenderId:"248208646105"};class mi extends zt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:Up}=Array,{getPrototypeOf:QP,prototype:XP,keys:tH}=Object;function JP(n){if(1===n.length){const e=n[0];if(Up(e))return{args:e,keys:null};if(function nS(n){return n&&"object"==typeof n&&QP(n)===XP}(e)){const t=tH(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:CC}=Array;function EC(n){return(0,Ht.U)(e=>function m_(n,e){return CC(e)?n(...e):n(e)}(n,e))}function Mb(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var eO=F(9672);function kb(...n){const e=(0,il.yG)(n),t=(0,il.jO)(n),{args:i,keys:r}=JP(n);if(0===i.length)return(0,fi.D)([],e);const s=new Di.y(function tO(n,e,t=Vl.y){return i=>{iS(e,()=>{const{length:r}=n,s=new Array(r);let o=r,l=r;for(let d=0;d<r;d++)iS(e,()=>{const f=(0,fi.D)(n[d],e);let m=!1;f.subscribe((0,ni.x)(i,_=>{s[d]=_,m||(m=!0,l--),l||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Mb(r,o):Vl.y));return t?s.pipe(EC(t)):s}function iS(n,e,t){n?(0,eO.f)(t,n,e):e()}var g_=F(8189);function vh(...n){return function xC(){return(0,g_.J)(1)}()((0,fi.D)(n,(0,il.yG)(n)))}function Hp(n){return new Di.y(e=>{(0,Lr.Xf)(n()).subscribe(e)})}var Rb=F(9635);function qu(n,e){const t=(0,Br.m)(n)?n:()=>n,i=r=>r.error(t());return new Di.y(e?r=>e.schedule(i,0,r):i)}var Rr=F(727);function Pb(){return(0,Li.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ni.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ob extends Di.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Li.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ni.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rr.w0.EMPTY)}return e}refCount(){return Pb()(this)}}function ka(...n){const e=(0,il.yG)(n);return(0,Li.e)((t,i)=>{(e?vh(n,t,e):vh(n,t)).subscribe(i)})}var vr=F(5577);function Yu(n,e){return(0,Br.m)(e)?(0,vr.z)(n,e,1):(0,vr.z)(n,1)}var us=F(8505);function ql(n){return(0,Li.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,ni.x)(t,void 0,void 0,o=>{s=(0,Lr.Xf)(n(o,ql(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function rS(n,e){return(0,Li.e)(function nH(n,e,t,i,r){return(s,o)=>{let l=t,d=e,f=0;s.subscribe((0,ni.x)(o,m=>{const _=f++;d=l?n(d,m,_):(l=!0,m),i&&o.next(d)},r&&(()=>{l&&o.next(d),o.complete()})))}}(n,e,arguments.length>=2,!0))}function sS(n){return n<=0?()=>Vr.E:(0,Li.e)((e,t)=>{let i=[];e.subscribe((0,ni.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function oS(n,e){const t=arguments.length>=2;return i=>i.pipe(n?li((r,s)=>n(r,s,i)):Vl.y,sS(1),t?Su(e):Wf(()=>new Ca))}function aS(n,e=!1){return(0,Li.e)((t,i)=>{let r=0;t.subscribe((0,ni.x)(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}function lS(n){return(0,Ht.U)(()=>n)}function Nb(n){return(0,Li.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const yn="primary",__=Symbol("RouteTitle");class cS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wh(n){return new cS(n)}function nO(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],l=n[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function hl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!uS(n[r],e[r]))return!1;return!0}function uS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function DC(n){return Array.prototype.concat.apply([],n)}function TC(n){return n.length>0?n[n.length-1]:null}function Cs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Zu(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,fi.D)(Promise.resolve(n)):Tt(n)}const Fb=!1,iH={exact:function oO(n,e,t){if(!Yl(n.segments,e.segments)||!SC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!oO(n.children[i],e.children[i],t))return!1;return!0},subset:aO},IC={exact:function rH(n,e){return hl(n,e)},subset:function sH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uS(n[t],e[t]))},ignored:()=>!0};function sO(n,e,t){return iH[t.paths](n.root,e.root,t.matrixParams)&&IC[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function aO(n,e,t){return lO(n,e,e.segments,t)}function lO(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Yl(r,t)||e.hasChildren()||!SC(r,t,i))}if(n.segments.length===t.length){if(!Yl(n.segments,t)||!SC(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!aO(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Yl(n.segments,r)&&SC(n.segments,r,i)&&n.children[yn])&&lO(n.children[yn],e,s,i)}}function SC(n,e,t){return e.every((i,r)=>IC[t](n[r].parameters,i.parameters))}class Ch{constructor(e=new xn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wh(this.queryParams)),this._queryParamMap}toString(){return AC.serialize(this)}}class xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Cs(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y_(this)}}class Lb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wh(this.parameters)),this._parameterMap}toString(){return dO(this)}}function Yl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new fS},providedIn:"root"}),n})();class fS{parse(e){const t=new gS(e);return new Ch(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${b_(e.root,!0)}`,i=function aH(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Vb(t)}=${Vb(r)}`).join("&"):`${Vb(t)}=${Vb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function uO(n){return encodeURI(n)}(e.fragment)}`:""}`}}const AC=new fS;function y_(n){return n.segments.map(e=>dO(e)).join("/")}function b_(n,e){if(!n.hasChildren())return y_(n);if(e){const t=n.children[yn]?b_(n.children[yn],!1):"",i=[];return Cs(n.children,(r,s)=>{s!==yn&&i.push(`${s}:${b_(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function hS(n,e){let t=[];return Cs(n.children,(i,r)=>{r===yn&&(t=t.concat(e(i,r)))}),Cs(n.children,(i,r)=>{r!==yn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===yn?[b_(n.children[yn],!1)]:[`${r}:${b_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${y_(n)}/${t[0]}`:`${y_(n)}/(${t.join("//")})`}}function cO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vb(n){return cO(n).replace(/%3B/gi,";")}function MC(n){return cO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eh(n){return decodeURIComponent(n)}function pS(n){return Eh(n.replace(/\+/g,"%20"))}function dO(n){return`${MC(n.path)}${function oH(n){return Object.keys(n).map(e=>`;${MC(e)}=${MC(n[e])}`).join("")}(n.parameters)}`}const hO=/^[^\/()?;=#]+/;function Bb(n){const e=n.match(hO);return e?e[0]:""}const fO=/^[^=?&#]+/,pO=/^[^&#]+/;class gS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[yn]=new xn(e,t)),i}parseSegment(){const e=Bb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,Fb);return this.capture(e),new Lb(Eh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bb(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Bb(this.remaining);r&&(i=r,this.capture(i))}e[Eh(t)]=Eh(i)}parseQueryParam(e){const t=function lH(n){const e=n.match(fO);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function mS(n){const e=n.match(pO);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=pS(t),s=pS(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Bb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,Fb);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=yn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[yn]:new xn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,Fb)}}function _S(n){return n.segments.length>0?new xn([],{[yn]:n}):n}function Ao(n){const e={};for(const i of Object.keys(n.children)){const s=Ao(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function mO(n){if(1===n.numberOfChildren&&n.children[yn]){const e=n.children[yn];return new xn(n.segments.concat(e.segments),e.children)}return n}(new xn(n.segments,e))}function Gc(n){return n instanceof Ch}const kC=!1;function RC(n,e,t,i,r){if(0===t.length)return Ku(e.root,e.root,e.root,i,r);const s=function bS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OC(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Cs(s.outlets,(d,f)=>{l[f]="string"==typeof d?d.split("/"):d}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?t=!0:".."===l?e++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new OC(t,e,i)}(t);return s.toRoot()?Ku(e.root,e.root,new xn([],{}),i,r):function o(d){const f=function gO(n,e,t,i){if(n.isAbsolute)return new xh(e.root,!0,0);if(-1===i)return new xh(t,t===e.root,0);return function NC(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,kC&&"Invalid number of '../'");r=i.segments.length}return new xh(i,!1,r-s)}(t,i+(v_(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,d),m=f.processChildren?Mo(f.segmentGroup,f.index,s.commands):C_(f.segmentGroup,f.index,s.commands);return Ku(e.root,f.segmentGroup,m,i,r)}(n.snapshot?._lastPathIndex)}function v_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function w_(n){return"object"==typeof n&&null!=n&&n.outlets}function Ku(n,e,t,i,r){let o,s={};i&&Cs(i,(d,f)=>{s[f]=Array.isArray(d)?d.map(m=>`${m}`):`${d}`}),o=n===e?t:PC(n,e,t);const l=_S(Ao(o));return new Ch(l,s,r)}function PC(n,e,t){const i={};return Cs(n.children,(r,s)=>{i[s]=r===e?t:PC(r,e,t)}),new xn(n.segments,i)}class OC{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&v_(i[0]))throw new a.vHH(4003,kC&&"Root segment cannot have matrix parameters");const r=i.find(w_);if(r&&r!==TC(i))throw new a.vHH(4004,kC&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xh{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function C_(n,e,t){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return Mo(n,e,t);const i=function Qu(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],l=t[i];if(w_(l))break;const d=`${l}`,f=i<t.length-1?t[i+1]:null;if(r>0&&void 0===d)break;if(d&&f&&"object"==typeof f&&void 0===f.outlets){if(!wS(d,f,o))return s;i+=2}else{if(!wS(d,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new xn(n.segments.slice(0,i.pathIndex),{});return s.children[yn]=new xn(n.segments.slice(i.pathIndex),n.children),Mo(s,0,r)}return i.match&&0===r.length?new xn(n.segments,{}):i.match&&!n.hasChildren()?Ub(n,e,t):i.match?Mo(n,0,r):Ub(n,e,t)}function Mo(n,e,t){if(0===t.length)return new xn(n.segments,{});{const i=function _O(n){return w_(n[0])?n[0].outlets:{[yn]:n}}(t),r={};if(!i[yn]&&n.children[yn]&&1===n.numberOfChildren&&0===n.children[yn].segments.length){const s=Mo(n.children[yn],e,t);return new xn(n.segments,s.children)}return Cs(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=C_(n.children[o],e,s))}),Cs(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new xn(n.segments,r)}}function Ub(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(w_(s)){const d=FC(s.outlets);return new xn(i,d)}if(0===r&&v_(t[0])){i.push(new Lb(n.segments[e].path,LC(t[0]))),r++;continue}const o=w_(s)?s.outlets[yn]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&v_(l)?(i.push(new Lb(o,LC(l))),r+=2):(i.push(new Lb(o,{})),r++)}return new xn(i,{})}function FC(n){const e={};return Cs(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Ub(new xn([],{}),0,t))}),e}function LC(n){const e={};return Cs(n,(t,i)=>e[i]=`${t}`),e}function wS(n,e,t){return n==t.path&&hl(e,t.parameters)}const Hb="imperative";class Zl{constructor(e,t){this.id=e,this.url=t}}class VC extends Zl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dh extends Zl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zb extends Zl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class E_ extends Zl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class CS extends Zl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ES extends Zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yO extends Zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xS extends Zl{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cH extends Zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BC extends Zl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SS{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AS{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x_{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vO=(()=>{class n{createUrlTree(t,i,r,s,o,l){return RC(t||i.root,r,s,o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){return vO.\u0275fac(e)},providedIn:"root"}),n})();class wO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Gb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=UC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return UC(e,this._root).map(t=>t.value)}}function Gb(n,e){if(n===e.value)return e;for(const t of e.children){const i=Gb(n,t);if(i)return i}return null}function UC(n,e){if(n===e.value)return[e];for(const t of e.children){const i=UC(n,t);if(i.length)return i.unshift(e),i}return[]}class $c{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jp(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CO extends wO{constructor(e,t){super(e),this.snapshot=t,HC(this,e)}toString(){return this.snapshot.toString()}}function EO(n,e){const t=function hH(n,e){const o=new Th([],{},{},"",{},yn,e,null,n.root,-1,{});return new kS("",new $c(o,[]))}(n,e),i=new mi([new Lb("",{})]),r=new mi({}),s=new mi({}),o=new mi({}),l=new mi(""),d=new Gp(i,r,o,l,s,yn,e,t.root);return d.snapshot=t.root,new CO(new $c(d,[]),t)}class Gp{constructor(e,t,i,r,s,o,l,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.pipe((0,Ht.U)(f=>f[__]))??Tt(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(e=>wh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(e=>wh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xO(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function DO(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Th{get title(){return this.data?.[__]}constructor(e,t,i,r,s,o,l,d,f,m,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=d,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kS extends wO{constructor(e,t){super(t),this.url=e,HC(this,t)}toString(){return zC(this._root)}}function HC(n,e){e.value._routerState=n,e.children.forEach(t=>HC(n,t))}function zC(n){const e=n.children.length>0?` { ${n.children.map(zC).join(", ")} } `:"";return`${n.value}${e}`}function Wc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),hl(e.params,t.params)||n.params.next(t.params),function iO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),hl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $b(n,e){const t=hl(n.params,e.params)&&function dS(n,e){return Yl(n,e)&&n.every((t,i)=>hl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$b(n.parent,e.parent))}function Ih(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function TO(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ih(n,i,r);return Ih(n,i)})}(n,e,t);return new $c(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>Ih(n,l)),o}}const i=function GC(n){return new Gp(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Ih(n,s));return new $c(i,r)}}const D_="ngNavigationCancelingError";function T_(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Gc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=IO(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function IO(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[D_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function SO(n){return AO(n)&&Gc(n.url)}function AO(n){return n&&n[D_]}class fH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $p,this.attachRef=null}}let $p=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new fH,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wb=!1;let $C=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)($p),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Wb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Wb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Wb);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,Wb);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new MO(t,l,r.injector);if(i&&function kO(n){return!!n.resolveComponentFactory}(i)){const f=i.resolveComponentFactory(o);this.activated=r.createComponent(f,r.length,d)}else this.activated=r.createComponent(o,{index:r.length,injector:d,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class MO{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Gp?this.route:e===$p?this.childContexts:this.parent.get(e,t)}}let qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},dependencies:[$C],encapsulation:2}),n})();function WC(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function YC(n){const e=n.children&&n.children.map(YC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=qb),t}function Ra(n){return n.outlet||yn}function OO(n,e){const t=n.filter(i=>Ra(i)===e);return t.push(...n.filter(i=>Ra(i)!==e)),t}function Yb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class FO{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Wc(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=jp(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Cs(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=jp(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=jp(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=jp(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new jb(s.value.snapshot))}),e.children.length&&this.forwardEvent(new SS(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Wc(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),Wc(l.route.value),this.activateChildRoutes(e,null,o.children)}else{const l=Yb(r.snapshot),d=l?.get(a._Vd)??null;o.attachRef=null,o.route=r,o.resolver=d,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class PS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ZC{constructor(e,t){this.component=e,this.route=t}}function _H(n,e,t){const i=n._root;return A_(i,e?e._root:null,t,[i.value])}function S_(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function A_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=jp(e);return n.children.forEach(o=>{(function bH(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function vH(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Yl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yl(n.url,e.url)||!hl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$b(n,e)||!hl(n.queryParams,e.queryParams);default:return!$b(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new PS(i)):(s.data=o.data,s._resolvedData=o._resolvedData),A_(n,e,s.component?l?l.children:null:t,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ZC(l.outlet.component,o))}else o&&Zb(e,l,r),r.canActivateChecks.push(new PS(i)),A_(n,null,s.component?l?l.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Cs(s,(o,l)=>Zb(o,t.getContext(l),r)),r}function Zb(n,e,t){const i=jp(n),r=n.value;Cs(i,(s,o)=>{Zb(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ZC(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Kb(n){return"function"==typeof n}function C(n){return n instanceof Ca||"EmptyError"===n?.name}const I=Symbol("INITIAL_VALUE");function A(){return ii(n=>kb(n.map(e=>e.pipe(si(1),ka(I)))).pipe((0,Ht.U)(e=>{for(const t of e)if(!0!==t){if(t===I)return I;if(!1===t||t instanceof Ch)return t}return!0}),li(e=>e!==I),si(1)))}function tn(n){return(0,Rb.z)((0,us.b)(e=>{if(Gc(e))throw T_(0,e)}),(0,Ht.U)(e=>!0===e))}const hn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bi(n,e,t,i,r){const s=tr(n,e,t);return s.matched?function nt(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Tt(r.map(o=>{const l=S_(o,n);return Zu(function p(n){return n&&Kb(n.canMatch)}(l)?l.canMatch(e,t):n.runInContext(()=>l(e,t)))})).pipe(A(),tn()):Tt(!0)}(i=WC(e,i),e,t).pipe((0,Ht.U)(o=>!0===o?s:{...hn})):Tt(s)}function tr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hn}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||nO)(t,n,e);if(!r)return{...hn};const s={};Cs(r.posParams,(l,d)=>{s[d]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function KC(n,e,t,i){if(t.length>0&&function r7(n,e,t){return t.some(i=>OS(n,e,i)&&Ra(i)!==yn)}(n,t,i)){const s=new xn(e,function i7(n,e,t,i){const r={};r[yn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ra(s)!==yn){const o=new xn([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Ra(s)]=o}return r}(n,e,i,new xn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function s7(n,e,t){return t.some(i=>OS(n,e,i))}(n,t,i)){const s=new xn(n.segments,function n7(n,e,t,i,r){const s={};for(const o of i)if(OS(n,t,o)&&!r[Ra(o)]){const l=new xn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[Ra(o)]=l}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new xn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function OS(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function EH(n,e,t,i){return!!(Ra(n)===i||i!==yn&&OS(e,t,n))&&("**"===n.path||tr(e,n,t).matched)}function xH(n,e,t){return 0===e.length&&!n.children[t]}const NS=!1;class FS{constructor(e){this.segmentGroup=e||null}}class DH{constructor(e){this.urlTree=e}}function QC(n){return qu(new FS(n))}function TH(n){return qu(new DH(n))}class c7{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=KC(this.urlTree.root,[],[],this.config).segmentGroup,t=new xn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,yn).pipe((0,Ht.U)(s=>this.createUrlTree(Ao(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ql(s=>{if(s instanceof DH)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof FS?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,yn).pipe((0,Ht.U)(r=>this.createUrlTree(Ao(r),e.queryParams,e.fragment))).pipe(ql(r=>{throw r instanceof FS?this.noMatchError(r):r}))}noMatchError(e){return new a.vHH(4002,NS)}createUrlTree(e,t,i){const r=_S(e);return new Ch(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ht.U)(s=>new xn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,fi.D)(r).pipe(Yu(s=>{const o=i.children[s],l=OO(t,s);return this.expandSegmentGroup(e,l,o,s).pipe((0,Ht.U)(d=>({segment:d,outlet:s})))}),rS((s,o)=>(s[o.outlet]=o.segment,s),{}),oS())}expandSegment(e,t,i,r,s,o){return(0,fi.D)(i).pipe(Yu(l=>this.expandSegmentAgainstRoute(e,t,i,l,r,s,o).pipe(ql(f=>{if(f instanceof FS)return Tt(null);throw f}))),Zo(l=>!!l),ql((l,d)=>{if(C(l))return xH(t,r,s)?Tt(new xn([],{})):QC(t);throw l}))}expandSegmentAgainstRoute(e,t,i,r,s,o,l){return EH(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):QC(t):QC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?TH(s):this.lineralizeSegments(i,s).pipe((0,vr.z)(o=>{const l=new xn(o,{});return this.expandSegment(e,l,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:l,consumedSegments:d,remainingSegments:f,positionalParamSegments:m}=tr(t,r,s);if(!l)return QC(t);const _=this.applyRedirectCommands(d,r.redirectTo,m);return r.redirectTo.startsWith("/")?TH(_):this.lineralizeSegments(r,_).pipe((0,vr.z)(w=>this.expandSegment(e,t,i,w.concat(f),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=WC(i,e),i.loadChildren?(i._loadedRoutes?Tt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Ht.U)(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new xn(r,{})))):Tt(new xn(r,{}))):Bi(t,i,r,e).pipe(ii(({matched:o,consumedSegments:l,remainingSegments:d})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe((0,vr.z)(m=>{const _=m.injector??e,w=m.routes,{segmentGroup:x,slicedSegments:M}=KC(t,l,d,w),k=new xn(x.segments,x.children);if(0===M.length&&k.hasChildren())return this.expandChildren(_,w,k).pipe((0,Ht.U)(ie=>new xn(l,ie)));if(0===w.length&&0===M.length)return Tt(new xn(l,{}));const R=Ra(i)===s;return this.expandSegment(_,k,w,M,R?yn:s,!0).pipe((0,Ht.U)(W=>new xn(l.concat(W.segments),W.children)))})):QC(t)))}getChildConfig(e,t,i){return t.children?Tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Nt(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Tt(!0):Tt(r.map(o=>{const l=S_(o,n);return Zu(function CH(n){return n&&Kb(n.canLoad)}(l)?l.canLoad(e,t):n.runInContext(()=>l(e,t)))})).pipe(A(),tn())}(e,t,i).pipe((0,vr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,us.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function a7(n){return qu(IO(NS,3))}())):Tt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Tt(i);if(r.numberOfChildren>1||!r.children[yn])return e.redirectTo,qu(new a.vHH(4e3,NS));r=r.children[yn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ch(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Cs(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=t[l]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Cs(t.children,(l,d)=>{o[d]=this.createSegmentGroup(e,l,i,r)}),new xn(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,NS);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class d7{}class p7{constructor(e,t,i,r,s,o,l){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l}recognize(){const e=KC(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,yn).pipe((0,Ht.U)(t=>{if(null===t)return null;const i=new Th([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $c(i,t),s=new kS(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=xO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,fi.D)(Object.keys(i.children)).pipe(Yu(r=>{const s=i.children[r],o=OO(t,r);return this.processSegmentGroup(e,o,s,r)}),rS((r,s)=>r&&s?(r.push(...s),r):null),aS(r=>null!==r),Su(null),oS(),(0,Ht.U)(r=>{if(null===r)return null;const s=SH(r);return function m7(n){n.sort((e,t)=>e.value.outlet===yn?-1:t.value.outlet===yn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,fi.D)(t).pipe(Yu(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),Zo(o=>!!o),ql(o=>{if(C(o))return xH(i,r,s)?Tt([]):Tt(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!EH(t,i,r,s))return Tt(null);let o;if("**"===t.path){const l=r.length>0?TC(r).parameters:{},d=MH(i)+r.length;o=Tt({snapshot:new Th(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kH(t),Ra(t),t.component??t._loadedComponent??null,t,AH(i),d,RH(t)),consumedSegments:[],remainingSegments:[]})}else o=Bi(i,t,r,e).pipe((0,Ht.U)(({matched:l,consumedSegments:d,remainingSegments:f,parameters:m})=>{if(!l)return null;const _=MH(i)+d.length;return{snapshot:new Th(d,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kH(t),Ra(t),t.component??t._loadedComponent??null,t,AH(i),_,RH(t)),consumedSegments:d,remainingSegments:f}}));return o.pipe(ii(l=>{if(null===l)return Tt(null);const{snapshot:d,consumedSegments:f,remainingSegments:m}=l;e=t._injector??e;const _=t._loadedInjector??e,w=function g7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:x,slicedSegments:M}=KC(i,f,m,w.filter(R=>void 0===R.redirectTo));if(0===M.length&&x.hasChildren())return this.processChildren(_,w,x).pipe((0,Ht.U)(R=>null===R?null:[new $c(d,R)]));if(0===w.length&&0===M.length)return Tt([new $c(d,[])]);const k=Ra(t)===s;return this.processSegment(_,w,x,M,k?yn:s).pipe((0,Ht.U)(R=>null===R?null:[new $c(d,R)]))}))}}function _7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function SH(n){const e=[],t=new Set;for(const i of n){if(!_7(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=SH(i.children);e.push(new $c(i.value,r))}return e.filter(i=>!t.has(i))}function AH(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function MH(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kH(n){return n.data||{}}function RH(n){return n.resolve||{}}function PH(n){return"string"==typeof n.title||null===n.title}function LO(n){return ii(e=>{const t=n(e);return t?(0,fi.D)(t).pipe((0,Ht.U)(()=>e)):Tt(e)})}const Qb=new a.OlP("ROUTES");let VO=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Zu(t.loadComponent()).pipe((0,Ht.U)(NH),(0,us.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Nb(()=>{this.componentLoaders.delete(t)})),r=new Ob(i,()=>new zt.x).pipe(Pb());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Tt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ht.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let d,f,m=!1;Array.isArray(l)?f=l:(d=l.create(t).injector,f=DC(d.get(Qb,[],a.XFs.Self|a.XFs.Optional)));return{routes:f.map(YC),injector:d}}),Nb(()=>{this.childrenLoaders.delete(i)})),o=new Ob(s,()=>new zt.x).pipe(Pb());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return Zu(t()).pipe((0,Ht.U)(NH),(0,vr.z)(i=>i instanceof a.YKP||Array.isArray(i)?Tt(i):(0,fi.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NH(n){return function D7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let VS=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new zt.x,this.configLoader=(0,a.f3M)(VO),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(zp),this.rootContexts=(0,a.f3M)($p),this.navigationId=0,this.afterPreactivation=()=>Tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new TS(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new DS(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hb,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(i=>0!==i.id),(0,Ht.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ii(i=>{let r=!1,s=!1;return Tt(i).pipe((0,us.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ii(o=>{const l=t.browserUrlTree.toString(),d=!t.navigated||o.extractedUrl.toString()!==l||l!==t.currentUrlTree.toString();if(!d&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new E_(o.id,t.serializeUrl(i.rawUrl),m,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Vr.E}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return FH(o.source)&&(t.browserUrlTree=o.extractedUrl),Tt(o).pipe(ii(m=>{const _=this.transitions?.getValue();return this.events.next(new VC(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Vr.E:Promise.resolve(m)}),function u7(n,e,t,i){return ii(r=>function l7(n,e,t,i,r){return new c7(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Ht.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,us.b)(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},i.urlAfterRedirects=m.urlAfterRedirects}),function b7(n,e,t,i,r){return(0,vr.z)(s=>function f7(n,e,t,i,r,s,o="emptyOnly"){return new p7(n,e,t,i,r,o,s).recognize().pipe(ii(l=>null===l?function h7(n){return new Di.y(e=>e.error(n))}(new d7):Tt(l)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,Ht.U)(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,us.b)(m=>{if(i.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const w=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(w,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new ES(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:w,restoredState:x,extras:M}=o,k=new VC(m,this.urlSerializer.serialize(_),w,x);this.events.next(k);const R=EO(_,this.rootComponentType).snapshot;return Tt(i={...o,targetSnapshot:R,urlAfterRedirects:_,extras:{...M,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new E_(o.id,t.serializeUrl(i.extractedUrl),m,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Vr.E}}),(0,us.b)(o=>{const l=new yO(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}),(0,Ht.U)(o=>i={...o,guards:_H(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function P(n,e){return(0,vr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Tt({...t,guardsResult:!0}):function U(n,e,t,i){return(0,fi.D)(n).pipe((0,vr.z)(r=>function wt(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Tt(s.map(l=>{const d=Yb(e)??r,f=S_(l,d);return Zu(function h(n){return n&&Kb(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,i):d.runInContext(()=>f(n,e,t,i))).pipe(Zo())})).pipe(A()):Tt(!0)}(r.component,r.route,t,e,i)),Zo(r=>!0!==r,!0))}(o,i,r,n).pipe((0,vr.z)(l=>l&&function wH(n){return"boolean"==typeof n}(l)?function Y(n,e,t,i){return(0,fi.D)(e).pipe(Yu(r=>vh(function Ie(n,e){return null!==n&&e&&e(new IS(n)),Tt(!0)}(r.route.parent,i),function he(n,e){return null!==n&&e&&e(new AS(n)),Tt(!0)}(r.route,i),function ht(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function yH(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Hp(()=>Tt(o.guards.map(d=>{const f=Yb(o.node)??t,m=S_(d,f);return Zu(function u(n){return n&&Kb(n.canActivateChild)}(m)?m.canActivateChild(i,n):f.runInContext(()=>m(i,n))).pipe(Zo())})).pipe(A())));return Tt(s).pipe(A())}(n,r.path,t),function Ke(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Tt(!0);const r=i.map(s=>Hp(()=>{const o=Yb(e)??t,l=S_(s,o);return Zu(function c(n){return n&&Kb(n.canActivate)}(l)?l.canActivate(e,n):o.runInContext(()=>l(e,n))).pipe(Zo())}));return Tt(r).pipe(A())}(n,r.route,t))),Zo(r=>!0!==r,!0))}(i,s,n,e):Tt(l)),(0,Ht.U)(l=>({...t,guardsResult:l})))})}(this.environmentInjector,o=>this.events.next(o)),(0,us.b)(o=>{if(i.guardsResult=o.guardsResult,Gc(o.guardsResult))throw T_(0,o.guardsResult);const l=new xS(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(l)}),li(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),LO(o=>{if(o.guards.canActivateChecks.length)return Tt(o).pipe((0,us.b)(l=>{const d=new cH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ii(l=>{let d=!1;return Tt(l).pipe(function v7(n,e){return(0,vr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Tt(t);let s=0;return(0,fi.D)(r).pipe(Yu(o=>function w7(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!PH(r)&&(s[__]=r.title),function C7(n,e,t,i){const r=function E7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Tt({});const s={};return(0,fi.D)(r).pipe((0,vr.z)(o=>function x7(n,e,t,i){const r=Yb(e)??i,s=S_(n,r);return Zu(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Zo(),(0,us.b)(l=>{s[o]=l}))),sS(1),lS(s),ql(o=>C(o)?Vr.E:qu(o)))}(s,n,e,i).pipe((0,Ht.U)(o=>(n._resolvedData=o,n.data=xO(n,t).resolve,r&&PH(r)&&(n.data[__]=r.title),null)))}(o.route,i,n,e)),(0,us.b)(()=>s++),sS(1),(0,vr.z)(o=>s===r.length?Tt(t):Vr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,us.b)({next:()=>d=!0,complete:()=>{d||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),(0,us.b)(l=>{const d=new BC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),LO(o=>{const l=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe((0,us.b)(m=>{d.component=m}),(0,Ht.U)(()=>{})));for(const m of d.children)f.push(...l(m));return f};return kb(l(o.targetSnapshot.root)).pipe(Su(),si(1))}),LO(()=>this.afterPreactivation()),(0,Ht.U)(o=>{const l=function jC(n,e,t){const i=Ih(n,e._root,t?t._root:void 0);return new CO(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:l}}),(0,us.b)(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>(0,Ht.U)(i=>(new FO(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),si(1),(0,us.b)({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Dh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Nb(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ql(o=>{if(s=!0,AO(o)){SO(o)||(t.navigated=!0,t.restoreHistory(i,!0));const l=new zb(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(l),SO(o)){const d=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||FH(i.source)};t.scheduleNavigation(d,Hb,null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const l=new CS(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(l);try{i.resolve(t.errorHandler(o))}catch(d){i.reject(d)}}return Vr.E}))}))}cancelNavigationTransition(t,i,r){const s=new zb(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FH(n){return n!==Hb}let LH=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===yn);return i}getResolvedTitleForRoute(t){return t.data[__]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(T7)},providedIn:"root"}),n})(),T7=(()=>{class n extends LH{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qm))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(A7)},providedIn:"root"}),n})();class S7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let A7=(()=>{class n extends S7{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BS=new a.OlP("",{providedIn:"root",factory:()=>({})});let k7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(R7)},providedIn:"root"}),n})(),R7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P7(n){throw n}function O7(n,e,t){return e.parse("/")}const N7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ws=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(BS,{optional:!0})||{},this.errorHandler=this.options.errorHandler||P7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||O7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(k7),this.routeReuseStrategy=(0,a.f3M)(I7),this.urlCreationStrategy=(0,a.f3M)(dH),this.titleStrategy=(0,a.f3M)(LH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DC((0,a.f3M)(Qb,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(VS),this.urlSerializer=(0,a.f3M)(zp),this.location=(0,a.f3M)(Re),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ch,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hb,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const d={...r};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const l=this.parseUrl(t);this.scheduleNavigation(l,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(YC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:d}=i,f=d?this.currentUrlTree.fragment:o;let m=null;switch(l){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Gc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Hb,null,i)}navigate(t,i={skipLocationChange:!1}){return function L7(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...N7}:!1===i?{...F7}:i,Gc(t))return sO(this.currentUrlTree,t,r);const s=this.parseUrl(t);return sO(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,d,f,m;return o?(l=o.resolve,d=o.reject,f=o.promise):f=new Promise((_,w)=>{l=_,d=w}),m="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XC=(()=>{class n{constructor(t,i,r,s,o,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new zt.x;const d=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=t.events.subscribe(f=>{f instanceof Dh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ws),a.Y36(Gp),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(mt))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&a.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class VH{}let U7=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(li(t=>t instanceof Dh),Yu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return(0,fi.D)(r).pipe((0,g_.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Tt(null);const s=r.pipe((0,vr.z)(o=>null===o?Tt(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){const o=this.loader.loadComponent(i);return(0,fi.D)([s,o]).pipe((0,g_.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ws),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(VH),a.LFG(VO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UO=new a.OlP("");let BH=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof VC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof x_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new x_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var fl=(()=>((fl=fl||{})[fl.COMPLETE=0]="COMPLETE",fl[fl.FAILED=1]="FAILED",fl[fl.REDIRECTING=2]="REDIRECTING",fl))();const Xb=!1;function Wp(n,e){return{\u0275kind:n,\u0275providers:e}}const HO=new a.OlP("",{providedIn:"root",factory:()=>!1});function HH(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(Ws),r=n.get(zH);1===n.get(zO)&&i.initialNavigation(),n.get(jH,null,a.XFs.Optional)?.setUpPreloading(),n.get(UO,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const zH=new a.OlP(Xb?"bootstrap done indicator":"",{factory:()=>new zt.x}),zO=new a.OlP(Xb?"initial navigation":"",{providedIn:"root",factory:()=>1});function $7(){let n=[];return n=Xb?[{provide:a.Xts,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Ws);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function MS(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Wp(1,n)}const jH=new a.OlP(Xb?"router preloader":"");function W7(n){return Wp(0,[{provide:jH,useExisting:U7},{provide:VH,useExisting:n}])}const JC=!1,GH=new a.OlP(JC?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),q7=[Re,{provide:zp,useClass:fS},Ws,$p,{provide:Gp,useFactory:function UH(n){return n.routerState.root},deps:[Ws]},VO,JC?{provide:HO,useValue:!0}:[]];function Y7(){return new a.PXZ("Router",Ws)}let $H=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[q7,JC&&i?.enableTracing?$7().\u0275providers:[],{provide:Qb,multi:!0,useValue:t},{provide:GH,useFactory:X7,deps:[[Ws,new a.FiY,new a.tp0]]},{provide:BS,useValue:i||{}},i?.useHash?{provide:mt,useClass:ke}:{provide:mt,useClass:xe},{provide:UO,useFactory:()=>{const n=(0,a.f3M)(su),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(BS),i=(0,a.f3M)(VS),r=(0,a.f3M)(zp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BH(r,i,n,e,t)}},i?.preloadingStrategy?W7(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Y7},i?.initialNavigation?J7(i):[],[{provide:WH,useFactory:HH},{provide:a.tb,multi:!0,useExisting:WH}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Qb,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(GH,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[qb]}),n})();function X7(n){if(JC&&n)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function J7(n){return["disabled"===n.initialNavigation?Wp(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Ws);return()=>{e.setUpLocationChangeListener()}}},{provide:zO,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wp(2,[{provide:zO,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ws),s=e.get(zH);(function H7(n,e){n.events.pipe(li(t=>t instanceof Dh||t instanceof zb||t instanceof CS||t instanceof E_),(0,Ht.U)(t=>t instanceof Dh||t instanceof E_?fl.COMPLETE:t instanceof zb&&(0===t.code||1===t.code)?fl.REDIRECTING:fl.FAILED),li(t=>t!==fl.REDIRECTING),si(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(VS).afterPreactivation=()=>(i(!0),s.closed?Tt(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const WH=new a.OlP(JC?"Router Initializer":"");class US{}class jO{}class Sh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tK{encodeKey(e){return qH(e)}encodeValue(e){return qH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const iK=/%(\d[a-f0-9])/gi,rK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qH(n){return encodeURIComponent(n).replace(iK,(e,t)=>rK[t]??e)}function HS(n){return`${n}`}class qp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],d=t.get(o)||[];d.push(l),t.set(o,d)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(HS):[HS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(HS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(HS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class sK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function YH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ZH(n){return typeof Blob<"u"&&n instanceof Blob}function KH(n){return typeof FormData<"u"&&n instanceof FormData}class eE{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function oK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sh),this.context||(this.context=new sK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new qp,this.urlWithParams=t}serializeBody(){return null===this.body?null:YH(this.body)||ZH(this.body)||KH(this.body)||function aK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KH(this.body)?null:ZH(this.body)?this.body.type||null:YH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let d=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((_,w)=>_.set(w,e.setHeaders[w]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,w)=>_.set(w,e.setParams[w]),f)),new eE(t,i,s,{params:f,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:o})}}var Es=(()=>((Es=Es||{})[Es.Sent=0]="Sent",Es[Es.UploadProgress=1]="UploadProgress",Es[Es.ResponseHeader=2]="ResponseHeader",Es[Es.DownloadProgress=3]="DownloadProgress",Es[Es.Response=4]="Response",Es[Es.User=5]="User",Es))();class GO{constructor(e,t=200,i="OK"){this.headers=e.headers||new Sh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $O extends GO{constructor(e={}){super(e),this.type=Es.ResponseHeader}clone(e={}){return new $O({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zS extends GO{constructor(e={}){super(e),this.type=Es.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class QH extends GO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function WO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Jb=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof eE)s=t;else{let d,f;d=r.headers instanceof Sh?r.headers:new Sh(r.headers),r.params&&(f=r.params instanceof qp?r.params:new qp({fromObject:r.params})),s=new eE(t,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Tt(s).pipe(Yu(d=>this.handler.handle(d)));if(t instanceof eE||"events"===r.observe)return o;const l=o.pipe(li(d=>d instanceof zS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe((0,Ht.U)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe((0,Ht.U)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe((0,Ht.U)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return l.pipe((0,Ht.U)(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new qp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,WO(r,i))}post(t,i,r={}){return this.request("POST",t,WO(r,i))}put(t,i,r={}){return this.request("PUT",t,WO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(US))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function XH(n,e){return e(n)}function lK(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const uK=new a.OlP("HTTP_INTERCEPTORS"),tE=new a.OlP("HTTP_INTERCEPTOR_FNS");function dK(){let n=null;return(e,t)=>(null===n&&(n=((0,a.f3M)(uK,{optional:!0})??[]).reduceRight(lK,XH)),n(e,t))}let JH=(()=>{class n extends US{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(tE)));this.chain=i.reduceRight((r,s)=>function cK(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),XH)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(jO),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mK=/^\)\]\}',?\n/;let tz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Di.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((x,M)=>r.setRequestHeader(x,M.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&r.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();r.responseType="json"!==x?x:"text"}const s=t.serializeBody();let o=null;const l=()=>{if(null!==o)return o;const x=r.statusText||"OK",M=new Sh(r.getAllResponseHeaders()),k=function gK(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new $O({headers:M,status:r.status,statusText:x,url:k}),o},d=()=>{let{headers:x,status:M,statusText:k,url:R}=l(),$=null;204!==M&&($=typeof r.response>"u"?r.responseText:r.response),0===M&&(M=$?200:0);let W=M>=200&&M<300;if("json"===t.responseType&&"string"==typeof $){const ie=$;$=$.replace(mK,"");try{$=""!==$?JSON.parse($):null}catch(re){$=ie,W&&(W=!1,$={error:re,text:$})}}W?(i.next(new zS({body:$,headers:x,status:M,statusText:k,url:R||void 0})),i.complete()):i.error(new QH({error:$,headers:x,status:M,statusText:k,url:R||void 0}))},f=x=>{const{url:M}=l(),k=new QH({error:x,status:r.status||0,statusText:r.statusText||"Unknown Error",url:M||void 0});i.error(k)};let m=!1;const _=x=>{m||(i.next(l()),m=!0);let M={type:Es.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(M.total=x.total),"text"===t.responseType&&r.responseText&&(M.partialText=r.responseText),i.next(M)},w=x=>{let M={type:Es.UploadProgress,loaded:x.loaded};x.lengthComputable&&(M.total=x.total),i.next(M)};return r.addEventListener("load",d),r.addEventListener("error",f),r.addEventListener("timeout",f),r.addEventListener("abort",f),t.reportProgress&&(r.addEventListener("progress",_),null!==s&&r.upload&&r.upload.addEventListener("progress",w)),r.send(s),i.next({type:Es.Sent}),()=>{r.removeEventListener("error",f),r.removeEventListener("abort",f),r.removeEventListener("load",d),r.removeEventListener("timeout",f),t.reportProgress&&(r.removeEventListener("progress",_),null!==s&&r.upload&&r.upload.removeEventListener("progress",w)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const qO=new a.OlP("XSRF_ENABLED"),nz=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),iz=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rz{}let bK=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=to(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j),a.LFG(a.Lbi),a.LFG(nz))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function vK(n,e){const t=n.url.toLowerCase();if(!(0,a.f3M)(qO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,a.f3M)(rz).getToken(),r=(0,a.f3M)(iz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ds=(()=>((ds=ds||{})[ds.Interceptors=0]="Interceptors",ds[ds.LegacyInterceptors=1]="LegacyInterceptors",ds[ds.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ds[ds.NoXsrfProtection=3]="NoXsrfProtection",ds[ds.JsonpSupport=4]="JsonpSupport",ds[ds.RequestsMadeViaParent=5]="RequestsMadeViaParent",ds))();function ev(n,e){return{\u0275kind:n,\u0275providers:e}}function wK(...n){const e=[Jb,tz,JH,{provide:US,useExisting:JH},{provide:jO,useExisting:tz},{provide:tE,useValue:vK,multi:!0},{provide:qO,useValue:!0},{provide:rz,useClass:bK}];for(const t of n)e.push(...t.\u0275providers);return(0,a.MR2)(e)}const sz=new a.OlP("LEGACY_INTERCEPTOR_FN");let EK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[wK(ev(ds.LegacyInterceptors,[{provide:sz,useFactory:dK},{provide:tE,useExisting:sz,multi:!0}]))]}),n})();const Yp=class xK{constructor(e){this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},YO=class DK{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function jS(n,e){return n>e?1:n<e?-1:0}function ZO(n,e,t){const i=n.length;if(n[0]<=e)return 0;if(e<=n[i-1])return i-1;let r;if(t>0){for(r=1;r<i;++r)if(n[r]<e)return r-1}else if(t<0){for(r=1;r<i;++r)if(n[r]<=e)return r}else for(r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return"function"==typeof t?t(e,n[r-1],n[r])>0?r-1:r:n[r-1]-e<e-n[r]?r-1:r}return i-1}function GS(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function $S(){return!0}function WS(){return!1}function qS(){}function iE(n){for(const e in n)delete n[e]}const KO=class MK extends YO{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t="string"==typeof e,i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=t?new Yp(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let d;i in o||(o[i]=0,l[i]=0),++o[i];for(let f=0,m=r.length;f<m;++f)if(d="handleEvent"in r[f]?r[f].handleEvent(s):r[f].call(this,s),!1===d||s.propagationStopped){d=!1;break}if(0==--o[i]){let f=l[i];for(delete l[i];f--;)this.removeEventListener(i,qS);delete o[i]}return d}disposeInternal(){this.listeners_&&iE(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){const i=this.listeners_&&this.listeners_[e];if(i){const r=i.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=qS,++this.pendingRemovals_[e]):(i.splice(r,1),0===i.length&&delete this.listeners_[e]))}}},jn={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function gi(n,e,t,i,r){if(i&&i!==n&&(t=t.bind(i)),r){const o=t;t=function(){n.removeEventListener(e,t),o.apply(this,arguments)}}const s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function YS(n,e,t,i){return gi(n,e,t,i,!0)}function hs(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),iE(n))}const oz=class ZS extends KO{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(jn.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=gi(this,e[s],t);return r}return gi(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=YS(this,e[s],t)}else i=YS(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)!function kK(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)hs(n[e]);else hs(n)}(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};function zr(){throw new Error("Unimplemented abstract method.")}let RK=0;function Pa(n){return n.ol_uid||(n.ol_uid=String(++RK))}class az extends Yp{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}const Ah=class PK extends oz{constructor(e){super(),Pa(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new az(i,e,t)),i="propertychange",this.hasListener(i)&&this.dispatchEvent(new az(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],function AK(n){let e;for(e in n)return!1;return!e}(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},OK={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class NK extends Error{constructor(e){const t=OK[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}const lz=NK;class KS extends Yp{constructor(e,t,i){super(e),this.element=t,this.index=i}}const Mh=class FK extends Ah{constructor(e,t){if(super(),this.unique_=!!(t=t||{}).unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new KS("add",t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new KS("remove",t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new KS("remove",r,e)),this.dispatchEvent(new KS("add",t,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new lz(58)}},Zp=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",LK=Zp.includes("firefox"),VK=(Zp.includes("safari")&&!Zp.includes("chrom")&&(Zp.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Zp)),Zp.includes("webkit")&&!Zp.includes("edge")),BK=Zp.includes("macintosh"),uz=typeof devicePixelRatio<"u"?devicePixelRatio:1,QO=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,UK=typeof Image<"u"&&Image.prototype.decode,dz=function(){let n=!1;try{const e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();function Si(n,e){if(!n)throw new lz(e)}function Ql(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function tv(n,e,t,i,r,s,o,l){const d=Math.sin(s),f=Math.cos(s);return n[0]=i*f,n[1]=r*d,n[2]=-i*d,n[3]=r*f,n[4]=o*i*f-l*i*d+e,n[5]=o*r*d+l*r*f+t,n}function eN(n,e){const t=function HK(n){return n[0]*n[3]-n[1]*n[2]}(e);Si(0!==t,32);const i=e[0],r=e[1],s=e[2],o=e[3],l=e[4],d=e[5];return n[0]=o/t,n[1]=-r/t,n[2]=-s/t,n[3]=i/t,n[4]=(s*d-o*l)/t,n[5]=-(i*d-r*l)/t,n}let hz;new Array(6);const co={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function pz(n){const e=[1/0,1/0,-1/0,-1/0];for(let t=0,i=n.length;t<i;++t)sE(e,n[t]);return e}function mz(n,e,t){let i,r;return i=e<n[0]?n[0]-e:n[2]<e?e-n[2]:0,r=t<n[1]?n[1]-t:n[3]<t?t-n[3]:0,i*i+r*r}function tN(n,e){return gz(n,e[0],e[1])}function gz(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function _z(n,e){const o=e[0],l=e[1];let d=co.UNKNOWN;return o<n[0]?d|=co.LEFT:o>n[2]&&(d|=co.RIGHT),l<n[1]?d|=co.BELOW:l>n[3]&&(d|=co.ABOVE),d===co.UNKNOWN&&(d=co.INTERSECTING),d}function R_(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function nv(n){return R_(1/0,1/0,-1/0,-1/0,n)}function nN(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function sE(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function bz(n,e,t,i,r){for(;t<i;t+=r)ZK(n,e[t],e[t+1]);return n}function ZK(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function vz(n,e){let t;return t=e(XS(n)),!!(t||(t=e(JS(n)),t)||(t=e(eA(n)),t)||(t=e(P_(n)),t))&&t}function QS(n){let e=0;return sN(n)||(e=jr(n)*qc(n)),e}function XS(n){return[n[0],n[1]]}function JS(n){return[n[2],n[1]]}function iv(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function KK(n,e){let t;return"bottom-left"===e?t=XS(n):"bottom-right"===e?t=JS(n):"top-left"===e?t=P_(n):"top-right"===e?t=eA(n):Si(!1,13),t}function iN(n,e,t,i,r){const[s,o,l,d,f,m,_,w]=rN(n,e,t,i);return R_(Math.min(s,l,f,_),Math.min(o,d,m,w),Math.max(s,l,f,_),Math.max(o,d,m,w),r)}function rN(n,e,t,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(t),l=Math.sin(t),d=r*o,f=r*l,m=s*o,_=s*l,w=n[0],x=n[1];return[w-d+_,x-f-m,w-d-_,x-f+m,w+d-_,x+f+m,w+d+_,x+f-m,w-d+_,x-f-m]}function qc(n){return n[3]-n[1]}function rv(n,e,t){const i=t||[1/0,1/0,-1/0,-1/0];return oE(n,e)?(i[0]=n[0]>e[0]?n[0]:e[0],i[1]=n[1]>e[1]?n[1]:e[1],i[2]=n[2]<e[2]?n[2]:e[2],i[3]=n[3]<e[3]?n[3]:e[3]):nv(i),i}function P_(n){return[n[0],n[3]]}function eA(n){return[n[2],n[3]]}function jr(n){return n[2]-n[0]}function oE(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function sN(n){return n[2]<n[0]||n[3]<n[1]}function qs(n,e,t){return Math.min(Math.max(n,e),t)}function tQ(n,e,t,i,r,s){const o=r-t,l=s-i;if(0!==o||0!==l){const d=((n-t)*o+(e-i)*l)/(o*o+l*l);d>1?(t=r,i=s):d>0&&(t+=o*d,i+=l*d)}return sv(n,e,t,i)}function sv(n,e,t,i){const r=t-n,s=i-e;return r*r+s*s}function tA(n){return n*Math.PI/180}function ov(n,e){const t=n%e;return t*e<0?t+e:t}function iQ(n,e,t){return n+t*(e-n)}function oN(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}function nA(n,e){return Math.floor(oN(n,e))}function iA(n,e){return Math.ceil(oN(n,e))}const wz=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Cz=/^([a-z]*)$|^hsla?\(.*\)$/i;const sQ=function(){const e={};let t=0;return function(i){let r;if(e.hasOwnProperty(i))r=e[i];else{if(t>=1024){let s=0;for(const o in e)3&s++||(delete e[o],--t)}r=function oQ(n){let e,t,i,r,s;if(Cz.exec(n)&&(n=function Ez(n){const e=document.createElement("div");if(e.style.color=n,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(n)),wz.exec(n)){const o=n.length-1;let l;l=o<=4?1:2;const d=4===o||8===o;e=parseInt(n.substr(1+0*l,l),16),t=parseInt(n.substr(1+1*l,l),16),i=parseInt(n.substr(1+2*l,l),16),r=d?parseInt(n.substr(1+3*l,l),16):255,1==l&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,d&&(r=(r<<4)+r)),s=[e,t,i,r/255]}else n.startsWith("rgba(")?(s=n.slice(5,-1).split(",").map(Number),Dz(s)):n.startsWith("rgb(")?(s=n.slice(4,-1).split(",").map(Number),s.push(1),Dz(s)):Si(!1,14);return s}(i),e[i]=r,++t}return r}}();function xz(n){return Array.isArray(n)?n:sQ(n)}function Dz(n){return n[0]=qs(n[0]+.5|0,0,255),n[1]=qs(n[1]+.5|0,0,255),n[2]=qs(n[2]+.5|0,0,255),n[3]=qs(n[3],0,1),n}function Tz(n,e,t){return e+":"+n+":"+(t?function rQ(n){return"string"==typeof n?n:function aQ(n){let e=n[0];e!=(0|e)&&(e=e+.5|0);let t=n[1];t!=(0|t)&&(t=t+.5|0);let i=n[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+t+","+i+","+(void 0===n[3]?1:Math.round(100*n[3])/100)+")"}(n)}(t):"null")}const Iz=new class lQ{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_)!(3&e++)&&!this.cache_[t].hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}get(e,t,i){const r=Tz(e,t,i);return r in this.cache_?this.cache_[r]:null}set(e,t,i,r){const s=Tz(e,t,i);this.cache_[s]=r,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},Sz=class cQ extends Ah{constructor(e){super(),this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t.opacity=void 0!==e.opacity?e.opacity:1,Si("number"==typeof t.opacity,64),t.visible=void 0===e.visible||e.visible,t.zIndex=e.zIndex,t.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,t.minResolution=void 0!==e.minResolution?e.minResolution:0,t.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,t.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return t.opacity=qs(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==i||t.managed?i:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return zr()}getLayerStatesArray(e){return zr()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return zr()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set("maxResolution",e)}setMinResolution(e){this.set("minResolution",e)}setMaxZoom(e){this.set("maxZoom",e)}setMinZoom(e){this.set("minZoom",e)}setOpacity(e){Si("number"==typeof e,64),this.set("opacity",e)}setVisible(e){this.set("visible",e)}setZIndex(e){this.set("zIndex",e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Yc={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},uQ=42,aN=256,aE={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Az=class hQ{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||aE[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},lE=6378137,av=Math.PI*lE,fQ=[-av,-av,av,av],pQ=[-180,-85,180,85],rA=lE*Math.log(Math.tan(Math.PI/2));class lv extends Az{constructor(e){super({code:e,units:"m",extent:fQ,global:!0,worldExtent:pQ,getPointResolution:function(t,i){return t/Math.cosh(i[1]/lE)}})}}const Mz=[new lv("EPSG:3857"),new lv("EPSG:102100"),new lv("EPSG:102113"),new lv("EPSG:900913"),new lv("http://www.opengis.net/def/crs/EPSG/0/3857"),new lv("http://www.opengis.net/gml/srs/epsg.xml#3857")];function mQ(n,e,t){const i=n.length;t=t>1?t:2,void 0===e&&(e=t>2?n.slice():new Array(i));for(let r=0;r<i;r+=t){e[r]=av*n[r]/180;let s=lE*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));s>rA?s=rA:s<-rA&&(s=-rA),e[r+1]=s}return e}function gQ(n,e,t){const i=n.length;t=t>1?t:2,void 0===e&&(e=t>2?n.slice():new Array(i));for(let r=0;r<i;r+=t)e[r]=180*n[r]/av,e[r+1]=360*Math.atan(Math.exp(n[r+1]/lE))/Math.PI-90;return e}const kz=[-180,-90,180,90],yQ=6378137*Math.PI/180;class O_ extends Az{constructor(e,t){super({code:e,units:"degrees",extent:kz,axisOrientation:t,global:!0,metersPerUnit:yQ,worldExtent:kz})}}const Rz=[new O_("CRS:84"),new O_("EPSG:4326","neu"),new O_("urn:ogc:def:crs:OGC:1.3:CRS84"),new O_("urn:ogc:def:crs:OGC:2:84"),new O_("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new O_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new O_("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let sA={},Zc={};function oA(n,e,t){const i=n.getCode(),r=e.getCode();i in Zc||(Zc[i]={}),Zc[i][r]=t}function aA(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function lN(n,e){const t=Math.cos(e),i=Math.sin(e),s=n[1]*t+n[0]*i;return n[0]=n[0]*t-n[1]*i,n[1]=s,n}const lA=6371008.8;function cN(n,e,t){t=t||lA;const i=tA(n[1]),r=tA(e[1]),s=(r-i)/2,o=tA(e[0]-n[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}const cE={info:1,warn:2,error:3,none:4};let uA=cE.info;function Nz(...n){uA>cE.warn||console.warn(...n)}let dN=!0;function Fz(n){dN=!(void 0===n||n)}function hN(n,e){if(void 0!==e)for(let t=0,i=n.length;t<i;++t)e[t]=n[t];else e=n.slice();return e}function Lz(n,e){if(void 0!==e&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function kQ(n){(function vQ(n,e){sA[n]=e})(n.getCode(),n),oA(n,n,hN)}function ko(n){return"string"==typeof n?function bQ(n){return sA[n]||sA[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(n):n||null}function Vz(n,e,t,i){let r;const s=(n=ko(n)).getPointResolutionFunc();if(s){if(r=s(e,t),i&&i!==n.getUnits()){const o=n.getMetersPerUnit();o&&(r=r*o/aE[i])}}else{const o=n.getUnits();if("degrees"==o&&!i||"degrees"==i)r=e;else{const l=dA(n,ko("EPSG:4326"));if(l===Lz&&"degrees"!==o)r=e*n.getMetersPerUnit();else{let f=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];f=l(f,f,2),r=(cN(f.slice(0,2),f.slice(2,4))+cN(f.slice(4,6),f.slice(6,8)))/2}const d=i?aE[i]:n.getMetersPerUnit();void 0!==d&&(r/=d)}}return r}function Bz(n){(function RQ(n){n.forEach(kQ)})(n),n.forEach(function(e){n.forEach(function(t){e!==t&&oA(e,t,hN)})})}function fN(n,e){return n?"string"==typeof n?ko(n):n:ko(e)}function OQ(n,e){return Fz(),dE(n,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function cv(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||dA(n,e)===hN)&&t}function dA(n,e){let r=function wQ(n,e){let t;return n in Zc&&e in Zc[n]&&(t=Zc[n][e]),t}(n.getCode(),e.getCode());return r||(r=Lz),r}function uE(n,e){return dA(ko(n),ko(e))}function dE(n,e,t){return uE(e,t)(n,void 0,n.length)}function Hz(n,e,t,i){return function JK(n,e,t,i){let r=[];if(i>1){const l=n[2]-n[0],d=n[3]-n[1];for(let f=0;f<i;++f)r.push(n[0]+l*f/i,n[1],n[2],n[1]+d*f/i,n[2]-l*f/i,n[3],n[0],n[3]-d*f/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);const s=[],o=[];for(let l=0,d=r.length;l<d;l+=2)s.push(r[l]),o.push(r[l+1]);return function zK(n,e,t){return R_(Math.min.apply(null,n),Math.min.apply(null,e),Math.max.apply(null,n),Math.max.apply(null,e),t)}(s,o,t)}(n,uE(e,t),void 0,i)}let na=null;function pN(n,e){return na?dE(n,e,na):n}function kh(n,e){return na?dE(n,na,e):(dN&&!aA(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(dN=!1,Nz("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function uv(n,e){return na?Hz(n,na,e):n}function zz(n,e,t){return function(i,r,s,o,l){if(!i)return;if(!r&&!e)return i;const d=e?0:s[0]*r,f=e?0:s[1]*r,m=l?l[0]:0,_=l?l[1]:0;let w=n[0]+d/2+m,x=n[2]-d/2+m,M=n[1]+f/2+_,k=n[3]-f/2+_;w>x&&(w=(x+w)/2,x=w),M>k&&(M=(k+M)/2,k=M);let R=qs(i[0],w,x),$=qs(i[1],M,k);if(o&&t&&r){const W=30*r;R+=-W*Math.log(1+Math.max(0,w-i[0])/W)+W*Math.log(1+Math.max(0,i[0]-x)/W),$+=-W*Math.log(1+Math.max(0,M-i[1])/W)+W*Math.log(1+Math.max(0,i[1]-k)/W)}return[R,$]}}function BQ(n){return n}function mN(n,e,t,i){const r=jr(e)/t[0],s=qc(e)/t[1];return i?Math.min(n,Math.max(r,s)):Math.min(n,Math.min(r,s))}function gN(n,e,t){let i=Math.min(n,e);return i*=Math.log(1+50*Math.max(0,n/e-1))/50+1,t&&(i=Math.max(i,t),i/=Math.log(1+50*Math.max(0,t/n-1))/50+1),qs(i,t/2,2*e)}function jz(n,e,t,i,r){return t=void 0===t||t,function(s,o,l,d){if(void 0!==s){const f=i?mN(n,i,l,r):n;return t&&d?gN(s,f,e):qs(s,e,f)}}}function _N(n){if(void 0!==n)return 0}function Gz(n){if(void 0!==n)return n}function $z(n){return Math.pow(n,3)}function dv(n){return 1-$z(1-n)}function yN(n){return 3*n*n-2*n*n*n}function GQ(n){return n}!function VQ(){Bz(Mz),Bz(Rz),function PQ(n,e,t,i){n.forEach(function(r){e.forEach(function(s){oA(r,s,t),oA(s,r,i)})})}(Rz,Mz,mQ,gQ)}();const Wz=[1,0,0,1,0,0],KQ=class ZQ extends Ah{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function SK(n){let t,i,r,e=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==r||!GS(s,i))&&(e=!0,r=this,i=s,t=n.apply(this,arguments)),t}}(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return zr()}closestPointXY(e,t,i,r){return zr()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return this.closestPointXY(e[0],e[1],t=t||[NaN,NaN],1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return zr()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&nv(t),this.extentRevision_=this.getRevision()}return function QK(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}(this.extent_,e)}rotate(e,t){zr()}scale(e,t,i){zr()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return zr()}getType(){return zr()}applyTransform(e){zr()}intersectsExtent(e){return zr()}translate(e,t){zr()}transform(e,t){const i=ko(e),r="tile-pixels"==i.getUnits()?function(s,o,l){const d=i.getExtent(),f=i.getWorldExtent(),m=qc(f)/qc(d);return tv(Wz,f[0],f[3],m,-m,0,0,0),function $Q(n,e,t,i,r,s){s=s||[];let o=0;for(let l=e;l<t;l+=i){const d=n[l],f=n[l+1];s[o++]=r[0]*d+r[2]*f+r[4],s[o++]=r[1]*d+r[3]*f+r[5]}s&&s.length!=o&&(s.length=o)}(s,0,s.length,l,Wz,o),uE(i,t)(s,o,l)}:uE(i,t);return this.applyTransform(r),this}};function qz(n){let e;return"XY"==n?e=2:"XYZ"==n||"XYM"==n?e=3:"XYZM"==n&&(e=4),e}const bN=class QQ extends KQ{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return function WK(n,e,t,i,r){return bz(nv(r),n,e,t,i)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return zr()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=qz(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){zr()}setLayout(e,t,i){let r;if(e)r=qz(e);else{for(let s=0;s<i;++s){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}r=t.length,e=function XQ(n){let e;return 2==n?e="XY":3==n?e="XYZ":4==n&&(e="XYZM"),e}(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();(function WQ(n,e,t,i,r,s,o){o=o||[];const l=Math.cos(r),d=Math.sin(r),f=s[0],m=s[1];let _=0;for(let w=e;w<t;w+=i){const x=n[w]-f,M=n[w+1]-m;o[_++]=f+x*l-M*d,o[_++]=m+x*d+M*l;for(let k=w+2;k<w+i;++k)o[_++]=n[k]}o&&o.length!=_&&(o.length=_)})(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){void 0===t&&(t=e),i||(i=iv(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function qQ(n,e,t,i,r,s,o,l){l=l||[];const d=o[0],f=o[1];let m=0;for(let _=e;_<t;_+=i){const x=n[_+1]-f;l[m++]=d+r*(n[_]-d),l[m++]=f+s*x;for(let M=_+2;M<_+i;++M)l[m++]=n[M]}l&&l.length!=m&&(l.length=m)})(r,0,r.length,s,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();(function YQ(n,e,t,i,r,s,o){o=o||[];let l=0;for(let d=e;d<t;d+=i){o[l++]=n[d]+r,o[l++]=n[d+1]+s;for(let f=d+2;f<d+i;++f)o[l++]=n[f]}o&&o.length!=l&&(o.length=l)})(i,0,i.length,r,e,t,i),this.changed()}}};function Yz(n,e,t,i,r,s,o){const l=n[e],d=n[e+1],f=n[t]-l,m=n[t+1]-d;let _;if(0===f&&0===m)_=e;else{const w=((r-l)*f+(s-d)*m)/(f*f+m*m);if(w>1)_=t;else{if(w>0){for(let x=0;x<i;++x)o[x]=iQ(n[e+x],n[t+x],w);return void(o.length=i)}_=e}}for(let w=0;w<i;++w)o[w]=n[_+w];o.length=i}function Zz(n,e,t,i,r){let s=n[e],o=n[e+1];for(e+=i;e<t;e+=i){const l=n[e],d=n[e+1],f=sv(s,o,l,d);f>r&&(r=f),s=l,o=d}return r}function Qz(n,e,t,i,r,s,o,l,d,f,m){if(e==t)return f;let _,w;if(0===r){if(w=sv(o,l,n[e],n[e+1]),w<f){for(_=0;_<i;++_)d[_]=n[e+_];return d.length=i,w}return f}m=m||[NaN,NaN];let x=e+i;for(;x<t;)if(Yz(n,x-i,x,i,o,l,m),w=sv(o,l,m[0],m[1]),w<f){for(f=w,_=0;_<i;++_)d[_]=m[_];d.length=i,x+=i}else x+=i*Math.max((Math.sqrt(w)-Math.sqrt(f))/r|0,1);if(s&&(Yz(n,t-i,e,i,o,l,m),w=sv(o,l,m[0],m[1]),w<f)){for(f=w,_=0;_<i;++_)d[_]=m[_];d.length=i}return f}function Jz(n,e,t,i){for(let r=0,s=t.length;r<s;++r){const o=t[r];for(let l=0;l<i;++l)n[e++]=o[l]}return e}function hv(n,e){return e*Math.round(n/e)}function nX(n,e,t,i,r,s,o){if(e==t)return o;let f,m,l=hv(n[e],r),d=hv(n[e+1],r);e+=i,s[o++]=l,s[o++]=d;do{if(f=hv(n[e],r),m=hv(n[e+1],r),(e+=i)==t)return s[o++]=f,s[o++]=m,o}while(f==l&&m==d);for(;e<t;){const _=hv(n[e],r),w=hv(n[e+1],r);if(e+=i,_==f&&w==m)continue;const x=f-l,M=m-d,k=_-l,R=w-d;x*R==M*k&&(x<0&&k<x||x==k||x>0&&k>x)&&(M<0&&R<M||M==R||M>0&&R>M)?(f=_,m=w):(s[o++]=f,s[o++]=m,l=f,d=m,f=_,m=w)}return s[o++]=f,s[o++]=m,o}function nj(n,e,t,i,r){r=void 0!==r?r:[];let s=0;for(let o=e;o<t;o+=i)r[s++]=n.slice(o,o+i);return r.length=s,r}function rj(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1];for(;e<t;e+=i){const l=n[e],d=n[e+1];r+=o*l-s*d,s=l,o=d}return r/2}class hA extends bN{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new hA(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<mz(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zz(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qz(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return rj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return nj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=function vN(n,e,t,i,r,s,o){const l=(t-e)/i;if(l<3){for(;e<t;e+=i)s[o++]=n[e],s[o++]=n[e+1];return o}const d=new Array(l);d[0]=1,d[l-1]=1;const f=[e,t-i];let m=0;for(;f.length>0;){const _=f.pop(),w=f.pop();let x=0;const M=n[w],k=n[w+1],R=n[_],$=n[_+1];for(let W=w+i;W<_;W+=i){const ge=tQ(n[W],n[W+1],M,k,R,$);ge>x&&(m=W,x=ge)}x>r&&(d[(m-e)/i]=1,w+i<m&&f.push(w,m),m+i<_&&f.push(m,_))}for(let _=0;_<l;++_)d[_]&&(s[o++]=n[e+_*i],s[o++]=n[e+_*i+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new hA(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jz(this.flatCoordinates,0,e,this.stride),this.changed()}}const oj=hA;class wN extends bN{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new wN(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const s=this.flatCoordinates,o=sv(e,t,s[0],s[1]);if(o<r){const l=this.stride;for(let d=0;d<l;++d)i[d]=s[d];return i.length=l,o}return r}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return function $K(n,e){const t=n[0],i=n[1];return R_(t,i,t,i,e)}(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return gz(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function JQ(n,e,t,i){for(let r=0,s=t.length;r<s;++r)n[e++]=t[r];return e}(this.flatCoordinates,0,e),this.changed()}}const iX=wN;function rX(n,e,t,i,r){return!vz(r,function(o){return!N_(n,e,t,i,o[0],o[1])})}function N_(n,e,t,i,r,s){let o=0,l=n[t-i],d=n[t-i+1];for(;e<t;e+=i){const f=n[e],m=n[e+1];d<=s?m>s&&(f-l)*(s-d)-(r-l)*(m-d)>0&&o++:m<=s&&(f-l)*(s-d)-(r-l)*(m-d)<0&&o--,l=f,d=m}return 0!==o}function CN(n,e,t,i,r,s){if(0===t.length||!N_(n,e,t[0],i,r,s))return!1;for(let o=1,l=t.length;o<l;++o)if(N_(n,t[o-1],t[o],i,r,s))return!1;return!0}function EN(n,e,t,i,r){const s=bz([1/0,1/0,-1/0,-1/0],n,e,t,i);return!!oE(r,s)&&(!!(function GK(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3])||function sX(n,e,t,i,r){let s;for(e+=i;e<t;e+=i)if(s=r(n.slice(e-i,e),n.slice(e,e+i)),s)return s;return!1}(n,e,t,i,function(o,l){return function XK(n,e,t){let i=!1;const r=_z(n,e),s=_z(n,t);if(r===co.INTERSECTING||s===co.INTERSECTING)i=!0;else{const o=n[0],l=n[1],d=n[2],f=n[3],w=t[0],x=t[1],M=(x-e[1])/(w-e[0]);let k,R;s&co.ABOVE&&!(r&co.ABOVE)&&(k=w-(x-f)/M,i=k>=o&&k<=d),!i&&s&co.RIGHT&&!(r&co.RIGHT)&&(R=x-(w-d)*M,i=R>=l&&R<=f),!i&&s&co.BELOW&&!(r&co.BELOW)&&(k=w-(x-l)/M,i=k>=o&&k<=d),!i&&s&co.LEFT&&!(r&co.LEFT)&&(R=x-(w-o)*M,i=R>=l&&R<=f)}return i}(r,o,l)}))}function lj(n,e,t,i,r){return!!(EN(n,e,t,i,r)||N_(n,e,t,i,r[0],r[1])||N_(n,e,t,i,r[0],r[3])||N_(n,e,t,i,r[2],r[1])||N_(n,e,t,i,r[2],r[3]))}function oX(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const s=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=s}e+=i,t-=i}}function xN(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1];for(;e<t;e+=i){const l=n[e],d=n[e+1];r+=(l-s)*(d+o),s=l,o=d}return 0===r?void 0:r>0}function DN(n,e,t,i,r){r=void 0!==r&&r;for(let s=0,o=t.length;s<o;++s){const l=t[s],d=xN(n,e,l,i);(0===s?r&&d||!r&&!d:r&&!d||!r&&d)&&oX(n,e,l,i),e=l}return e}class F_ extends bN{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?function TK(n,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new F_(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<mz(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function Kz(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){const l=t[s];r=Zz(n,e,l,i,r),e=l}return r}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function Xz(n,e,t,i,r,s,o,l,d,f,m){m=m||[NaN,NaN];for(let _=0,w=t.length;_<w;++_){const x=t[_];f=Qz(n,e,x,i,r,s,o,l,d,f,m),e=x}return f}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return CN(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return function sj(n,e,t,i){let r=0;for(let s=0,o=t.length;s<o;++s){const l=t[s];r+=rj(n,e,l,i),e=l}return r}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),DN(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,function ij(n,e,t,i,r){r=void 0!==r?r:[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=t[o];r[s++]=nj(n,e,d,i,r[s]),e=d}return r.length=s,r}(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=iv(this.getExtent());this.flatInteriorPoint_=function aj(n,e,t,i,r,s,o){let l,d,f,m,_,w,x;const M=r[s+1],k=[];for(let W=0,ie=t.length;W<ie;++W){const re=t[W];for(m=n[re-i],w=n[re-i+1],l=e;l<re;l+=i)_=n[l],x=n[l+1],(M<=w&&x<=M||w<=M&&M<=x)&&(f=(M-w)/(x-w)*(_-m)+m,k.push(f)),m=_,w=x}let R=NaN,$=-1/0;for(k.sort(jS),m=k[0],l=1,d=k.length;l<d;++l){_=k[l];const W=Math.abs(_-m);W>$&&(f=(m+_)/2,CN(n,e,t,i,f,M)&&(R=f,$=W)),m=_}return isNaN(R)&&(R=r[s]),o?(o.push(R,M,$),o):[R,M,$]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new iX(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new oj(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,l=i.length;o<l;++o){const d=i[o],f=new oj(t.slice(s,d),e);r.push(f),s=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function uj(n,e,t,i,r){r=void 0!==r&&r;for(let s=0,o=t.length;s<o;++s){const l=t[s],d=xN(n,e,l,i);if(0===s){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;e=l}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=DN(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=function tj(n,e,t,i,r,s,o,l){for(let d=0,f=t.length;d<f;++d){const m=t[d];o=nX(n,e,m,i,r,s,o),l.push(o),e=m}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new F_(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return function cj(n,e,t,i,r){if(!lj(n,e,t[0],i,r))return!1;if(1===t.length)return!0;for(let s=1,o=t.length;s<o;++s)if(rX(n,t[s-1],t[s],i,r)&&!EN(n,t[s-1],t[s],i,r))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=function ej(n,e,t,i,r){r=r||[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=Jz(n,e,t[o],i);r[s++]=d,e=d}return r.length=s,r}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const aX=F_;function dj(n){const e=n[0],t=n[1],i=n[2],r=n[3],s=[e,t,e,r,i,r,i,t,e,t];return new F_(s,"XY",[s.length])}function fA(n,e){setTimeout(function(){n(e)},0)}function IN(n,e,t,i,r){const s=Math.cos(-r);let o=Math.sin(-r),l=n[0]*s-n[1]*o,d=n[1]*s+n[0]*o;return l+=(e[0]/2-t[0])*i,d+=(t[1]-e[1]/2)*i,o=-o,[l*s-d*o,d*s+l*o]}const Xu=class cX extends Ah{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=fN(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&Fz(),e.center&&(e.center=kh(e.center,this.projection_)),e.extent&&(e.extent=uv(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const l in Yc)delete t[l];this.setProperties(t,!0);const i=function dX(n){let e,t,i,o=void 0!==n.minZoom?n.minZoom:0,l=void 0!==n.maxZoom?n.maxZoom:28;const d=void 0!==n.zoomFactor?n.zoomFactor:2,f=void 0!==n.multiWorld&&n.multiWorld,m=void 0===n.smoothResolutionConstraint||n.smoothResolutionConstraint,_=void 0!==n.showFullExtent&&n.showFullExtent,w=fN(n.projection,"EPSG:3857"),x=w.getExtent();let M=n.constrainOnlyCenter,k=n.extent;if(!f&&!k&&w.isGlobal()&&(M=!1,k=x),void 0!==n.resolutions){const R=n.resolutions;t=R[o],i=void 0!==R[l]?R[l]:R[R.length-1],e=n.constrainResolution?function UQ(n,e,t,i){return e=void 0===e||e,function(r,s,o,l){if(void 0!==r){const d=n[0],f=n[n.length-1],m=t?mN(d,t,o,i):d;if(l)return e?gN(r,m,f):qs(r,f,m);const _=Math.min(m,r),w=Math.floor(ZO(n,_,s));return n[w]>m&&w<n.length-1?n[w+1]:n[w]}}}(R,m,!M&&k,_):jz(t,i,m,!M&&k,_)}else{const $=(x?Math.max(jr(x),qc(x)):360*aE.degrees/w.getMetersPerUnit())/aN/Math.pow(2,0),W=$/Math.pow(2,28);t=n.maxResolution,void 0!==t?o=0:t=$/Math.pow(d,o),i=n.minResolution,void 0===i&&(i=void 0!==n.maxZoom?void 0!==n.maxResolution?t/Math.pow(d,l):$/Math.pow(d,l):W),l=o+Math.floor(Math.log(t/i)/Math.log(d)),i=t/Math.pow(d,l-o),e=n.constrainResolution?function HQ(n,e,t,i,r,s){return i=void 0===i||i,t=void 0!==t?t:0,function(o,l,d,f){if(void 0!==o){const m=r?mN(e,r,d,s):e;if(f)return i?gN(o,m,t):qs(o,t,m);const _=1e-9,w=Math.ceil(Math.log(e/m)/Math.log(n)-_),x=-l*(.5-_)+.5,M=Math.min(m,o),k=Math.floor(Math.log(e/M)/Math.log(n)+x),R=Math.max(w,k);return qs(e/Math.pow(n,R),t,m)}}}(d,t,i,m,!M&&k,_):jz(t,i,m,!M&&k,_)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:o,zoomFactor:d}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=function uX(n){if(void 0!==n.extent)return zz(n.extent,n.constrainOnlyCenter,void 0===n.smoothExtentConstraint||n.smoothExtentConstraint);const e=fN(n.projection,"EPSG:3857");if(!0!==n.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,zz(t,!1,!1)}return BQ}(e),s=i.constraint,o=function hX(n){if(void 0===n.enableRotation||n.enableRotation){const t=n.constrainRotation;return void 0===t||!0===t?function jQ(n){return n=n||tA(5),function(e,t){return t?e:void 0!==e?Math.abs(e)<=n?0:e:void 0}}():!1===t?Gz:"number"==typeof t?function zQ(n){const e=2*Math.PI/n;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(t):Gz}return _N}(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution();this.setCenterInternal([i[0]+s/2*(r[3]-t[3]+t[1]-r[1]),i[1]-s/2*(r[0]-t[0]+t[2]-r[2])])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=kh(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=kh(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let i,t=arguments.length;t>1&&"function"==typeof arguments[t-1]&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),void 0!==m.zoom?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),void 0!==m.rotation&&this.setRotation(m.rotation)}if(r===t)return void(i&&fA(i,!0));let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,d=this.targetRotation_;const f=[];for(;r<t;++r){const m=arguments[r],_={start:s,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||yN,callback:i};if(m.center&&(_.sourceCenter=o,_.targetCenter=m.center.slice(),o=_.targetCenter),void 0!==m.zoom?(_.sourceResolution=l,_.targetResolution=this.getResolutionForZoom(m.zoom),l=_.targetResolution):m.resolution&&(_.sourceResolution=l,_.targetResolution=m.resolution,l=_.targetResolution),void 0!==m.rotation){_.sourceRotation=d;const w=ov(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;_.targetRotation=d+w,d=_.targetRotation}(n=_).sourceCenter&&n.targetCenter&&!aA(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation?s+=_.duration:_.complete=!0,f.push(_)}var n;this.animations_.push(f),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&fA(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const l=r[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,l=r.length;o<l;++o){const d=r[o];if(d.complete)continue;let m=d.duration>0?(e-d.start)/d.duration:1;m>=1?(d.complete=!0,m=1):s=!1;const _=d.easing(m);if(d.sourceCenter){const w=d.sourceCenter[0],x=d.sourceCenter[1],M=d.targetCenter[0],k=d.targetCenter[1];this.nextCenter_=d.targetCenter,this.targetCenter_=[w+_*(M-w),x+_*(k-x)]}if(d.sourceResolution&&d.targetResolution){const w=1===_?d.targetResolution:d.sourceResolution+_*(d.targetResolution-d.sourceResolution);if(d.anchor){const x=this.getViewportSize_(this.getRotation()),M=this.constraints_.resolution(w,0,x,!0);this.targetCenter_=this.calculateCenterZoom(M,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=w,this.applyTargetState_(!0)}if(void 0!==d.sourceRotation&&void 0!==d.targetRotation){const w=1===_?ov(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+_*(d.targetRotation-d.sourceRotation);if(d.anchor){const x=this.constraints_.rotation(w,!0);this.targetCenter_=this.calculateCenterRotate(x,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=w}if(this.applyTargetState_(!0),t=!0,!d.complete)break}if(s){this.animations_[i]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&fA(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return void 0!==r&&(i=[r[0]-t[0],r[1]-t[1]],lN(i,e-this.getRotation()),function CQ(n,e){n[0]+=+e[0],n[1]+=+e[1]}(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),s=this.getResolution();return void 0!==r&&void 0!==s&&(i=[t[0]-e*(t[0]-r[0])/s,t[1]-e*(t[1]-r[1])/s]),i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&pN(e,this.getProjection())}getCenterInternal(){return this.get(Yc.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return function LQ(n,e){return na?Hz(n,e,na):n}(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Si(t,1);const i=this.getResolution();Si(void 0!==i,2);const r=this.getRotation();return Si(void 0!==r,3),iN(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Yc.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(uv(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=jr(e)/t[0],r=qc(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),r=Math.log(t/this.minResolution_)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(Yc.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=Math.log(i/this.minResolution_)/t;return function(o){return Math.log(i/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=IN(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,i)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let i,r,t=this.minZoom_||0;if(this.resolutions_){const s=ZO(this.resolutions_,e,1);t=s,i=this.resolutions_[s],r=s==this.resolutions_.length-1?2:i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=qs(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[t]/Math.pow(this.resolutions_[t]/this.resolutions_[t+1],qs(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Si(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Si(!sN(e),25),i=dj(uv(e,this.getProjection()));else if("Circle"===e.getType()){const r=uv(e.getExtent(),this.getProjection());i=dj(r),i.rotate(this.getRotation(),iv(r))}else{const r=function FQ(){return na}();i=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,d=1/0,f=-1/0,m=-1/0;for(let _=0,w=s.length;_<w;_+=o){const x=s[_]*i-s[_+1]*r,M=s[_]*r+s[_+1]*i;l=Math.min(l,x),d=Math.min(d,M),f=Math.max(f,x),m=Math.max(m,M)}return[l,d,f,m]}fitInternal(e,t){let i=(t=t||{}).size;i||(i=this.getViewportSizeMinusPadding_());const r=void 0!==t.padding?t.padding:[0,0,0,0],s=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const l=this.rotatedExtentForGeometry(e);let d=this.getResolutionForExtentInternal(l,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);d=isNaN(d)?o:Math.max(d,o),d=this.getConstrainedResolution(d,s?0:1);const f=this.getRotation(),m=Math.sin(f),_=Math.cos(f),w=iv(l);w[0]+=(r[1]-r[3])/2*d,w[1]+=(r[0]-r[2])/2*d;const k=this.getConstrainedCenter([w[0]*_-w[1]*m,w[1]*_+w[0]*m],d),R=t.callback?t.callback:qS;void 0!==t.duration?this.animateInternal({resolution:d,center:k,duration:t.duration,easing:t.easing},R):(this.targetResolution_=d,this.targetCenter_=k,this.applyTargetState_(!1,!0),fA(R,!0))}centerOn(e,t,i){this.centerOnInternal(kh(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(IN(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-i),d=IN(e,r,[l[0]/2+o[3],l[1]/2+o[0]],t,i);s=[e[0]-d[0],e[1]-d[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=pN(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&kh(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=kh(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&kh(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),l=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(Yc.ROTATION)!==r&&this.set(Yc.ROTATION,r),this.get(Yc.RESOLUTION)!==o&&(this.set(Yc.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Yc.CENTER)||!aA(this.get(Yc.CENTER),l))&&this.set(Yc.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=void 0!==e?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,r,o),d=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=d,void this.applyTargetState_();i=i||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!aA(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:d,resolution:l,duration:e,easing:dv,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,t,i){i=i&&kh(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function SN(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}const AN=class pX extends Sz{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(hs(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=gi(e,jn.CHANGE,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;t=e instanceof Xu?{viewState:e.getState(),extent:e.calculateExtent()}:e;const i=this.getExtent();return this.getVisible()&&SN(this.getLayerState(),t.viewState)&&(!i||oE(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];let s=t(e instanceof Xu?e.getViewStateAndExtent():e);return Array.isArray(s)||(s=[s]),s}render(e,t){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(hs(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(hs(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=gi(e,"precompose",function(t){const r=t.frameState.layerStatesArray,s=this.getLayerState(!1);Si(!r.some(function(o){return o.layer===s.layer}),67),r.push(s)},this),this.mapRenderKey_=gi(this,jn.CHANGE,e.render,e),this.changed())}setSource(e){this.set("source",e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function gX(n,e){Iz.expire()}const _X=class mX extends YO{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){zr()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;tv(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),eN(r,i)}forEachFeatureAtCoordinate(e,t,i,r,s,o,l,d){let f;const m=t.viewState;function _(re,ge,Ee,Ze){return s.call(o,ge,re?Ee:null,Ze)}const w=m.projection,x=function IQ(n,e){if(e.canWrapX()){const t=jr(e.getExtent()),i=function SQ(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||jr(i),r=Math.floor((n[0]-i[0])/t)),r}(n,e,t);i&&(n[0]-=i*t)}return n}(e.slice(),w),M=[[0,0]];if(w.canWrapX()&&r){const ge=jr(w.getExtent());M.push([-ge,0],[ge,0])}const k=t.layerStatesArray,R=k.length,$=[],W=[];for(let re=0;re<M.length;re++)for(let ge=R-1;ge>=0;--ge){const Ee=k[ge],Ze=Ee.layer;if(Ze.hasRenderer()&&SN(Ee,m)&&l.call(d,Ze)){const Qe=Ze.getRenderer(),gt=Ze.getSource();if(Qe&&gt){const Ut=gt.getWrapX()?x:e,Jt=_.bind(null,Ee.managed);W[0]=Ut[0]+M[re][0],W[1]=Ut[1]+M[re][1],f=Qe.forEachFeatureAtCoordinate(W,t,i,Jt,$)}if(f)return f}}if(0===$.length)return;const ie=1/$.length;return $.forEach((re,ge)=>re.distanceSq+=ge*ie),$.sort((re,ge)=>re.distanceSq-ge.distanceSq),$.some(re=>f=re.callback(re.feature,re.layer,re.geometry)),f}hasFeatureAtCoordinate(e,t,i,r,s,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,i,r,$S,this,s,o)}getMap(){return this.map_}renderFrame(e){zr()}scheduleExpireIconCache(e){Iz.canExpireCache()&&e.postRenderFunctions.push(gX)}},hj=class yX extends Yp{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},pA="ol-hidden",mA="ol-unselectable",MN="ol-control",fj="ol-collapsed";new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i");function L_(n,e,t,i){let r;return r=t&&t.length?t.shift():QO?new OffscreenCanvas(n||300,e||300):document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}function kN(n){const e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function gj(n,e){const t=e.parentNode;t&&t.replaceChild(n,e)}function RN(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}const Rh=new Ah;const DX=class xX extends _X{constructor(e){super(e),this.fontChangeListenerKey_=gi(Rh,"propertychange",e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=mA+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new hj(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){hs(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const t=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),i=e.viewState;this.children_.length=0;const r=[];let s=null;for(let o=0,l=t.length;o<l;++o){const d=t[o];e.layerIndex=o;const f=d.layer,m=f.getSourceState();if(!SN(d,i)||"ready"!=m&&"undefined"!=m){f.unrender();continue}const _=f.render(e,s);_&&(_!==s&&(this.children_.push(_),s=_),"getDeclutter"in f&&r.push(f))}for(let o=r.length-1;o>=0;--o)r[o].renderDeclutter(e);(function wX(n,e){const t=n.childNodes;for(let i=0;;++i){const r=t[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){n.appendChild(s);continue}if(!s){n.removeChild(r),--i;continue}n.insertBefore(s,r)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};class Qp extends Yp{constructor(e,t){super(e),this.layer=t}}class FN extends Sz{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),i?Array.isArray(i)?i=new Mh(i.slice(),{unique:!0}):Si("function"==typeof i.getArray,43):i=new Mh(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(hs),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(gi(e,"add",this.handleLayersAdd_,this),gi(e,"remove",this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(hs);iE(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const s=t[i];this.registerLayerListeners_(s),this.dispatchEvent(new Qp("addlayer",s))}this.changed()}registerLayerListeners_(e){const t=[gi(e,"propertychange",this.handleLayerChange_,this),gi(e,jn.CHANGE,this.handleLayerChange_,this)];e instanceof FN&&t.push(gi(e,"addlayer",this.handleLayerGroupAdd_,this),gi(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Pa(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Qp("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Qp("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Qp("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Pa(t);this.listenerKeys_[i].forEach(hs),delete this.listenerKeys_[i],this.dispatchEvent(new Qp("removelayer",t)),this.changed()}getLayers(){return this.get("layers")}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Qp("removelayer",i[r]))}this.set("layers",e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=void 0!==e?e:[],i=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});const r=this.getLayerState();let s=r.zIndex;!e&&void 0===r.zIndex&&(s=0);for(let o=i,l=t.length;o<l;o++){const d=t[o];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),void 0!==r.extent&&(d.extent=void 0!==d.extent?rv(d.extent,r.extent):r.extent),void 0===d.zIndex&&(d.zIndex=s)}return t}getSourceState(){return"ready"}}const _A=FN,pv=class TX extends Yp{constructor(e,t,i){super(e),this.map=t,this.frameState=void 0!==i?i:null}},Xp=class IX extends pv{constructor(e,t,i,r,s,o){super(e,t,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Gr={SINGLECLICK:"singleclick",CLICK:jn.CLICK,DBLCLICK:jn.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},AX=class SX extends KO{constructor(e,t){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=gi(i,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=gi(i,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(jn.TOUCHMOVE,this.boundHandleTouchMove_,!!dz&&{passive:!1})}emulateClick_(e){let t=new Xp(Gr.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Xp(Gr.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Xp(Gr.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Gr.POINTERUP||t.type==Gr.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==Gr.POINTERDOWN||t.type==Gr.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Xp(Gr.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(hs),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new Xp(Gr.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(gi(i,Gr.POINTERMOVE,this.handlePointerMove_,this),gi(i,Gr.POINTERUP,this.handlePointerUp_,this),gi(this.element_,Gr.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(gi(this.element_.getRootNode(),Gr.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Xp(Gr.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Xp(Gr.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(hs(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(jn.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(hs(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(hs),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Ro_LAYERGROUP="layergroup",Ro_SIZE="size",Ro_TARGET="target",Ro_VIEW="view",yA=1/0,kX=class MX{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,iE(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Si(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=yA&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,s=t[e],o=i[e],l=e;for(;e<r>>1;){const d=this.getLeftChildIndex_(e),f=this.getRightChildIndex_(e),m=f<r&&i[f]<i[d]?f:d;t[e]=t[m],i[e]=i[m],e=m}t[e]=s,i[e]=o,this.siftDown_(l,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,s=i[t],o=r[t];for(;t>e;){const l=this.getParentIndex_(t);if(!(r[l]>o))break;i[t]=i[l],r[t]=r[l],t=l}i[t]=s,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const s=t.length;let o,l,d;for(l=0;l<s;++l)o=t[l],d=e(o),d==yA?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=d,t[r++]=o);t.length=r,i.length=r,this.heapify_()}},PX=class RX extends kX{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(jn.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(2===i||3===i||4===i){3!==i&&t.removeEventListener(jn.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let r,s,o,i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),r=s.getState(),0===r&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,s.load())}},VN=class NX extends Ah{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){RN(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&RN(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)hs(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==qS&&this.listenerKeys.push(gi(e,"postrender",this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},LX=class FX extends VN{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=void 0!==e.label?e.label:"i";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=r):this.label_=l;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(jn.CLICK,this.handleClick_.bind(this),!1);const m=this.element;m.className=t+" "+mA+" "+MN+(this.collapsed_&&this.collapsible_?" "+fj:"")+(this.collapsible_?"":" ol-uncollapsible"),m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(e)))),i=!this.getMap().getAllLayers().some(r=>r.getSource()&&!1===r.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!GS(t,this.renderedAttributions_)){!function vX(n){for(;n.lastChild;)n.removeChild(n.lastChild)}(this.ulElement_);for(let r=0,s=t.length;r<s;++r){const o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(fj),this.collapsed_?gj(this.collapseLabel_,this.label_):gj(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},BX=class VX extends VN{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"\u21e7",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(jn.CLICK,this.handleClick_.bind(this),!1);const d=this.element;d.className=t+" "+mA+" "+MN,d.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(pA)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:dv}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(pA);s||0!==i?s&&0!==i&&this.element.classList.remove(pA):this.element.classList.add(pA)}this.label_.style.transform=r}this.rotation_=i}},HX=class UX extends VN{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",l=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",d=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",f=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild("string"==typeof o?document.createTextNode(o):o),m.addEventListener(jn.CLICK,this.handleClick_.bind(this,i),!1);const _=document.createElement("button");_.className=s,_.setAttribute("type","button"),_.title=f,_.appendChild("string"==typeof l?document.createTextNode(l):l),_.addEventListener(jn.CLICK,this.handleClick_.bind(this,-i),!1);const x=this.element;x.className=t+" "+mA+" "+MN,x.appendChild(m),x.appendChild(_),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(void 0!==r){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:dv})):i.setZoom(s)}}};function yj(n){n=n||{};const e=new Mh;return(void 0===n.zoom||n.zoom)&&e.push(new HX(n.zoomOptions)),(void 0===n.rotate||n.rotate)&&e.push(new BX(n.rotateOptions)),(void 0===n.attribution||n.attribution)&&e.push(new LX(n.attributionOptions)),e}function BN(n,e,t,i){const r=n.getZoom();if(void 0===r)return;const s=n.getConstrainedZoom(r+e),o=n.getResolutionForZoom(s);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:t,duration:void 0!==i?i:250,easing:dv})}const hE=class zX extends Ah{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},$X=class GX extends hE{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==Gr.DBLCLICK){const i=e.originalEvent,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_;BN(e.map.getView(),o,s,this.duration_),i.preventDefault(),t=!0}return!t}};function UN(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}const fE=class WX extends hE{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Gr.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Gr.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Gr.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Gr.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function HN(n){const e=arguments;return function(t){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](t),i);++r);return i}}const qX=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},vj=function(n){return!n.map.getTargetElement().hasAttribute("tabindex")||function(n){const e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)}(n)},ZX=$S,wj=function(n){const e=n.originalEvent;return 0==e.button&&!(VK&&BK&&e.ctrlKey)},Cj=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},KX=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ej=function(n){const e=n.originalEvent,t=e.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t&&!e.target.isContentEditable},zN=function(n){const e=n.originalEvent;return Si(void 0!==e,56),"mouse"==e.pointerType},QX=function(n){const e=n.originalEvent;return Si(void 0!==e,56),e.isPrimary&&0===e.button},JX=class XX extends fE{constructor(e){super({stopDown:WS}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const t=e.condition?e.condition:HN(Cj,QX);this.condition_=e.onFocusOnly?HN(vj,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(UN(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],l=e.map.getView();(function DQ(n,e){n[0]*=e,n[1]*=e})(s,l.getResolution()),lN(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),l=t.getPixelFromCoordinateInternal(o),d=t.getCoordinateFromPixelInternal([l[0]-r*Math.cos(s),l[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(d),duration:500,easing:dv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},tJ=class eJ extends fE{constructor(e){e=e||{},super({stopDown:WS}),this.condition_=e.condition?e.condition:qX,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!zN(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===_N)return;const r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}handleUpEvent(e){return!zN(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(zN(e)&&wj(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},iJ=class nJ extends YO{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new aX([r])}getGeometry(){return this.geometry_}};class jN extends Yp{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}const sJ=class rJ extends fE{constructor(e){super(),this.box_=new iJ((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:wj,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],s=i[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new jN("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new jN(t?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new jN("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},aJ=class oJ extends sJ{constructor(e){super({condition:(e=e||{}).condition?e.condition:KX,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),l=i.getResolution()/o;r=r.clone(),r.scale(l*l)}i.fitInternal(r,{duration:this.duration_,easing:dv})}},cJ=class lJ extends hE{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Cj(t)&&Ej(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==jn.KEYDOWN){const i=e.originalEvent,r=i.keyCode;if(this.condition_(e)&&(40==r||37==r||39==r||38==r)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let d=0,f=0;40==r?f=-l:37==r?d=-l:39==r?d=l:f=l;const m=[d,f];lN(m,o.getRotation()),function jX(n,e,t){const i=n.getCenterInternal();i&&n.animateInternal({duration:void 0!==t?t:250,easing:GQ,center:n.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}(o,m,this.duration_),i.preventDefault(),t=!0}}return!t}},dJ=class uJ extends hE{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:Ej,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==jn.KEYDOWN||e.type==jn.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&("+"===r||"-"===r)){const o="+"===r?this.delta_:-this.delta_;BN(e.map.getView(),o,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},mJ=class pJ extends hE{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:ZX;this.condition_=e.onFocusOnly?HN(vj,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==jn.WHEEL)return!0;const i=e.map,r=e.originalEvent;let s;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==jn.WHEEL&&(s=r.deltaY,LK&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=uz),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=i.getView();if("trackpad"===this.mode_&&!l.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-qs(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),BN(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},_J=class gJ extends fE{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=WS),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(void 0!==this.lastAngle_){const d=s-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=d}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==_N&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(UN(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},bJ=class yJ extends fE{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=WS),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,l=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/l),this.lastDistance_=l;const d=e.map,f=d.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(UN(this.targetPointers))),d.render(),f.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function xj(n){return n[0]>0&&n[1]>0}function Ph(n,e){return Array.isArray(n)?n:(void 0===e?e=[n,n]:(e[0]=n,e[1]=n),e)}function Dj(n){n instanceof AN?n.setMapInternal(null):n instanceof _A&&n.getLayers().forEach(Dj)}function Tj(n,e){if(n instanceof AN)n.setMapInternal(e);else if(n instanceof _A){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)Tj(t[i],e)}}const xJ=class CJ extends Ah{constructor(e){super();const t=function EJ(n){let e=null;void 0!==n.keyboardEventTarget&&(e="string"==typeof n.keyboardEventTarget?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&"function"==typeof n.layers.getLayers?n.layers:new _A({layers:n.layers});let r,s,o;return t[Ro_LAYERGROUP]=i,t[Ro_TARGET]=n.target,t[Ro_VIEW]=n.view instanceof Xu?n.view:new Xu,void 0!==n.controls&&(Array.isArray(n.controls)?r=new Mh(n.controls.slice()):(Si("function"==typeof n.controls.getArray,47),r=n.controls)),void 0!==n.interactions&&(Array.isArray(n.interactions)?s=new Mh(n.interactions.slice()):(Si("function"==typeof n.interactions.getArray,48),s=n.interactions)),void 0!==n.overlays?Array.isArray(n.overlays)?o=new Mh(n.overlays.slice()):(Si("function"==typeof n.overlays.getArray,49),o=n.overlays):o=new Mh,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:uz,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||yj(),this.interactions=t.interactions||function vJ(n){n=n||{};const e=new Mh,t=new class hJ{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===n.altShiftDragRotate||n.altShiftDragRotate)&&e.push(new tJ),(void 0===n.doubleClickZoom||n.doubleClickZoom)&&e.push(new $X({delta:n.zoomDelta,duration:n.zoomDuration})),(void 0===n.dragPan||n.dragPan)&&e.push(new JX({onFocusOnly:n.onFocusOnly,kinetic:t})),(void 0===n.pinchRotate||n.pinchRotate)&&e.push(new _J),(void 0===n.pinchZoom||n.pinchZoom)&&e.push(new bJ({duration:n.zoomDuration})),(void 0===n.keyboard||n.keyboard)&&(e.push(new cJ),e.push(new dJ({delta:n.zoomDelta,duration:n.zoomDuration}))),(void 0===n.mouseWheelZoom||n.mouseWheelZoom)&&e.push(new mJ({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(void 0===n.shiftDragZoom||n.shiftDragZoom)&&e.push(new aJ({duration:n.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new PX(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ro_LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ro_VIEW,this.handleViewChanged_),this.addChangeListener(Ro_SIZE,this.handleSizeChanged_),this.addChangeListener(Ro_TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Xu)&&e.view.then(function(r){i.setView(new Xu(r))}),this.controls.addEventListener("add",r=>{r.element.setMap(this)}),this.controls.addEventListener("remove",r=>{r.element.setMap(null)}),this.interactions.addEventListener("add",r=>{r.element.setMap(this)}),this.interactions.addEventListener("remove",r=>{r.element.setMap(null)}),this.overlays_.addEventListener("add",r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener("remove",r=>{const s=r.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Tj(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,t,null,void 0!==i.layerFilter?i.layerFilter:$S,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];return function t(i){i.forEach(function(r){r instanceof _A?t(r.getLayers()):e.push(r)})}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(t=void 0!==t?t:{}).hitTolerance?t.hitTolerance:0,!1!==t.checkWrapped,void 0!==t.layerFilter?t.layerFilter:$S,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-i.left)/(i.width/r[0]),(l.clientY-i.top)/(i.height/r[1])]}getTarget(){return this.get(Ro_TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return pN(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Ql(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ro_LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Mh)return void t.setLayers(e);const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=kh(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Ql(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ro_SIZE)}getView(){return this.get(Ro_VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return function OX(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return yA;const s=n.viewState.center,o=i[0]-s[0],l=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+l*l)/r}(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){const i=new Xp(t=t||e.type,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if("pointerdown"===i||i===jn.WHEEL||i===jn.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()===this&&o.getActive()&&this.getTargetElement()&&(!o.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[0]||o[1]){const l=Date.now()-e.time>8;r=l?0:8,s=l?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new pv("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new pv("loadstart",this,e))));const i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)hs(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(jn.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(jn.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,RN(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new DX(this)),this.mapBrowserEventHandler_=new AX(this,this.moveTolerance_);for(const s in Gr)this.mapBrowserEventHandler_.addEventListener(Gr[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(jn.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(jn.WHEEL,this.boundHandleBrowserEvent_,!!dz&&{passive:!1});const i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[gi(i,jn.KEYDOWN,this.handleBrowserEvent,this),gi(i,jn.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(hs(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(hs(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=gi(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=gi(e,jn.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(hs),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Qp("addlayer",e)),this.layerGroupPropertyListenerKeys_=[gi(e,"propertychange",this.render,this),gi(e,jn.CHANGE,this.render,this),gi(e,"addlayer",this.handleLayerAdd_,this),gi(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Dj(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(void 0!==t&&xj(t)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:iN(l.center,l.resolution,l.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:Pa(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const d=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=iN(l.nextCenter,l.nextResolution,d,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!sN(this.previousExtent_)&&!nN(s.extent,this.previousExtent_))&&(this.dispatchEvent(new pv("movestart",this,r)),this.previousExtent_=nv(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!nN(s.extent,this.previousExtent_)&&(this.dispatchEvent(new pv("moveend",this,s)),function jK(n,e){e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3]):n.slice()}(s.extent,this.previousExtent_))),this.dispatchEvent(new pv("postrender",this,s)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Qp("removelayer",t)),this.set(Ro_LAYERGROUP,e)}setSize(e){this.set(Ro_SIZE,e)}setTarget(e){this.set(Ro_TARGET,e)}setView(e){if(!e||e instanceof Xu)return void this.set(Ro_VIEW,e);this.set(Ro_VIEW,new Xu);const t=this;e.then(function(i){t.setView(new Xu(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[s,o],!xj(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Nz("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!GS(t,i))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}},TJ=class DJ extends AN{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}},SJ=class IJ extends oz{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return zr()}getData(e){return null}prepareFrame(e){return zr()}renderFrame(e,t){return zr()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(r,s)=>{const o=this.loadedTileCallback.bind(this,i,r);return e.forEachLoadedTile(t,r,s,o)}}forEachFeatureAtCoordinate(e,t,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return 2!=t&&3!=t&&e.addEventListener(jn.CHANGE,this.boundHandleImageChange_),0==t&&(e.load(),t=e.getState()),2==t}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};let mv=null;const kJ=class MJ extends SJ{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){let r;mv||function AJ(){mv=L_(1,1,void 0,{willReadFrequently:!0})}(),mv.clearRect(0,0,1,1);try{mv.drawImage(e,t,i,1,1,0,0,1,1),r=mv.getImageData(0,0,1,1).data}catch{return mv=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return"function"==typeof i&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&GS(xz(e.style.backgroundColor),xz(i)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=r;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=L_();const d=o.canvas;s.appendChild(d),l=d.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=P_(i),s=eA(i),o=JS(i),l=XS(i);Ql(t.coordinateToPixelTransform,r),Ql(t.coordinateToPixelTransform,s),Ql(t.coordinateToPixelTransform,o),Ql(t.coordinateToPixelTransform,l);const d=this.inversePixelTransform;Ql(d,r),Ql(d,s),Ql(d,o),Ql(d,l),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const s=new hj(e,this.inversePixelTransform,i,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_("prerender",e,t)}postRender(e,t){this.dispatchRenderEvent_("postrender",e,t)}getRenderTransform(e,t,i,r,s,o,l){const m=r/t;return tv(this.tempTransform,s/2,o/2,m,-m,-i,-e[0]+l,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},Ij=class RJ extends KO{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(jn.CHANGE)}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?t=e:0==e.getState()?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){zr()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else i=t,this.transitionStarts_[e]=i;const r=t-i+1e3/60;return r>=this.transition_?1:$z(r/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const Aj=class PJ extends Ij{constructor(e,t,i,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function OJ(){const n=L_(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function Sj(n,e,t){const i=n;let r=!0,s=!1,o=!1;const l=[YS(i,jn.LOAD,function(){o=!0,s||e()})];return i.src&&UK?(s=!0,i.decode().then(function(){r&&e()}).catch(function(d){r&&(o?e():t())})):l.push(YS(i,jn.ERROR,t)),function(){r=!1,l.forEach(hs)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let GN;const gv=[];function kj(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function $N(n,e){return Math.abs(n[4*e]-210)>2||Math.abs(n[4*e+3]-191.25)>2}function Rj(n,e,t,i){const r=dE(t,e,n);let s=Vz(e,i,t);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const l=n.getMetersPerUnit();void 0!==l&&(s/=l);const d=n.getExtent();if(!d||tN(d,r)){const f=Vz(n,s,r)/s;isFinite(f)&&f>0&&(s/=f)}return s}const WN=class zJ extends Ij{constructor(e,t,i,r,s,o,l,d,f,m,_,w){super(s,0,{interpolate:!!w}),this.renderEdges_=void 0!==_&&_,this.pixelRatio_=l,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const x=r.getTileCoordExtent(this.wrappedTileCoord_),M=this.targetTileGrid_.getExtent();let k=this.sourceTileGrid_.getExtent();const R=M?rv(x,M):x;if(0===QS(R))return void(this.state=4);const $=e.getExtent();$&&(k=k?rv(k,$):$);const W=r.getResolution(this.wrappedTileCoord_[0]),ie=function UJ(n,e,t,i){const r=iv(t);let s=Rj(n,e,r,i);return(!isFinite(s)||s<=0)&&vz(t,function(o){return s=Rj(n,e,o,i),isFinite(s)&&s>0}),s}(e,i,R,W);if(!isFinite(ie)||ie<=0)return void(this.state=4);if(this.triangulation_=new class LJ{constructor(e,t,i,r,s,o){this.sourceProj_=e,this.targetProj_=t;let l={};const d=uE(this.targetProj_,this.sourceProj_);this.transformInv_=function(W){const ie=W[0]+"/"+W[1];return l[ie]||(l[ie]=d(W)),l[ie]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&jr(r)==jr(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?jr(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?jr(this.targetProj_.getExtent()):null;const f=P_(i),m=eA(i),_=JS(i),w=XS(i),x=this.transformInv_(f),M=this.transformInv_(m),k=this.transformInv_(_),R=this.transformInv_(w),$=10+(o?Math.max(0,Math.ceil(Math.log2(QS(i)/(o*o*256*256)))):0);if(this.addQuad_(f,m,_,w,x,M,k,R,$),this.wrapsXInSource_){let W=1/0;this.triangles_.forEach(function(ie,re,ge){W=Math.min(W,ie.source[0][0],ie.source[1][0],ie.source[2][0])}),this.triangles_.forEach(ie=>{if(Math.max(ie.source[0][0],ie.source[1][0],ie.source[2][0])-W>this.sourceWorldWidth_/2){const re=[[ie.source[0][0],ie.source[0][1]],[ie.source[1][0],ie.source[1][1]],[ie.source[2][0],ie.source[2][1]]];re[0][0]-W>this.sourceWorldWidth_/2&&(re[0][0]-=this.sourceWorldWidth_),re[1][0]-W>this.sourceWorldWidth_/2&&(re[1][0]-=this.sourceWorldWidth_),re[2][0]-W>this.sourceWorldWidth_/2&&(re[2][0]-=this.sourceWorldWidth_);const ge=Math.min(re[0][0],re[1][0],re[2][0]);Math.max(re[0][0],re[1][0],re[2][0])-ge<this.sourceWorldWidth_/2&&(ie.source=re)}})}l={}}addTriangle_(e,t,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,i]})}addQuad_(e,t,i,r,s,o,l,d,f){const m=pz([s,o,l,d]),_=this.sourceWorldWidth_?jr(m)/this.sourceWorldWidth_:null,w=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&_>.5&&_<1;let M=!1;if(f>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(M=jr(pz([e,t,i,r]))/this.targetWorldWidth_>.25||M),!x&&this.sourceProj_.isGlobal()&&_&&(M=_>.25||M)),!M&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!oE(m,this.maxSourceExtent_))return;let k=0;if(!(M||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(d[0])&&isFinite(d[1])))if(f>0)M=!0;else if(k=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(d[0])&&isFinite(d[1])?0:1),1!=k&&2!=k&&4!=k&&8!=k)return;if(f>0){if(!M){const $=this.transformInv_([(e[0]+i[0])/2,(e[1]+i[1])/2]);let W;W=x?(ov(s[0],w)+ov(l[0],w))/2-ov($[0],w):(s[0]+l[0])/2-$[0];const ie=(s[1]+l[1])/2-$[1];M=W*W+ie*ie>this.errorThresholdSquared_}if(M){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const R=[(t[0]+i[0])/2,(t[1]+i[1])/2],$=this.transformInv_(R),W=[(r[0]+e[0])/2,(r[1]+e[1])/2],ie=this.transformInv_(W);this.addQuad_(e,t,R,W,s,o,$,ie,f-1),this.addQuad_(W,R,i,r,ie,$,l,d,f-1)}else{const R=[(e[0]+t[0])/2,(e[1]+t[1])/2],$=this.transformInv_(R),W=[(i[0]+r[0])/2,(i[1]+r[1])/2],ie=this.transformInv_(W);this.addQuad_(e,R,W,r,s,$,ie,d,f-1),this.addQuad_(R,t,i,W,$,o,l,ie,f-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&k||this.addTriangle_(e,i,r,s,l,d),14&k||this.addTriangle_(e,i,t,s,l,o),k&&(13&k||this.addTriangle_(t,r,e,o,d,s),7&k||this.addTriangle_(t,r,i,o,d,l))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(t,i,r){const s=t.source;sE(e,s[0]),sE(e,s[1]),sE(e,s[2])}),e}getTriangles(){return this.triangles_}}(e,i,R,k,ie*(void 0!==m?m:.5),W),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=t.getZForResolution(ie);let ge=this.triangulation_.calculateSourceExtent();if(k&&(e.canWrapX()?(ge[1]=qs(ge[1],k[1],k[3]),ge[3]=qs(ge[3],k[1],k[3])):ge=rv(ge,k)),QS(ge)){const Ee=t.getTileRangeForExtentAndZ(ge,this.sourceZ_);for(let Ze=Ee.minX;Ze<=Ee.maxX;Ze++)for(let Qe=Ee.minY;Qe<=Ee.maxY;Qe++){const gt=f(this.sourceZ_,Ze,Qe,l);gt&&this.sourceTiles_.push(gt)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&2==t.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(t),l=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function HJ(n,e,t,i,r,s,o,l,d,f,m,_){const w=L_(Math.round(t*n),Math.round(t*e),gv);if(_||(w.imageSmoothingEnabled=!1),0===d.length)return w.canvas;function x(re){return Math.round(re*t)/t}w.scale(t,t),w.globalCompositeOperation="lighter";const M=[1/0,1/0,-1/0,-1/0];d.forEach(function(re,ge,Ee){!function qK(n,e){e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3])}(M,re.extent)});const k=jr(M),R=qc(M),$=L_(Math.round(t*k/i),Math.round(t*R/i),gv);_||($.imageSmoothingEnabled=!1);const W=t/i;d.forEach(function(re,ge,Ee){const Ze=re.extent[0]-M[0],Qe=-(re.extent[3]-M[3]),gt=jr(re.extent),Ut=qc(re.extent);re.image.width>0&&re.image.height>0&&$.drawImage(re.image,f,f,re.image.width-2*f,re.image.height-2*f,Ze*W,Qe*W,gt*W,Ut*W)});const ie=P_(o);return l.getTriangles().forEach(function(re,ge,Ee){const Ze=re.source,Qe=re.target;let gt=Ze[0][0],Ut=Ze[0][1],Jt=Ze[1][0],ln=Ze[1][1],Xn=Ze[2][0],Qr=Ze[2][1];const Mn=x((Qe[0][0]-ie[0])/s),ut=x(-(Qe[0][1]-ie[1])/s),ot=x((Qe[1][0]-ie[0])/s),St=x(-(Qe[1][1]-ie[1])/s),Wt=x((Qe[2][0]-ie[0])/s),zn=x(-(Qe[2][1]-ie[1])/s),Or=gt,$n=Ut;gt=0,Ut=0,Jt-=Or,ln-=$n,Xn-=Or,Qr-=$n;const fn=function nQ(n){const e=n.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(n[i][i]);for(let l=i+1;l<e;l++){const d=Math.abs(n[l][i]);d>s&&(s=d,r=l)}if(0===s)return null;const o=n[r];n[r]=n[i],n[i]=o;for(let l=i+1;l<e;l++){const d=-n[l][i]/n[i][i];for(let f=i;f<e+1;f++)i==f?n[l][f]=0:n[l][f]+=d*n[i][f]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}([[Jt,ln,0,0,ot-Mn],[Xn,Qr,0,0,Wt-Mn],[0,0,Jt,ln,St-ut],[0,0,Xn,Qr,zn-ut]]);if(fn){if(w.save(),w.beginPath(),function BJ(){if(void 0===GN){const n=L_(6,6,gv);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",kj(n,4,5,4,0),kj(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;GN=$N(e,0)||$N(e,4)||$N(e,8),kN(n),gv.push(n.canvas)}return GN}()||!_){w.moveTo(ot,St);const wi=4,Ba=Mn-ot,cr=ut-St;for(let Xr=0;Xr<wi;Xr++)w.lineTo(ot+x((Xr+1)*Ba/wi),St+x(Xr*cr/(wi-1))),Xr!=wi-1&&w.lineTo(ot+x((Xr+1)*Ba/wi),St+x((Xr+1)*cr/(wi-1)));w.lineTo(Wt,zn)}else w.moveTo(ot,St),w.lineTo(Mn,ut),w.lineTo(Wt,zn);w.clip(),w.transform(fn[0],fn[2],fn[1],fn[3],Mn,ut),w.translate(M[0]-Or,M[3]-$n),w.scale(i/t,-i/t),w.drawImage($.canvas,0,0),w.restore()}}),kN($),gv.push($.canvas),m&&(w.save(),w.globalCompositeOperation="source-over",w.strokeStyle="black",w.lineWidth=1,l.getTriangles().forEach(function(re,ge,Ee){const Ze=re.target,Qe=(Ze[0][0]-ie[0])/s,gt=-(Ze[0][1]-ie[1])/s,Ut=(Ze[1][0]-ie[0])/s,Jt=-(Ze[1][1]-ie[1])/s,ln=(Ze[2][0]-ie[0])/s,Xn=-(Ze[2][1]-ie[1])/s;w.beginPath(),w.moveTo(Ut,Jt),w.lineTo(Qe,gt),w.lineTo(ln,Xn),w.closePath(),w.stroke()}),w.restore()),w.canvas}(r,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,d,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const i=t.getState();if(0==i||1==i){e++;const r=gi(t,jn.CHANGE,function(s){const o=t.getState();(2==o||3==o||4==o)&&(hs(r),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,r){0==t.getState()&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(hs),this.sourcesListenerKeys_=null}release(){this.canvas_&&(kN(this.canvas_.getContext("2d")),gv.push(this.canvas_),this.canvas_=null),super.release()}};class Pj{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function _v(n,e,t,i,r){return void 0!==r?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new Pj(n,e,t,i)}const Oj=Pj,GJ=class jJ extends kJ{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new Oj(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),r=t.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!r}getTile(e,t,i,r){const s=r.pixelRatio,o=r.viewState.projection,l=this.getLayer();let f=l.getSource().getTile(e,t,i,s,o);return 3==f.getState()&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(f)||(f=f.getInterimTile()),f}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=Ql(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!tN(s,r))return null;const o=t.pixelRatio,l=t.viewState.projection,d=t.viewState,f=i.getRenderSource(),m=f.getTileGridForProjection(d.projection),_=f.getTilePixelRatio(t.pixelRatio);for(let w=m.getZForResolution(d.resolution);w>=m.getMinZoom();--w){const x=m.getTileCoordForCoordAndZ(r,w),M=f.getTile(w,x[1],x[2],o,l);if(!(M instanceof Aj||M instanceof WN)||M instanceof WN&&4===M.getState())return null;if(2!==M.getState())continue;const k=m.getOrigin(w),R=Ph(m.getTileSize(w)),$=m.getResolution(w),W=Math.floor(_*((r[0]-k[0])/$-x[1]*R[0])),ie=Math.floor(_*((k[1]-r[1])/$-x[2]*R[1])),re=Math.round(_*f.getGutterForProjection(d.projection));return this.getImageData(M.getImage(),W+re,ie+re)}return null}loadedTileCallback(e,t,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(e,t,i)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,l=r.center,d=r.rotation,f=e.pixelRatio,m=this.getLayer(),_=m.getSource(),w=_.getRevision(),x=_.getTileGridForProjection(s),M=x.getZForResolution(o,_.zDirection),k=x.getResolution(M);let R=e.extent;const $=e.viewState.resolution,W=_.getTilePixelRatio(f),ie=Math.round(jr(R)/$*f),re=Math.round(qc(R)/$*f),ge=i.extent&&uv(i.extent,s);ge&&(R=rv(R,uv(i.extent,s)));const Ee=k*ie/2/W,Ze=k*re/2/W,Qe=[l[0]-Ee,l[1]-Ze,l[0]+Ee,l[1]+Ze],gt=x.getTileRangeForExtentAndZ(R,M),Ut={};Ut[M]={};const Jt=this.createLoadedTileFinder(_,s,Ut),ln=this.tmpExtent,Xn=this.tmpTileRange_;this.newTiles_=!1;const Qr=d?rN(r.center,$,d,e.size):void 0;for(let lr=gt.minX;lr<=gt.maxX;++lr)for(let fn=gt.minY;fn<=gt.maxY;++fn){if(d&&!x.tileCoordIntersectsViewport([M,lr,fn],Qr))continue;const wi=this.getTile(M,lr,fn,e);if(this.isDrawableTile(wi)){const Xr=Pa(this);if(2==wi.getState()){Ut[M][wi.tileCoord.toString()]=wi;let Ns=wi.inTransition(Xr);Ns&&1!==i.opacity&&(wi.endTransition(Xr),Ns=!1),!this.newTiles_&&(Ns||!this.renderedTiles.includes(wi))&&(this.newTiles_=!0)}if(1===wi.getAlpha(Xr,e.time))continue}const Ba=x.getTileCoordChildTileRange(wi.tileCoord,Xn,ln);let cr=!1;Ba&&(cr=Jt(M+1,Ba)),cr||x.forEachTileCoordParentTileRange(wi.tileCoord,Jt,Xn,ln)}const Mn=k/o*f/W;tv(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,d,-ie/2,-re/2);const ut=function fz(n){const e="matrix("+n.join(", ")+")";if(QO)return e;const t=hz||(hz=document.createElement("div"));return t.style.transform=e,t.style.transform}(this.pixelTransform);this.useContainer(t,ut,this.getBackground(e));const ot=this.context,St=ot.canvas;eN(this.inversePixelTransform,this.pixelTransform),tv(this.tempTransform,ie/2,re/2,Mn,Mn,0,-ie/2,-re/2),St.width!=ie||St.height!=re?(St.width=ie,St.height=re):this.containerReused||ot.clearRect(0,0,ie,re),ge&&this.clipUnrotated(ot,e,ge),_.getInterpolate()||(ot.imageSmoothingEnabled=!1),this.preRender(ot,e),this.renderedTiles.length=0;let zn,Or,$n,Wt=Object.keys(Ut).map(Number);Wt.sort(jS),1!==i.opacity||this.containerReused&&!_.getOpaque(e.viewState.projection)?(zn=[],Or=[]):Wt=Wt.reverse();for(let lr=Wt.length-1;lr>=0;--lr){const fn=Wt[lr],wi=_.getTilePixelSize(fn,f,s),cr=x.getResolution(fn)/k,Xr=wi[0]*cr*Mn,Ns=wi[1]*cr*Mn,Nm=x.getTileCoordForCoordAndZ(P_(Qe),fn),S0=x.getTileCoordExtent(Nm),Tk=Ql(this.tempTransform,[W*(S0[0]-Qe[0])/k,W*(Qe[3]-S0[3])/k]),Vve=W*_.getGutterForProjection(s),z9=Ut[fn];for(const Bve in z9){const A0=z9[Bve],j9=A0.tileCoord,G9=Nm[1]-j9[1],Uve=Math.round(Tk[0]-(G9-1)*Xr),$9=Nm[2]-j9[2],Hve=Math.round(Tk[1]-($9-1)*Ns),lf=Math.round(Tk[0]-G9*Xr),cf=Math.round(Tk[1]-$9*Ns),vD=Uve-lf,wD=Hve-cf,W9=M===fn,q9=W9&&1!==A0.getAlpha(Pa(this),e.time);let MU=!1;if(!q9)if(zn){$n=[lf,cf,lf+vD,cf,lf+vD,cf+wD,lf,cf+wD];for(let Ik=0,zve=zn.length;Ik<zve;++Ik)if(M!==fn&&fn<Or[Ik]){const ic=zn[Ik];oE([lf,cf,lf+vD,cf+wD],[ic[0],ic[3],ic[4],ic[7]])&&(MU||(ot.save(),MU=!0),ot.beginPath(),ot.moveTo($n[0],$n[1]),ot.lineTo($n[2],$n[3]),ot.lineTo($n[4],$n[5]),ot.lineTo($n[6],$n[7]),ot.moveTo(ic[6],ic[7]),ot.lineTo(ic[4],ic[5]),ot.lineTo(ic[2],ic[3]),ot.lineTo(ic[0],ic[1]),ot.clip())}zn.push($n),Or.push(fn)}else ot.clearRect(lf,cf,vD,wD);this.drawTileImage(A0,e,lf,cf,vD,wD,Vve,W9),zn&&!q9?(MU&&ot.restore(),this.renderedTiles.unshift(A0)):this.renderedTiles.push(A0),this.updateUsedTiles(e.usedTiles,_,A0)}}return this.renderedRevision=w,this.renderedResolution=k,this.extentChanged=!this.renderedExtent_||!nN(this.renderedExtent_,Qe),this.renderedExtent_=Qe,this.renderedPixelRatio=f,this.renderedProjection=s,this.manageTilePyramid(e,_,x,f,s,R,M,m.getPreload()),this.scheduleExpireCache(e,_),this.postRender(ot,e),i.extent&&ot.restore(),ot.imageSmoothingEnabled=!0,ut!==St.style.transform&&(St.style.transform=ut),this.container}drawTileImage(e,t,i,r,s,o,l,d){const f=this.getTileImage(e);if(!f)return;const m=Pa(this),_=t.layerStatesArray[t.layerIndex],w=_.opacity*(d?e.getAlpha(m,t.time):1),x=w!==this.context.globalAlpha;x&&(this.context.save(),this.context.globalAlpha=w),this.context.drawImage(f,l,l,f.width-2*l,f.height-2*l,i,r,s,o),x&&this.context.restore(),w!==_.opacity?t.animate=!0:d&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=function(r,s,o){const l=Pa(r);l in o.usedTiles&&r.expireCache(o.viewState.projection,o.usedTiles[l])}.bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const r=Pa(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}manageTilePyramid(e,t,i,r,s,o,l,d,f){const m=Pa(t);m in e.wantedTiles||(e.wantedTiles[m]={});const _=e.wantedTiles[m],w=e.tileQueue,x=i.getMinZoom(),M=e.viewState.rotation,k=M?rN(e.viewState.center,e.viewState.resolution,M,e.size):void 0;let $,W,ie,re,ge,Ee,R=0;for(Ee=x;Ee<=l;++Ee)for(W=i.getTileRangeForExtentAndZ(o,Ee,W),ie=i.getResolution(Ee),re=W.minX;re<=W.maxX;++re)for(ge=W.minY;ge<=W.maxY;++ge)M&&!i.tileCoordIntersectsViewport([Ee,re,ge],k)||(l-Ee<=d?(++R,$=t.getTile(Ee,re,ge,r,s),0==$.getState()&&(_[$.getKey()]=!0,w.isKeyQueued($.getKey())||w.enqueue([$,m,i.getTileCoordCenter($.tileCoord),ie])),void 0!==f&&f($)):t.useTile(Ee,re,ge,s));t.updateCacheSize(R,s)}},WJ=class $J extends TJ{constructor(e){super(e)}createRenderer(){return new GJ(this)}},YJ=class qJ{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Si(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Si(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let i,t=0;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let i,t=0;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Si(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}};function Nj(n,e,t,i){return void 0!==i?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function mE(n,e,t){return n+"/"+e+"/"+t}function Fj(n){return mE(n[0],n[1],n[2])}const Lj=class XJ extends YJ{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const i=function ZJ(n){return n.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(Fj(r.tileCoord)),r.release())})}};function Vj(n){return n?Array.isArray(n)?function(e){return n}:"function"==typeof n?n:function(e){return[n]}:null}const eee=class JJ extends Ah{constructor(e){super(),this.projection=ko(e.projection),this.attributions_=Vj(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Vj(e),this.changed()}setState(e){this.state_=e,this.changed()}},yv=[0,0,0],Bj=class tee{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Si(function IK(n,e,t){const i=e||jS;return n.every(function(r,s){if(0===s)return!0;const o=i(n[s-1],r);return!(o>0||t&&0===o)})}(this.resolutions_,function(r,s){return s-r},!0),17),!e.origins)for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(t){if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}else t=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Si(this.origins_.length==this.resolutions_.length,20));const i=e.extent;void 0!==i&&!this.origin_&&!this.origins_&&(this.origin_=P_(i)),Si(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Si(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:aN,Si(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(r,s){const o=new Oj(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const l=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let l=r.minY,d=r.maxY;l<=d;++l)i([t,s,l])}forEachTileCoordParentTileRange(e,t,i,r){let s,o,l,d=null,f=e[0]-1;for(2===this.zoomFactor_?(o=e[1],l=e[2]):d=this.getTileCoordExtent(e,r);f>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),l=Math.floor(l/2),s=_v(o,o,l,l,i)):s=this.getTileRangeForExtentAndZ(d,f,i),t(f,s))return!0;--f}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const s=2*e[1],o=2*e[2];return _v(s,s+1,o,o+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(t===r)return _v(s,o,s,o,i);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,t-r),f=Math.floor(s*d),m=Math.floor(o*d);return t<r?_v(f,f,m,m,i):_v(f,Math.floor(d*(s+1))-1,m,Math.floor(d*(o+1))-1,i)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,t,i)}getTileRangeExtent(e,t,i){const r=this.getOrigin(e),s=this.getResolution(e),o=Ph(this.getTileSize(e),this.tmpSize_);return R_(r[0]+t.minX*o[0]*s,r[1]+t.minY*o[1]*s,r[0]+(t.maxX+1)*o[0]*s,r[1]+(t.maxY+1)*o[1]*s,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,yv);const r=yv[1],s=yv[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,yv),_v(r,yv[1],s,yv[2],i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Ph(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=Ph(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,l=i[1]-(e[2]+1)*s[1]*r;return R_(o,l,o+s[0]*r,l+s[1]*r,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,s){const o=this.getZForResolution(i),l=i/this.getResolution(o),d=this.getOrigin(o),f=Ph(this.getTileSize(o),this.tmpSize_);let m=l*(e-d[0])/i/f[0],_=l*(d[1]-t)/i/f[1];return r?(m=iA(m,5)-1,_=iA(_,5)-1):(m=nA(m,5),_=nA(_,5)),Nj(o,m,_,s)}getTileCoordForXYAndZ_(e,t,i,r,s){const o=this.getOrigin(i),l=this.getResolution(i),d=Ph(this.getTileSize(i),this.tmpSize_);let f=(e-o[0])/l/d[0],m=(o[1]-t)/l/d[1];return r?(f=iA(f,5)-1,m=iA(m,5)-1):(f=nA(f,5),m=nA(m,5)),Nj(i,f,m,s)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return qs(ZO(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return lj(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}};function Uj(n){let e=n.getDefaultTileGrid();return e||(e=function see(n,e,t,i){return function iee(n,e,t,i){i=void 0!==i?i:"top-left";const r=Hj(n,e,t);return new Bj({extent:n,origin:KK(n,i),resolutions:r,tileSize:t})}(YN(n),e,t,i)}(n),n.setDefaultTileGrid(e)),e}function Hj(n,e,t,i){e=void 0!==e?e:uQ,t=Ph(void 0!==t?t:aN);const r=qc(n),s=jr(n);i=i>0?i:Math.max(s/t[0],r/t[1]);const o=e+1,l=new Array(o);for(let d=0;d<o;++d)l[d]=i/Math.pow(2,d);return l}function YN(n){let e=(n=ko(n)).getExtent();if(!e){const t=180*aE.degrees/n.getMetersPerUnit();e=R_(-t,-t,t,t)}return e}class aee extends Yp{constructor(e,t){super(e),this.tile=t}}const lee=class oee extends eee{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&Ph(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new Lj(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,r){const s=this.getTileCacheForProjection(e);if(!s)return!1;let l,d,f,o=!0;for(let m=i.minX;m<=i.maxX;++m)for(let _=i.minY;_<=i.maxY;++_)d=mE(t,m,_),f=!1,s.containsKey(d)&&(l=s.get(d),f=2===l.getState(),f&&(f=!1!==r(l))),f||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,s){return zr()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Uj(e)}getTileCacheForProjection(e){const t=this.getProjection();return Si(null===t||cv(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(t),o=Ph(r.getTileSize(e),this.tmpSize);return 1==s?o:function wJ(n,e,t){return void 0===t&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function nee(n,e,t){const i=e[0],r=n.getTileCoordCenter(e),s=YN(t);if(!tN(s,r)){const o=jr(s),l=Math.ceil((s[0]-r[0])/o);return r[0]+=o*l,n.getTileCoordForCoordAndZ(r,i)}return e}(i,e,t)),function QJ(n,e){const t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const s=e.getFullTileRange(t);return!s||s.containsXY(i,r)}(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,r){}};function cee(n,e){const t=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,l,d){if(o)return n.replace(t,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(s,function(){const m=e.getFullTileRange(o[0]);return Si(m,55),(m.getHeight()-o[2]-1).toString()})}}class ZN extends lee{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ZN.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Pa(t),r=t.getState();let s;1==r?(this.tileLoadingKeys_[i]=!0,s="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=s&&this.dispatchEvent(new aee(s,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=function hee(n){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(n);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(n.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function uee(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=cee(n[r],e);return function dee(n){return 1===n.length?n[0]:function(e,t,i){if(!e)return;const r=function KJ(n){return(n[1]<<n[0])+n[2]}(e),s=ov(r,n.length);return n[s](e,t,i)}}(i)}(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const r=mE(e,t,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const fee=ZN;function mee(n,e){n.getImage().src=e}const gee=class pee extends fee{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:mee,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:Aj,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!cv(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!cv(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||cv(t,e)))return this.tileGrid;const i=Pa(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Uj(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||cv(t,e))return this.tileCache;const i=Pa(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Lj(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,r,s,o){const l=[e,t,i],d=this.getTileCoordForTileUrlFunction(l,s),f=d?this.tileUrlFunction(d,r,s):void 0,m=new this.tileClass(l,void 0!==f?0:4,void 0!==f?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=o,m.addEventListener(jn.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,t,i,r,s){const o=this.getProjection();if(!o||!s||cv(o,s))return this.getTileInternal(e,t,i,r,o||s);const l=this.getTileCacheForProjection(s),d=[e,t,i];let f;const m=Fj(d);l.containsKey(m)&&(f=l.get(m));const _=this.getKey();if(f&&f.key==_)return f;const w=this.getTileGridForProjection(o),x=this.getTileGridForProjection(s),M=this.getTileCoordForTileUrlFunction(d,s),k=new WN(o,w,s,x,d,M,this.getTilePixelRatio(r),this.getGutter(),(R,$,W,ie)=>this.getTileInternal(R,$,W,ie,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return k.key=_,f?(k.interimTile=f,k.refreshInterimChain(),l.replace(m,k)):l.set(m,k),k}getTileInternal(e,t,i,r,s){let o=null;const l=mE(e,t,i),d=this.getKey();if(this.tileCache.containsKey(l)){if(o=this.tileCache.get(l),o.key!=d){const f=o;o=this.createTile_(e,t,i,r,s,d),o.interimTile=0==f.getState()?f.interimTile:f,o.refreshInterimChain(),this.tileCache.replace(l,o)}}else o=this.createTile_(e,t,i,r,s,d),this.tileCache.set(l,o);return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=ko(e);if(i){const r=Pa(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},yee=class _ee extends gee{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",i=void 0!==e.tileGrid?e.tileGrid:function ree(n){const e=n||{},t=e.extent||ko("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Hj(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Bj(i)}({extent:YN(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}};let bee=(()=>{class n{constructor(t){this.elementRef=t,this.width="500px",this.height="500px"}ngOnInit(){this.mapEL=this.elementRef.nativeElement.querySelector("#map"),this.setSize()}ngAfterViewInit(){this.map=new xJ({target:"map",layers:[new WJ({source:new yee({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})],view:new Xu({center:OQ([this.lon,this.lat]),zoom:this.zoom}),controls:yj().extend([])})}setSize(){if(this.mapEL){const t=this.mapEL.style;t.height=Gj(this.height)||"500px",t.width=Gj(this.width)||"500px"}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-ol-map"]],inputs:{lat:"lat",lon:"lon",zoom:"zoom",width:"width",height:"height"},decls:1,vars:0,consts:[["id","map",1,"map"]],template:function(t,i){1&t&&a._UZ(0,"div",0)}}),n})();const vee=/([A-Za-z%]+)$/;function Gj(n){return null==n?"":vee.test(n)?n:`${n}px`}let wee=(()=>{class n{constructor(t){this.http=t,this.getQuote().subscribe(i=>{this.quote1=i.quote},i=>{i.error instanceof Error?console.log("Client-side error"):console.log("Server-side error")}),this.getQuote().subscribe(i=>{this.quote2=i.quote},i=>{i.error instanceof Error?console.log("Client-side error"):console.log("Server-side error")}),this.getQuote().subscribe(i=>{this.quote3=i.quote},i=>{i.error instanceof Error?console.log("Client-side error"):console.log("Server-side error")}),console.log(this.quote1+" "+this.quote2+" "+this.quote3)}getQuote(){return this.http.get("https://animechan.vercel.app/api/random")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:53,vars:6,consts:[["id","carouselExampleSlidesOnly","data-bs-ride","carousel",1,"carousel","slide","carousel-fade"],[1,"carousel-inner"],["data-bs-interval","2500",1,"carousel-item","active"],["src","assets/img/Slide1.png","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],["data-bs-interval","2500",1,"carousel-item"],["src","assets/img/Slide2.png","alt","...",1,"d-block","w-100"],["src","assets/img/Slide3.png","alt","...",1,"d-block","w-100"],[1,"menu-section"],[1,"menu-info"],[1,"slogan"],["routerLink","/menu"],["aria-hidden","true",1,"fa","fa-arrow-right"],["src","assets/img/MenuDojo.png","alt","",1,"menuBtn"],[1,"row","rowDatos"],[1,"col-sm-4"],[1,"card","text-bg-secondary"],[1,"card-body","horario"],[1,"card-title"],[1,"card-text"],["routerLink","/reservar",1,"btn","btn-primary"],[1,"col-sm-8"],[1,"card-body","direccion"],[1,"datos"],["width","20vw","height","20vw",3,"lat","lon","zoom"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._UZ(3,"img",3),a.TgZ(4,"div",4)(5,"p"),a._uU(6),a.qZA()()(),a.TgZ(7,"div",5),a._UZ(8,"img",6),a.TgZ(9,"div",4)(10,"p"),a._uU(11),a.qZA()()(),a.TgZ(12,"div",5),a._UZ(13,"img",7),a.TgZ(14,"div",4)(15,"p"),a._uU(16),a.qZA()()()(),a.TgZ(17,"div",8)(18,"div",9)(19,"h1"),a._uU(20,"Bienvenidos a Donburi Dojo"),a.qZA(),a.TgZ(21,"p",10),a._uU(22,'"Donde la comida y la cultura otaku se unen."'),a.qZA(),a.TgZ(23,"p"),a._uU(24,"Sumergete en nuestra gran variedad de alimentos y bebidas inspiradas en tus animes favoritos"),a.qZA(),a.TgZ(25,"a",11),a._UZ(26,"i",12),a.qZA()(),a.TgZ(27,"a",11),a._UZ(28,"img",13),a.qZA()(),a.TgZ(29,"div",14)(30,"div",15)(31,"div",16)(32,"div",17)(33,"h5",18),a._uU(34,"Horarios"),a.qZA(),a.TgZ(35,"p",19),a._uU(36,"Lunes a Sabado: "),a.qZA(),a.TgZ(37,"p",19),a._uU(38,"8:00am - 10:00pm"),a.qZA(),a.TgZ(39,"a",20),a._uU(40,"Reservar Mesa"),a.qZA()()()(),a.TgZ(41,"div",21)(42,"div",16)(43,"div",22)(44,"div",23)(45,"h5",18),a._uU(46,"Direccion"),a.qZA(),a.TgZ(47,"p",19),a._uU(48,"5960 Hartmann Camp"),a.qZA(),a.TgZ(49,"p",19),a._uU(50,"88668, Noramouth"),a.qZA()(),a.TgZ(51,"div"),a._UZ(52,"app-ol-map",24),a.qZA()()()()()()),2&t&&(a.xp6(6),a.Oqu(i.quote1),a.xp6(5),a.Oqu(i.quote2),a.xp6(5),a.Oqu(i.quote3),a.xp6(36),a.Q6J("lat",21.906057)("lon",-102.323301)("zoom",15))},dependencies:[XC,bee],styles:[".carousel[_ngcontent-%COMP%]{background-color:#574f5f8e}.carousel-inner[_ngcontent-%COMP%]{width:75vw;margin:auto}.carousel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}p[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-size:2rem}.menu-section[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:1.5%;background-color:#b8495c}.menu-info[_ngcontent-%COMP%]{color:#fff;text-shadow:.1rem .2rem black}.menu-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.menu-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin:1.5rem auto}.slogan[_ngcontent-%COMP%]{font-size:1.75;margin:.5rem auto}.menuBtn[_ngcontent-%COMP%]{height:35vh}.row[_ngcontent-%COMP%]{padding:2.5%}.col-sm-4[_ngcontent-%COMP%]{display:flex;justify-content:center}.horario[_ngcontent-%COMP%]{align-content:stretch}.direccion[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.direccion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20vw}.direccion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{font-size:3.5rem;color:#993949}.datos[_ngcontent-%COMP%], .horario[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;text-align:center}"]}),n})();var $j=[{nombre:"Pikachu Gomoku Ramen",descripcion:"Ramen gomoku de Pikachu con mucha carne y verduras. \xa1Un plato de dim sum con bollos de carne al vapor y tofu de hueso de albaricoque!",precio:"$430.00",imagen:"assets/img/1.png",disponible:!0},{nombre:"Pancham Hanten",descripcion:"Es arroz frito en forma de Pancham con una pasta espesa de frijol chino.\xa1Un plato de dim sum con bollos de carne al vapor y tofu de hueso de albaricoque!",precio:"$430.00",imagen:"assets/img/2.png",disponible:!0},{nombre:"Plato de pikachu",descripcion:'\xa1Adem\xe1s del "Plato de Pikachu", se han agregado macarrones gratinados en forma de Poke Ball y la tortilla en forma de cola de Pikachu para potenciar y debutar!',precio:"$240.00",imagen:"assets/img/3.png",disponible:!0},{nombre:"Plato de Eevee",descripcion:"\xa1Una Eevee con un patr\xf3n de cola distintivo se ha unido al Menu! El punto de encanto de Eevee, se ha agregado la sensaci\xf3n esponjosa alrededor del cuello, haci\xe9ndolo a\xfan m\xe1s lindo.",precio:"$240.00",imagen:"assets/img/4.png",disponible:!1},{nombre:"Siesta de Snorlax",descripcion:"Come de todo y si\xe9ntete lleno!\xbfPuedes tener sue\xf1o como Snorlax?      ",precio:"$255.00",imagen:"assets/img/5.png",disponible:!0},{nombre:"Panqueques souffl\xe9 de Pikachu",descripcion:"\xa1Los panqueques de souffl\xe9 esponjoso con forma de cara de Pikachu y la fruta y la crema en el plato crean un magn\xedfico men\xfa de dulces!",precio:"$240.00",imagen:"assets/img/6.png",disponible:!1},{nombre:"Parfait de chocolate y bayas",descripcion:"Parfait de chocolate con bayas agridulces elaborado especialmente para ti.",precio:"$175.00",imagen:"assets/img/7.png",disponible:!0},{nombre:"Postre Poke Ball",descripcion:"\xa1Los contenidos son secretos hasta que vengas a la tienda! Espera ver qu\xe9 Pok\xe9mon puedes conseguir",precio:"$240.00",imagen:"assets/img/8.png",disponible:!0},{nombre:"Refresco helado de Sprigatito",descripcion:"\xa1Un chisporroteante refresco de crema de mel\xf3n con pulpa de mel\xf3n adentro!",precio:"$160.00",imagen:"assets/img/9.png",disponible:!0},{nombre:"Refresco de helado de Fuecoco",descripcion:"\xa1Un chisporroteante refresco de crema de manzana relleno de pulpa de manzana!",precio:"$160.00",imagen:"assets/img/10.png",disponible:!0},{nombre:"Refresco de helado de Quaxly",descripcion:"\xa1Paletas de refresco de crema Ramune con nata de coco gruesa! Disfr\xfatalo con galletas crujientes de Quaxly",precio:"$160.00",imagen:"assets/img/11.png",disponible:!1},{nombre:"T\xe9 con leche",descripcion:"Es una bebida con sabor a t\xe9 con leche que es como dulces, cubierta con mucha crema.",precio:"$170.00",imagen:"assets/img/12.png",disponible:!0},{nombre:"Batido sospechoso de Gengar",descripcion:"Batido helado con sabor a uva.",precio:"$260.00",imagen:"assets/img/13.png",disponible:!0},{nombre:"Caf\xe9 con galleta de cola de Pikachu",descripcion:"Caf\xe9 (Caliente o Frio) con galleta de cola de Pikachu.",precio:"$115.00",imagen:"assets/img/14.png",disponible:!0},{nombre:"Estofado De Ternera Ankipan",descripcion:"Aut\xe9ntico estofado de ternera con verduras gruesas que se come con pan anki",precio:"$210.00",imagen:"assets/img/15.png",disponible:!0},{nombre:"Taz\xf3n de hamburguesa de Doraemon",descripcion:"Un plato saludable pero sustancioso con un bistec de hamburguesa hecho con carne de soya.",precio:"$225.00",imagen:"assets/img/16.png",disponible:!0},{nombre:"Curry Doraemon",descripcion:"Un poderoso men\xfa servido en un plato con una circunferencia de 129,3 cm, \xa1la misma que la circunferencia de la cabeza de Doraemon! (Para 2 a 3 porciones)",precio:"$320.00",imagen:"assets/img/17.png",disponible:!0},{nombre:"Nonbiri",descripcion:"Los fideos planos que son suaves y suaves son los puntos de delicia que son brillantes, masticables y suaves. Disfr\xfatalo mientras hace calor",precio:"$120.00",imagen:"assets/img/18.png",disponible:!0},{nombre:"Hamburguesa Osanpo Pokonyan",descripcion:"\xa1Una encantadora hamburguesa Pokonyan saliendo de la canasta! Viene con corn dog y papas fritas",precio:"$190.00",imagen:"assets/img/19.png",disponible:!0},{nombre:"OSAMPO",descripcion:"Junto al arroz con mantequilla Korosuke hay dos de mis croquetas favoritas, camarones fritos y anillos de calamar",precio:"$200.00",imagen:"assets/img/20.png",disponible:!0},{nombre:"Dorayaki como una monta\xf1a",descripcion:"Doraemon hecho al estilo de los dulces japoneses tiene sabor a natillas. (Pasta de frijoles suave, pasta de frijoles matcha, pasta de frijoles zunda, 2 natillas cada uno)",precio:"$200.00",imagen:"assets/img/21.png",disponible:!0},{nombre:"Pastel Hyunghyoro ~ \xa1\xa1Acci\xf3n!!",descripcion:'Con una cereza agria roja brillante y un pastel de yogur en el fondo, se expresa la escena m\xe1s destacada de la historia corta \xfanica y de ciencia ficci\xf3n "Hyunhyoro".',precio:"$160.00",imagen:"assets/img/22.png",disponible:!1},{nombre:"Bloody Demon ~Crimson Cassis Float~",descripcion:'Sidra con sabor a fresa inspirada en el cuento infantil de ciencia ficci\xf3n "Blood Demon". Disfr\xfatalo con sorbete de cassis rojo. *\xa1Viene con una selecci\xf3n de paja del ni\xf1o dibujada en la ilustraci\xf3n de la puerta "demonio de sangre"!',precio:"$90.00",imagen:"assets/img/23.png",disponible:!0},{nombre:"Panqueque de Lim\xf3n y Miel",descripcion:"Un plato que te hace sentir el comienzo del verano con el agridulce de la suave crema de yogur y la miel de lim\xf3n. Disfruta con nuestras populares tortitas caseras.",precio:"$145.00",imagen:"assets/img/24.png",disponible:!0},{nombre:"Slime Purupuru de Melon",descripcion:"Este refresco de mel\xf3n solo para el verano es una bebida que contiene gelatina con una textura suculenta y voluminosa.",precio:"$90.00",imagen:"assets/img/25.png",disponible:!0},{nombre:"Refresco PuruPuru King Slime",descripcion:"Una bebida de gelatina con sabor a Blue Hawaii est\xe1 decorada con helado y pur\xe9 de maracuy\xe1 con la imagen de una corona de baba real.",precio:"$110.00",imagen:"assets/img/26.png",disponible:!1},{nombre:"Parfait legendario de la espada de Erdrick",descripcion:"Un gran trozo de chocolate en forma de espada de Erdrick, mascarpone, helado, gelatina de caf\xe9, etc. est\xe1n lujosamente dispuestos a modo de tiramis\xfa. Disfr\xfatalo en un vaso azul inspirado en el juedgo.",precio:"$200.00",imagen:"assets/img/27.png",disponible:!0},{nombre:"Slime Purupuru",descripcion:"Una bebida con gelatina con sabor a Blue Hawaii que tiene una textura vivaz y suculenta.",precio:"$90.00",imagen:"assets/img/28.png",disponible:!0},{nombre:"Purupuru Slime Bess",descripcion:"Una bebida con gelatina con sabor a mango tropical que tiene una textura carnosa y suculenta.",precio:"$90.00",imagen:"assets/img/29.png",disponible:!0},{nombre:"Panqueque de Slime",descripcion:"Puedes disfrutar de las l\xedneas asociadas con el juego en el plato de chocolate en forma de comando con panqueques con sabor a jarabe de arce en forma de baba familiar de Dragon Quest.",precio:"$170.00",imagen:"assets/img/30.png",disponible:!0},{nombre:"Panqueque de Fresa",descripcion:"Lujosos panqueques hechos con muchas frutas rojas como fresas, ar\xe1ndanos y frambuesas.",precio:"$200.00",imagen:"assets/img/31.png",disponible:!0},{nombre:"Parfait de Chocolate con espada",descripcion:"Gelatina de caf\xe9 con panna cotta de chocolate con helado de vainilla. Terminado con crema batida y salsa de chocolate, pl\xe1tano y espada buster de chocolate.",precio:"$143.00",imagen:"assets/img/32.png",disponible:!0}];function Cee(n,e){1&n&&(a.TgZ(0,"span",13),a._uU(1,"Disponible"),a.qZA())}function Eee(n,e){1&n&&a._uU(0,"No disponible")}function xee(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){const s=a.CHM(t).$implicit,o=a.oxw();return a.KtG(o.seleccionarPlato(s))}),a.TgZ(1,"div",3),a._UZ(2,"img",4),a.TgZ(3,"div",5)(4,"h5",6),a._uU(5),a.qZA(),a.TgZ(6,"p",7)(7,"small",8),a._uU(8),a.qZA()(),a.TgZ(9,"p",7),a._uU(10),a.qZA()(),a.TgZ(11,"div",9),a.YNc(12,Cee,2,0,"span",10),a.YNc(13,Eee,1,0,"ng-template",11,12,a.W1O),a.qZA()()()}if(2&n){const t=e.$implicit,i=a.MAs(14);a.xp6(2),a.Q6J("src",t.imagen,a.LSH),a.xp6(3),a.Oqu(t.nombre),a.xp6(3),a.Oqu(t.precio),a.xp6(2),a.Oqu(t.descripcion),a.xp6(2),a.Q6J("ngIf",t.disponible)("ngIfElse",i)}}let Dee=(()=>{class n{constructor(){this.platos=$j,this.platoSeleccionado=new a.vpe}seleccionarPlato(t){this.platoSeleccionado.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-listado-items"]],outputs:{platoSeleccionado:"platoSeleccionado"},decls:2,vars:1,consts:[[1,"card-columns"],["class","col",3,"click",4,"ngFor","ngForOf"],[1,"col",3,"click"],[1,"card","text-bg-dark"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card-footer","text-muted"],["class","disp",4,"ngIf","ngIfElse"],["class","noDisp"],["noDisponible",""],[1,"disp"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.YNc(1,xee,15,6,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",i.platos))},dependencies:[Ot,at],styles:["@media (min-width: 576px){.card-columns[_ngcontent-%COMP%]{column-count:2}}@media (min-width: 768px){.card-columns[_ngcontent-%COMP%]{column-count:3}}@media (min-width: 992px){.card-columns[_ngcontent-%COMP%]{column-count:4}}@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{column-count:5}}.card[_ngcontent-%COMP%]{border:solid 2px #c2185b}.disp[_ngcontent-%COMP%]{color:green}"]}),n})();const Tee=["openModalButton"];function Iee(n,e){1&n&&(a.TgZ(0,"span",17),a._uU(1,"Disponible"),a.qZA())}function See(n,e){1&n&&a._uU(0,"No disponible")}let Aee=(()=>{class n{constructor(){this.modalF=!1}ngAfterViewChecked(){this.modalF&&(console.log("Se esta repitiendo multiples veces por alguna razon"),this.openModalButton.nativeElement.dispatchEvent(new MouseEvent("click")))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-item"]],viewQuery:function(t,i){if(1&t&&a.Gf(Tee,5),2&t){let r;a.iGM(r=a.CRH())&&(i.openModalButton=r.first)}},inputs:{nombrePlato:"nombrePlato",modalF:"modalF"},decls:22,vars:7,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",3,"hidden"],["openModalButton",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-body"],[1,"card","text-bg-dark"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card-footer","text-muted"],["class","disp",4,"ngIf","ngIfElse"],["class","noDisp"],["noDisponible",""],[1,"disp"]],template:function(t,i){if(1&t&&(a.TgZ(0,"button",0,1),a._uU(2," Launch demo modal\n"),a.qZA(),a.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),a._UZ(8,"button",7)(9,"img",8),a.TgZ(10,"div",9)(11,"h5",10),a._uU(12),a.qZA(),a.TgZ(13,"p",11)(14,"small",12),a._uU(15),a.qZA()(),a.TgZ(16,"p",11),a._uU(17),a.qZA()(),a.TgZ(18,"div",13),a.YNc(19,Iee,2,0,"span",14),a.YNc(20,See,1,0,"ng-template",15,16,a.W1O),a.qZA()()()()()()),2&t){const r=a.MAs(21);a.Q6J("hidden",!0),a.xp6(9),a.Q6J("src",i.nombrePlato.imagen,a.LSH),a.xp6(3),a.Oqu(i.nombrePlato.nombre),a.xp6(3),a.Oqu(i.nombrePlato.precio),a.xp6(2),a.Oqu(i.nombrePlato.descripcion),a.xp6(2),a.Q6J("ngIf",i.nombrePlato.disponible)("ngIfElse",r)}},dependencies:[at],styles:[".modal-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]{border:solid 2px #c2185b}.btn-close[_ngcontent-%COMP%]{color:#fff;text-align:end}.disp[_ngcontent-%COMP%]{color:green}"]}),n})(),Mee=(()=>{class n{constructor(){this.seleccion=!1}mostrarPlato(t){this.platoSeleccionado=t,this.seleccion=!0,console.log("Mostrar plato"+this.seleccion)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-menu"]],decls:8,vars:2,consts:[[1,"contenedor"],[1,"title"],[3,"platoSeleccionado"],[3,"nombrePlato","modalF"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1"),a._uU(3,"Menu"),a.qZA(),a.TgZ(4,"p"),a._uU(5,"Seleccionar algun articulo para ver con mayor detalle"),a.qZA()(),a.TgZ(6,"app-listado-items",2),a.NdJ("platoSeleccionado",function(s){return i.mostrarPlato(s)}),a.qZA(),a._UZ(7,"app-item",3),a.qZA()),2&t&&(a.xp6(7),a.Q6J("nombrePlato",i.platoSeleccionado)("modalF",i.seleccion))},dependencies:[Dee,Aee],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-shadow:.1rem .2rem black;text-align:center}"]}),n})(),kee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-about"]],decls:62,vars:1,consts:[[1,"contenedor"],[1,"logo"],["src","assets/img/LogoC.png","alt",""],[1,"expo"],["width","75%","autoplay","","loop","",3,"muted"],["src","assets/CookingComp.mp4","type","video/mp4"],[1,"personaD"],[1,"avatar"],["src","assets/img/pfp1.jpeg","alt",""],[1,"info"],[1,"personaI"],["src","assets/img/pfp2.jpeg","alt",""],["src","assets/img/pfp3.jpeg","alt",""],["src","assets/img/pfp4.jpeg","alt",""],["src","assets/img/pfp5.jpg","alt",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"h1"),a._uU(4,"Donburi Dojo"),a.qZA(),a.TgZ(5,"h3"),a._uU(6,'"Donde la comida y la cultura otaku se unen."'),a.qZA(),a.TgZ(7,"p",3),a._uU(8,"Somos un restaurante ficticio con la mision de producir la misma sensacion que tienes cuando ves comida en anime al probar los alimentos que preparamos. Ademas de crear platillos unicos inspirados por los personajes de tus animes favoritos."),a.qZA(),a.TgZ(9,"video",4),a._UZ(10,"source",5),a._uU(11," Your browser does not support the video tag. "),a.qZA(),a.TgZ(12,"p",3),a._uU(13,"Visita este lugar donde no solo podras probar nuestros maravillosos y deliciosos platillos sino tambien conocer personas que comparten tus gustos culinarios y de entretenimiento."),a.qZA(),a._UZ(14,"br")(15,"br"),a.TgZ(16,"p"),a._uU(17,"**El proposito de este sitio web es ser presentado como proyecto universitario**"),a.qZA(),a.TgZ(18,"h2"),a._uU(19,"Equipo de desarrollo"),a.qZA(),a.TgZ(20,"div",6)(21,"div",7),a._UZ(22,"img",8),a.qZA(),a.TgZ(23,"div",9)(24,"h2"),a._uU(25,"Manuel Alejandro Flores Ramirez"),a.qZA(),a.TgZ(26,"h4"),a._uU(27,"Id: 289841"),a.qZA()()(),a.TgZ(28,"div",10)(29,"div",9)(30,"h2"),a._uU(31,"Jose Armando Perez Lugo"),a.qZA(),a.TgZ(32,"h4"),a._uU(33,"Id: 294102"),a.qZA()(),a.TgZ(34,"div",7),a._UZ(35,"img",11),a.qZA()(),a.TgZ(36,"div",6)(37,"div",7),a._UZ(38,"img",12),a.qZA(),a.TgZ(39,"div",9)(40,"h2"),a._uU(41,"Andrea Fernanda Perez Estrada"),a.qZA(),a.TgZ(42,"h4"),a._uU(43,"Id: 243865"),a.qZA()()(),a.TgZ(44,"div",10)(45,"div",9)(46,"h2"),a._uU(47,"Ivan Alejandro Lopez Martinez"),a.qZA(),a.TgZ(48,"h4"),a._uU(49,"Id: 293411"),a.qZA()(),a.TgZ(50,"div",7),a._UZ(51,"img",13),a.qZA()(),a.TgZ(52,"div",6)(53,"div",7),a._UZ(54,"img",14),a.qZA(),a.TgZ(55,"div",9)(56,"h2"),a._uU(57,"Edgar Ulises Delgado Hern\xe1ndez"),a.qZA(),a.TgZ(58,"h4"),a._uU(59,"Id: 211060"),a.qZA()()(),a.TgZ(60,"p"),a._uU(61,"**El proposito de este sitio web es ser presentado como proyecto universitario**"),a.qZA()()),2&t&&(a.xp6(9),a.Q6J("muted",!0))},styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2% 20%;color:#fff;text-shadow:.1rem .2rem black;text-align:center}img[_ngcontent-%COMP%]{width:15vw}.expo[_ngcontent-%COMP%]{text-align:justify}.personaD[_ngcontent-%COMP%]{text-align:start;display:flex;margin-bottom:.5rem}.personaI[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end;display:flex;margin-bottom:.5rem}.personaD[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.75rem}.personaI[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:.75rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.25rem}p[_ngcontent-%COMP%]{font-size:1.15rem}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15rem;border:ridge .5rem rgb(185,161,23)}"]}),n})();var Ys=F(6959);let KN;try{KN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{KN=!1}let bv,$r=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?vo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function qj(){if(bv)return bv;if("object"!=typeof document||!document)return bv=new Set(Wj),bv;let n=document.createElement("input");return bv=new Set(Wj.filter(e=>(n.setAttribute("type",e),n.type===e))),bv}let gE,wA,B_,QN;function vv(n){return function Ree(){if(null==gE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gE=!0}))}finally{gE=gE||!1}return gE}()?n:!!n.capture}function Yj(){if(null==B_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return B_=!1,B_;if("scrollBehavior"in document.documentElement.style)B_=!0;else{const n=Element.prototype.scrollTo;B_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return B_}function _E(){if("object"!=typeof document||!document)return 0;if(null==wA){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),wA=0,0===n.scrollLeft&&(n.scrollLeft=1,wA=0===n.scrollLeft?1:2),n.remove()}return wA}function tm(n){return n.composedPath?n.composedPath()[0]:n.target}function XN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Oh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var TA=F(4986);function JN(n,e=TA.z){return(0,Li.e)((t,i)=>{let r=null,s=null,o=null;const l=()=>{if(r){r.unsubscribe(),r=null;const f=s;s=null,i.next(f)}};function d(){const f=o+n,m=e.now();if(m<f)return r=this.schedule(void 0,f-m),void i.add(r);l()}t.subscribe((0,ni.x)(i,f=>{s=f,o=e.now(),r||(r=e.schedule(d,n),i.add(r))},()=>{l(),i.complete()},void 0,()=>{s=r=null}))})}function eF(n){return li((e,t)=>n<=t)}function tF(n,e=Vl.y){return n=n??Gee,(0,Li.e)((t,i)=>{let r,s=!0;t.subscribe((0,ni.x)(i,o=>{const l=e(o);(s||!n(r,l))&&(s=!1,r=l,i.next(o))}))})}function Gee(n,e){return n===e}var nF=F(5032);function wr(n){return(0,Li.e)((e,t)=>{(0,Lr.Xf)(n).subscribe((0,ni.x)(t,()=>t.complete(),nF.Z)),!t.closed&&e.subscribe(t)})}function oi(n){return null!=n&&"false"!=`${n}`}function Cv(n,e=0){return function $ee(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function IA(n){return Array.isArray(n)?n:[n]}function xs(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Nh(n){return n instanceof a.SBq?n.nativeElement:n}let Qj=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wee=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Nh(t);return new Di.y(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new zt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qj))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Cv(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(JN(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Wee),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),iF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Qj]}),n})();const Jj=new Set;let Ev,qee=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zee}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Yee(n){if(!Jj.has(n))try{Ev||(Ev=document.createElement("style"),Ev.setAttribute("type","text/css"),document.head.appendChild(Ev)),Ev.sheet&&(Ev.sheet.insertRule(`@media ${n} {body{ }}`,0),Jj.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($r))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zee(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Kee=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new zt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return e6(IA(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=kb(e6(IA(t)).map(o=>this._registerQuery(o).observable));return s=vh(s.pipe(si(1)),s.pipe(eF(1),JN(0))),s.pipe((0,Ht.U)(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:d,query:f})=>{l.matches=l.matches||d,l.breakpoints[f]=d}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Di.y(o=>{const l=d=>this._zone.run(()=>o.next(d));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(ka(i),(0,Ht.U)(({matches:o})=>({query:t,matches:o})),wr(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qee),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e6(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class r6{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zt.x,this._typeaheadSubscription=Rr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new zt.x,this.change=new zt.x,e instanceof a.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,us.b)(t=>this._pressedLetters.push(t)),JN(e),li(()=>this._pressedLetters.length>0),(0,Ht.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Oh(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class Jee extends r6{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class ete extends r6{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function o6(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function a6(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ote=new a.OlP("cdk-input-modality-detector-options"),ate={ignoreKeys:[18,17,224,91,16]},xv=vv({passive:!0,capture:!0});let lte=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new mi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(l=>l===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=tm(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(o6(o)?"keyboard":"mouse"),this._mostRecentTarget=tm(o))},this._onTouchstart=o=>{a6(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=tm(o))},this._options={...ate,...s},this.modalityDetected=this._modality.pipe(eF(1)),this.modalityChanged=this.modalityDetected.pipe(tF()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,xv),r.addEventListener("mousedown",this._onMousedown,xv),r.addEventListener("touchstart",this._onTouchstart,xv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xv),document.removeEventListener("mousedown",this._onMousedown,xv),document.removeEventListener("touchstart",this._onTouchstart,xv))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($r),a.LFG(a.R0b),a.LFG(j),a.LFG(ote,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cte=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ute(){return null}}),dte=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let hte=0,fte=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+hte++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(cte,8),a.LFG(a.R0b),a.LFG(j),a.LFG(dte,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pte=new a.OlP("cdk-focus-monitor-default-options"),SA=vv({passive:!0,capture:!0});let c6=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zt.x,this._rootNodeFocusAndBlurListener=l=>{for(let f=tm(l);f;f=f.parentElement)"focus"===l.type?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=Nh(t);if(!this._platform.isBrowser||1!==r.nodeType)return Tt(null);const s=function Oee(n){if(function Pee(){if(null==QN){const n=typeof document<"u"?document.head:null;QN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const l={checkChildren:i,subject:new zt.x,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const i=Nh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Nh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,i,d)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=tm(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,SA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,SA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,SA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,SA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG($r),a.LFG(lte),a.LFG(j,8),a.LFG(pte,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u6=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new a.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(c6))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const d6="cdk-high-contrast-black-on-white",h6="cdk-high-contrast-white-on-black",rF="cdk-high-contrast-active";let f6=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(Kee).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rF,d6,h6),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(rF,d6):2===i&&t.add(rF,h6)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($r),a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p6=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(f6))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[iF]}),n})();const mte=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function gte(){return(0,a.f3M)(j)}}),_te=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Po=(()=>{class n{constructor(t){this.value="ltr",this.change=new a.vpe,t&&(this.value=function yte(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_te.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(mte,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const bte=["text"];function vte(n,e){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",6),2&n){const t=a.oxw();a.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function wte(n,e){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",7),2&n){const t=a.oxw();a.Q6J("disabled",t.disabled)}}function Cte(n,e){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij("(",t.group.label,")")}}const Ete=[[["mat-icon"]],"*"],xte=["mat-icon","*"],Tte=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function Dte(){return!0}});let uo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!XN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(f6),a.LFG(Tte,8),a.LFG(j))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[vE,vE]}),n})();function AA(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=oi(e)}constructor(...e){super(...e),this._disabled=!1}}}function _6(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function sF(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=oi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Ite(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Cv(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function y6(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}const Ste=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ate(){return(0,a.f3M)(a.soG)}});class Oo{constructor(){this._localeChanges=new zt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const H_=new a.OlP("mat-date-formats"),Mte=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function oF(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let kte=(()=>{class n extends Oo{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return oF(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return oF(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return oF(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let s=this._createDateWithOverflow(t,i,r);return s.getMonth(),s}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Mte.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const s=new Date;return s.setFullYear(t,i,r),s.setHours(0,0,0,0),s}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ste,8),a.LFG($r))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Rte={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Pte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Oo,useClass:kte}]}),n})(),Ote=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:H_,useValue:Rte}],imports:[Pte]}),n})(),b6=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nte{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const v6=vv({passive:!0,capture:!0});class Fte{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=tm(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,v6)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,v6)))}}const w6={enterDuration:225,exitDuration:150},C6=vv({passive:!0,capture:!0}),E6=["mousedown","touchstart"],x6=["mouseup","mouseleave","touchend","touchcancel"];class CE{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Nh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...w6,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function Vte(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),l=e-r.left,d=t-r.top,f=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=l-o+"px",m.style.top=d-o+"px",m.style.height=2*o+"px",m.style.width=2*o+"px",null!=i.color&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(m);const _=window.getComputedStyle(m),x=_.transitionDuration,M="none"===_.transitionProperty||"0s"===x||"0s, 0s"===x||0===r.width&&0===r.height,k=new Nte(this,m,i,M);m.style.transform="scale3d(1, 1, 1)",k.state=0,i.persistent||(this._mostRecentTransientRipple=k);let R=null;return!M&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $=()=>this._finishRippleTransition(k),W=()=>this._destroyRipple(k);m.addEventListener("transitionend",$),m.addEventListener("transitioncancel",W),R={onTransitionEnd:$,onTransitionCancel:W}}),this._activeRipples.set(k,R),(M||!f)&&this._finishRippleTransition(k),k}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...w6,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Nh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,E6.forEach(i=>{CE._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{x6.forEach(t=>{this._triggerElement.addEventListener(t,this,C6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=o6(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!a6(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(E6.forEach(t=>CE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&x6.forEach(t=>e.removeEventListener(t,this,C6)))}}CE._eventManager=new Fte;const Bte=new a.OlP("mat-ripple-global-options");let z_=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new CE(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36($r),a.Y36(Bte,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),MA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uo,uo]}),n})(),Ute=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),Hte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uo]}),n})();const D6=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),T6=new a.OlP("MatOptgroup");let zte=0;class jte{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Gte=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=oi(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+zte++,this.onSelectionChange=new a.vpe,this._stateChanges=new zt.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Oh(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new jte(this,t))}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(bte,7),2&t){let r;a.iGM(r=a.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),I6=(()=>{class n extends Gte{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(D6,8),a.Y36(T6,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(a.Ikx("id",i.id),a.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),a.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:xte,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(a.F$t(Ete),a.YNc(0,vte,1,2,"mat-pseudo-checkbox",0),a.Hsn(1),a.TgZ(2,"span",1,2),a.Hsn(4,1),a.qZA(),a.YNc(5,wte,1,1,"mat-pseudo-checkbox",3),a.YNc(6,Cte,2,1,"span",4),a._UZ(7,"div",5)),2&t&&(a.Q6J("ngIf",i.multiple),a.xp6(5),a.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),a.xp6(1),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[z_,at,Ute],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),S6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[MA,ro,uo,Hte]}),n})(),A6=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),j_=(()=>{class n extends A6{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Kc=new a.OlP("NgValueAccessor"),Zte={provide:Kc,useExisting:(0,a.Gpc)(()=>Fh),multi:!0},Qte=new a.OlP("CompositionEventMode");let Fh=(()=>{class n extends A6{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kte(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Qte,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([Zte]),a.qOj]}),n})();const Xte=!1;function nm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function k6(n){return null!=n&&"number"==typeof n.length}const ho=new a.OlP("NgValidators"),im=new a.OlP("NgAsyncValidators"),Jte=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ui{static min(e){return function R6(n){return e=>{if(nm(e.value)||nm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function P6(n){return e=>{if(nm(e.value)||nm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return O6(e)}static requiredTrue(e){return function N6(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function F6(n){return nm(n.value)||Jte.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function L6(n){return e=>nm(e.value)||!k6(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function V6(n){return e=>k6(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function B6(n){if(!n)return kA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(nm(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return $6(e)}static composeAsync(e){return W6(e)}}function O6(n){return nm(n.value)?{required:!0}:null}function kA(n){return null}function U6(n){return null!=n}function H6(n){const e=(0,a.QGY)(n)?(0,fi.D)(n):n;if(Xte&&!(0,a.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,t)}return e}function z6(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function j6(n,e){return e.map(t=>t(n))}function G6(n){return n.map(e=>function ene(n){return!n.validate}(e)?e:t=>e.validate(t))}function $6(n){if(!n)return null;const e=n.filter(U6);return 0==e.length?null:function(t){return z6(j6(t,e))}}function aF(n){return null!=n?$6(G6(n)):null}function W6(n){if(!n)return null;const e=n.filter(U6);return 0==e.length?null:function(t){return function qte(...n){const e=(0,il.jO)(n),{args:t,keys:i}=JP(n),r=new Di.y(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let d=o,f=o;for(let m=0;m<o;m++){let _=!1;(0,Lr.Xf)(t[m]).subscribe((0,ni.x)(s,w=>{_||(_=!0,f--),l[m]=w},()=>d--,void 0,()=>{(!d||!_)&&(f||s.next(i?Mb(i,l):l),s.complete())}))}});return e?r.pipe(EC(e)):r}(j6(t,e).map(H6)).pipe((0,Ht.U)(z6))}}function lF(n){return null!=n?W6(G6(n)):null}function q6(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Y6(n){return n._rawValidators}function Z6(n){return n._rawAsyncValidators}function cF(n){return n?Array.isArray(n)?n:[n]:[]}function RA(n,e){return Array.isArray(n)?n.includes(e):n===e}function K6(n,e){const t=cF(e);return cF(n).forEach(r=>{RA(t,r)||t.push(r)}),t}function Q6(n,e){return cF(e).filter(t=>!RA(n,t))}class X6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ia extends X6{get formDirective(){return null}get path(){return null}}class td extends X6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J6{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let G_=(()=>{class n extends J6{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(td,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),EE=(()=>{class n extends J6{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ia,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();function e4(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const hF=!1,xE="VALID",OA="INVALID",Dv="PENDING",DE="DISABLED";function fF(n){return(NA(n)?n.validators:n)||null}function pF(n,e){return(NA(e)?e.asyncValidators:n)||null}function NA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function t4(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,hF?function rne(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new a.vHH(1001,hF?function sne(n,e){return`Cannot find form control ${e4(n,e)}`}(e,t):"")}function n4(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,hF?function one(n,e){return`Must supply a value for form control ${e4(n,e)}`}(e,r):"")})}class FA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xE}get invalid(){return this.status===OA}get pending(){return this.status==Dv}get disabled(){return this.status===DE}get enabled(){return this.status!==DE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(K6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(K6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q6(e,this._rawAsyncValidators))}hasValidator(e){return RA(this._rawValidators,e)}hasAsyncValidator(e){return RA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=DE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xE,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xE||this.status===Dv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?DE:xE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dv,this._hasOwnPendingAsyncValidator=!0;const t=H6(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?DE:this.errors?OA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dv)?Dv:this._anyControlsHaveStatus(OA)?OA:xE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){NA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ane(n){return Array.isArray(n)?aF(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lne(n){return Array.isArray(n)?lF(n):n||null}(this._rawAsyncValidators)}}class nd extends FA{constructor(e,t,i){super(fF(t),pF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){n4(this,!0,e),Object.keys(e).forEach(i=>{t4(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class r4 extends nd{}const $_=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>TE}),TE="always";function LA(n,e){return[...e.path,n]}function IE(n,e,t=TE){mF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function une(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&s4(n,e)})}(n,e),function hne(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function dne(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&s4(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cne(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function VA(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),UA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function BA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mF(n,e){const t=Y6(n);null!==e.validator?n.setValidators(q6(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Z6(n);null!==e.asyncValidator?n.setAsyncValidators(q6(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();BA(e._rawValidators,r),BA(e._rawAsyncValidators,r)}function UA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Y6(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Z6(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return BA(e._rawValidators,i),BA(e._rawAsyncValidators,i),t}function s4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o4(n,e){mF(n,e)}function _F(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function a4(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function yF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Fh?t=s:function mne(n){return Object.getPrototypeOf(n.constructor)===j_}(s)?i=s:r=s}),r||i||t||null}const _ne={provide:ia,useExisting:(0,a.Gpc)(()=>W_)},SE=(()=>Promise.resolve())();let W_=(()=>{class n extends ia{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new nd({},aF(t),lF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){SE.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),IE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){SE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){SE.then(()=>{const i=this._findContainer(t.path),r=new nd({});o4(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){SE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){SE.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,a4(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ho,10),a.Y36(im,10),a.Y36($_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([_ne]),a.qOj]}),n})();function l4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function c4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const No=class extends FA{constructor(e=null,t,i){super(fF(t),pF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),NA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=c4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){l4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){l4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){c4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},vne={provide:td,useExisting:(0,a.Gpc)(()=>Tv)},h4=(()=>Promise.resolve())();let Tv=(()=>{class n extends td{constructor(t,i,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new No,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=yF(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_F(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){IE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){h4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,a.D6c)(i);h4.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?LA(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ia,9),a.Y36(ho,10),a.Y36(im,10),a.Y36(Kc,10),a.Y36(a.sBO,8),a.Y36($_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([vne]),a.qOj,a.TTD]}),n})(),AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const wne={provide:Kc,useExisting:(0,a.Gpc)(()=>HA),multi:!0};let HA=(()=>{class n extends j_{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([wne]),a.qOj]}),n})(),f4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const bF=new a.OlP("NgModelWithFormControlWarning"),Tne={provide:ia,useExisting:(0,a.Gpc)(()=>rm)};let rm=(()=>{class n extends ia{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return IE(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){VA(t.control||null,t,!1),function gne(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,a4(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(VA(i||null,t),(n=>n instanceof No)(r)&&(IE(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);o4(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function fne(n,e){return UA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mF(this.form,this),this._oldForm&&UA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ho,10),a.Y36(im,10),a.Y36($_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Tne]),a.qOj,a.TTD]}),n})();const Ane={provide:td,useExisting:(0,a.Gpc)(()=>ME)};let ME=(()=>{class n extends td{set isDisabled(t){}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=yF(0,s)}ngOnChanges(t){this._added||this._setUpControl(),_F(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return LA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(ia,13),a.Y36(ho,10),a.Y36(im,10),a.Y36(Kc,10),a.Y36(bF,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Ane]),a.qOj,a.TTD]}),n})(),q_=(()=>{class n{constructor(){this._validator=kA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):kA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Vne={provide:ho,useExisting:(0,a.Gpc)(()=>Iv),multi:!0};let Iv=(()=>{class n extends q_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>O6}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Vne]),a.qOj]}),n})(),A4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[f4]}),n})();class M4 extends FA{constructor(e,t,i){super(fF(t),pF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){n4(this,!1,e),e.forEach((i,r)=>{t4(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function k4(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Gne=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return k4(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new nd(r,s)}record(t,i=null){const r=this._reduceControls(t);return new r4(r,i)}control(t,i,r){let s={};return this.useNonNullable?(k4(i)?s=i:(s.validators=i,s.asyncValidators=r),new No(t,{...s,nonNullable:!0})):new No(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new M4(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof No||t instanceof FA?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$ne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$_,useValue:t.callSetDisabledState??TE}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[A4]}),n})(),Wne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bF,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$_,useValue:t.callSetDisabledState??TE}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[A4]}),n})();class xF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class R4 extends xF{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class zA extends xF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class qne extends xF{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class P4{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof R4?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zA?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof qne?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Yne extends P4{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const l=o.element,d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Zne=(()=>{class n extends zA{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[a.qOj]}),n})(),jA=(()=>{class n extends P4{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const o=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(l,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(j))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),DF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Kne=F(1144);const Qne=["addListener","removeListener"],Xne=["addEventListener","removeEventListener"],Jne=["on","off"];function Lh(n,e,t,i){if((0,Br.m)(t)&&(i=t,t=void 0),i)return Lh(n,e,t).pipe(EC(i));const[r,s]=function nie(n){return(0,Br.m)(n.addEventListener)&&(0,Br.m)(n.removeEventListener)}(n)?Xne.map(o=>l=>n[o](e,l,t)):function eie(n){return(0,Br.m)(n.addListener)&&(0,Br.m)(n.removeListener)}(n)?Qne.map(O4(n,e)):function tie(n){return(0,Br.m)(n.on)&&(0,Br.m)(n.off)}(n)?Jne.map(O4(n,e)):[];if(!r&&(0,Kne.z)(n))return(0,vr.z)(o=>Lh(o,e,t))((0,Lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Di.y(o=>{const l=(...d)=>o.next(1<d.length?d:d[0]);return r(l),()=>s(l)})}function O4(n,e){return t=>i=>n[t](e,i)}var iie=F(3532);function TF(n=0,e,t=TA.P){let i=-1;return null!=e&&((0,iie.K)(e)?t=e:i=e),new Di.y(r=>{let s=function rie(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}class N4{}class sie{}const Vh="*";function Sv(n,e){return{type:7,name:n,definitions:e,options:{}}}function id(n,e=null){return{type:4,styles:e,timings:n}}function F4(n,e=null){return{type:2,steps:n,options:e}}function ks(n){return{type:6,styles:n,offset:null}}function Y_(n,e,t){return{type:0,name:n,styles:e,options:t}}function Qc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oie(n=null){return{type:9,options:n}}function aie(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function V4(n){Promise.resolve().then(n)}class kE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){V4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class B4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?V4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const IF="!";var U4=F(4408);const RE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=RE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Rr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=RE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=RE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var H4=F(7565);const uie=new class cie extends H4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lie extends U4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=RE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(RE.cancelAnimationFrame(t),e._scheduled=void 0)}});let SF,die=1;const GA={};function z4(n){return n in GA&&(delete GA[n],!0)}const hie={setImmediate(n){const e=die++;return GA[e]=!0,SF||(SF=Promise.resolve()),SF.then(()=>z4(e)&&n()),e},clearImmediate(n){z4(n)}},{setImmediate:fie,clearImmediate:pie}=hie,$A={setImmediate(...n){const{delegate:e}=$A;return(e?.setImmediate||fie)(...n)},clearImmediate(n){const{delegate:e}=$A;return(e?.clearImmediate||pie)(n)},delegate:void 0},_ie=new class gie extends H4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class mie extends U4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$A.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&($A.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function AF(n,e=TA.z){return function yie(n){return(0,Li.e)((e,t)=>{let i=!1,r=null,s=null,o=!1;const l=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const f=r;r=null,t.next(f)}o&&t.complete()},d=()=>{s=null,o&&t.complete()};e.subscribe((0,ni.x)(t,f=>{i=!0,r=f,s||(0,Lr.Xf)(n(f)).subscribe(s=(0,ni.x)(t,l,d))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>TF(n,e))}const bie=["contentWrapper"],vie=["*"],wie=new a.OlP("VIRTUAL_SCROLL_STRATEGY");let WA=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Di.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(AF(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(li(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Nh(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG($r),a.LFG(j,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j4=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new zt.x,this._elementScrolled=new Di.y(o=>this.ngZone.runOutsideAngular(()=>Lh(this.elementRef.nativeElement,"scroll").pipe(wr(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=_E()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==_E()?t.left=t.right:1==_E()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;Yj()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==_E()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==_E()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(WA),a.Y36(a.R0b),a.Y36(Po,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),sm=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(AF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($r),a.LFG(a.R0b),a.LFG(j,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G4=new a.OlP("VIRTUAL_SCROLLABLE");let xie=(()=>{class n extends j4{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(WA),a.Y36(a.R0b),a.Y36(Po,8))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Tie=typeof requestAnimationFrame<"u"?uie:_ie;let Iie=(()=>{class n extends xie{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=oi(t)}constructor(t,i,r,s,o,l,d,f){super(t,l,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=f,this._platform=(0,a.f3M)($r),this._detachedSubject=new zt.x,this._renderedRangeSubject=new zt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Di.y(m=>this._scrollStrategy.scrolledIndexChange.subscribe(_=>Promise.resolve().then(()=>this.ngZone.run(()=>m.next(_))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Rr.w0.EMPTY,this._viewportChanges=d.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(ka(null),AF(0,Tie)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(wr(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Die(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let d=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(d+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=d&&(this._renderedContentTransform=d,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const l=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-l}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(wie,8),a.Y36(Po,8),a.Y36(WA),a.Y36(sm),a.Y36(G4,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&a.Gf(bie,7),2&t){let r;a.iGM(r=a.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&a.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[a._Bn([{provide:j4,useFactory:(e,t)=>e||t,deps:[[new a.FiY,new a.tBr(G4)],n]}]),a.qOj,a.jDz],ngContentSelectors:vie,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&t&&(a.xp6(3),a.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),qA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),MF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[vE,qA,Iie,vE,qA]}),n})();function Sie(n,e){}const Aie=function(n){return{animationDuration:n}},Mie=function(n,e){return{value:n,params:e}};function kie(n,e){1&n&&a.Hsn(0)}const $4=["*"],Rie=["tabListContainer"],Pie=["tabList"],Oie=["tabListInner"],Nie=["nextPaginator"],Fie=["previousPaginator"],Lie=["tabBodyWrapper"],Vie=["tabHeader"];function Bie(n,e){}function Uie(n,e){if(1&n&&a.YNc(0,Bie,0,0,"ng-template",14),2&n){const t=a.oxw().$implicit;a.Q6J("cdkPortalOutlet",t.templateLabel)}}function Hie(n,e){if(1&n&&a._uU(0),2&n){const t=a.oxw().$implicit;a.Oqu(t.textLabel)}}function zie(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6,7),a.NdJ("click",function(){const r=a.CHM(t),s=r.$implicit,o=r.index,l=a.oxw(),d=a.MAs(1);return a.KtG(l._handleClick(s,d,o))})("cdkFocusChange",function(r){const o=a.CHM(t).index,l=a.oxw();return a.KtG(l._tabFocusChanged(r,o))}),a._UZ(2,"span",8)(3,"div",9),a.TgZ(4,"span",10)(5,"span",11),a.YNc(6,Uie,1,1,"ng-template",12),a.YNc(7,Hie,1,1,"ng-template",null,13,a.W1O),a.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=a.MAs(1),s=a.MAs(8),o=a.oxw();a.ekj("mdc-tab--active",o.selectedIndex===i),a.Q6J("id",o._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",o.fitInkBarToContent),a.uIk("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),a.xp6(3),a.Q6J("matRippleTrigger",r)("matRippleDisabled",t.disabled||o.disableRipple),a.xp6(3),a.Q6J("ngIf",t.templateLabel)("ngIfElse",s)}}function jie(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-tab-body",15),a.NdJ("_onCentered",function(){a.CHM(t);const r=a.oxw();return a.KtG(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._setTabBodyWrapperHeight(r))}),a.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.ekj("mat-mdc-tab-body-active",r.selectedIndex===i),a.Q6J("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),a.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const Gie={translateTab:Sv("translateTab",[Y_("center, void, left-origin-center, right-origin-center",ks({transform:"none"})),Y_("left",ks({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Y_("right",ks({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Qc("* => left, * => right, left => center, right => center",id("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Qc("void => left-origin-center",[ks({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),id("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Qc("void => right-origin-center",[ks({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),id("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let $ie=(()=>{class n extends jA{constructor(t,i,r,s){super(t,i,s),this._host=r,this._centeringSub=Rr.w0.EMPTY,this._leavingSub=Rr.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ka(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36((0,a.Gpc)(()=>W4)),a.Y36(j))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[a.qOj]}),n})(),Wie=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=Rr.w0.EMPTY,this._translateTabComplete=new zt.x,this._onCentering=new a.vpe,this._beforeCentering=new a.vpe,this._afterLeavingCenter=new a.vpe,this._onCentered=new a.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(tF((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Po,8),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),W4=(()=>{class n extends Wie{constructor(t,i,r){super(t,i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Po,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(1&t&&a.Gf(jA,5),2&t){let r;a.iGM(r=a.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[a.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0,1),a.NdJ("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),a.YNc(2,Sie,0,0,"ng-template",2),a.qZA()),2&t&&a.Q6J("@translateTab",a.WLB(3,Mie,i._position,a.VKq(1,Aie,i.animationDuration)))},dependencies:[$ie],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Gie.translateTab]}}),n})();const qie=new a.OlP("MatTabContent");let Yie=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabContent",""]],features:[a._Bn([{provide:qie,useExisting:n}])]}),n})();const Zie=new a.OlP("MatTabLabel"),q4=new a.OlP("MAT_TAB");let Kie=(()=>{class n extends Zne{constructor(t,i,r){super(t,i),this._closestTab=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(q4,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[a._Bn([{provide:Zie,useExisting:n}]),a.qOj]}),n})();const kF="mdc-tab-indicator--active",Y4="mdc-tab-indicator--no-transition";class Qie{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const t=this._items.find(r=>r.elementRef.nativeElement===e),i=this._currentItem;if(i?.deactivateInkBar(),t){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}function Xie(n){return class extends n{constructor(...e){super(...e),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){const t=oi(e);this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const t=this.elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement)return void t.classList.add(kF);const i=t.getBoundingClientRect(),r=e.width/i.width,s=e.left-i.left;t.classList.add(Y4),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${r})`),t.getBoundingClientRect(),t.classList.remove(Y4),t.classList.add(kF),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(kF)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=e.createElement("span"),this._inkBarContentElement=e.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const ere=AA(class{}),tre=Xie((()=>{class n extends ere{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})());let Z4=(()=>{class n extends tre{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){2&t&&(a.uIk("aria-disabled",!!i.disabled),a.ekj("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[a.qOj]}),n})();const nre=AA(class{}),K4=new a.OlP("MAT_TAB_GROUP");let ire=(()=>{class n extends nre{get content(){return this._contentPortal}constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new zt.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(K4,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(a.Rgc,7),2&t){let r;a.iGM(r=a.CRH())&&(i._implicitContent=r.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[a.qOj,a.TTD]}),n})(),Q4=(()=>{class n extends ire{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,Yie,7,a.Rgc),a.Suo(r,Kie,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._explicitContent=s.first),a.iGM(s=a.CRH())&&(i.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[a._Bn([{provide:q4,useExisting:n}]),a.qOj],ngContentSelectors:$4,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.YNc(0,kie,1,0,"ng-template"))},encapsulation:2}),n})();const X4=vv({passive:!0});let ore=(()=>{class n{get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=oi(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Cv(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(t,i,r,s,o,l,d){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=l,this._animationMode=d,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new zt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new zt.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new a.vpe,this.indexFocused=new a.vpe,o.runOutsideAngular(()=>{Lh(t.nativeElement,"mouseleave").pipe(wr(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Lh(this._previousPaginator.nativeElement,"touchstart",X4).pipe(wr(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Lh(this._nextPaginator.nativeElement,"touchstart",X4).pipe(wr(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Tt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ete(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(si(1)).subscribe(r),(0,Hs.T)(t,i,this._items.changes,this._itemsResized()).pipe(wr(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Vr.E:this._items.changes.pipe(ka(this._items),ii(t=>new Di.y(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return t.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),eF(1),li(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Oh(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=i.elementRef.nativeElement;let l,d;"ltr"==this._getLayoutDirection()?(l=s,d=l+o):(d=this._tabListInner.nativeElement.offsetWidth-s,l=d-o);const f=this.scrollDistance,m=this.scrollDistance+r;l<f?this.scrollDistance-=f-l:d>m&&(this.scrollDistance+=Math.min(d-m,l-f))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),TF(650,100).pipe(wr((0,Hs.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(sm),a.Y36(Po,8),a.Y36(a.R0b),a.Y36($r),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),are=(()=>{class n extends ore{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=oi(t)}constructor(t,i,r,s,o,l,d){super(t,i,r,s,o,l,d),this._disableRipple=!1}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(sm),a.Y36(Po,8),a.Y36(a.R0b),a.Y36($r),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[a.qOj]}),n})(),lre=(()=>{class n extends are{constructor(t,i,r,s,o,l,d){super(t,i,r,s,o,l,d)}ngAfterContentInit(){this._inkBar=new Qie(this._items),super.ngAfterContentInit()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(sm),a.Y36(Po,8),a.Y36(a.R0b),a.Y36($r),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,Z4,4),2&t){let s;a.iGM(s=a.CRH())&&(i._items=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(Rie,7),a.Gf(Pie,7),a.Gf(Oie,7),a.Gf(Nie,5),a.Gf(Fie,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._tabListContainer=r.first),a.iGM(r=a.CRH())&&(i._tabList=r.first),a.iGM(r=a.CRH())&&(i._tabListInner=r.first),a.iGM(r=a.CRH())&&(i._nextPaginator=r.first),a.iGM(r=a.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,i){2&t&&a.ekj("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[a.qOj],ngContentSelectors:$4,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"button",0,1),a.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),a._UZ(2,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.NdJ("keydown",function(s){return i._handleKeydown(s)}),a.TgZ(5,"div",5,6),a.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),a.TgZ(7,"div",7,8),a.Hsn(9),a.qZA()()(),a.TgZ(10,"button",9,10),a.NdJ("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),a._UZ(12,"div",2),a.qZA()),2&t&&(a.ekj("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),a.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),a.xp6(3),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),a.xp6(7),a.ekj("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),a.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[z_,Xj],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),n})();const J4=new a.OlP("MAT_TABS_CONFIG");let cre=0;const ure=_6(sF(class{constructor(n){this._elementRef=n}}),"primary");let dre=(()=>{class n extends ure{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=oi(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Cv(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=Cv(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=oi(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=oi(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,r,s){super(t),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new a.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Rr.w0.EMPTY,this._tabLabelSubscription=Rr.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new a.vpe,this.focusChange=new a.vpe,this.animationDone=new a.vpe,this.selectedTabChange=new a.vpe(!0),this._groupId=cre++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ka(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new fre;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Hs.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){i.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(J4,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[a.qOj]}),n})(),hre=(()=>{class n extends dre{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=oi(t),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(t){this._stretchTabs=oi(t)}constructor(t,i,r,s){super(t,i,r,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(J4,8),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,Q4,5),2&t){let s;a.iGM(s=a.CRH())&&(i._allTabs=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(Lie,5),a.Gf(Vie,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._tabBodyWrapper=r.first),a.iGM(r=a.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(t,i){2&t&&a.ekj("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===i.headerPosition)("mat-mdc-tab-group-stretch-tabs",i.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[a._Bn([{provide:K4,useExisting:n}]),a.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(t,i){1&t&&(a.TgZ(0,"mat-tab-header",0,1),a.NdJ("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),a.YNc(2,zie,9,17,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.YNc(5,jie,1,11,"mat-tab-body",5),a.qZA()),2&t&&(a.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),a.xp6(2),a.Q6J("ngForOf",i._tabs),a.xp6(1),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),a.xp6(2),a.Q6J("ngForOf",i._tabs))},dependencies:[V,Ot,at,jA,z_,u6,W4,Z4,lre],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab-indicator__content--underline,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),n})();class fre{}let pre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ro,uo,DF,MA,iF,p6,uo]}),n})();const e5=Yj();class mre{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xs(-this._previousScrollPosition.left),e.style.top=xs(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),e5&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e5&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class gre{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(li(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class t5{enable(){}disable(){}attach(){}}function RF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function n5(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class _re{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();RF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yre=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new t5,this.close=o=>new gre(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new mre(this._viewportRuler,this._document),this.reposition=o=>new _re(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(WA),a.LFG(sm),a.LFG(a.R0b),a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class r5{constructor(e){if(this.scrollStrategy=new t5,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class bre{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let s5=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vre=(()=>{class n extends s5{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const l=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wre=(()=>{class n extends s5{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=tm(s)},this._clickListener=s=>{const o=tm(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){const m=d[f];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(o)||m.overlayElement.contains(l))break;const _=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(s)):_.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j),a.LFG($r),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o5=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||XN()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),XN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j),a.LFG($r))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cre{constructor(e,t,i,r,s,o,l,d,f,m=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=l,this._location=d,this._outsideClickDispatcher=f,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new zt.x,this._attachments=new zt.x,this._detachments=new zt.x,this._locationChanges=Rr.w0.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new zt.x,this._outsidePointerEvents=new zt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=xs(this._config.width),e.height=xs(this._config.height),e.minWidth=xs(this._config.minWidth),e.minHeight=xs(this._config.minHeight),e.maxWidth=xs(this._config.maxWidth),e.maxHeight=xs(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=IA(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(wr((0,Hs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const a5="cdk-overlay-connected-position-bounding-box",Ere=/([A-Za-z%]+)$/;class xre{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zt.x,this._resizeSubscription=Rr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(a5),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let l of this._preferredPositions){let d=this._getOriginPoint(e,r,l),f=this._getOverlayPoint(d,t,l),m=this._getOverlayFit(f,t,i,l);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,d);this._canFitWithFlexibleDimensions(m,f,i)?s.push({position:l,origin:d,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(d,l)}):(!o||o.overlayFit.visibleArea<m.visibleArea)&&(o={overlayFit:m,overlayPoint:f,originPoint:d,position:l,overlayRect:t})}if(s.length){let l=null,d=-1;for(const f of s){const m=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);m>d&&(d=m,l=f)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Z_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(a5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;r="start"==i.originX?o:l}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=c5(t);let{x:o,y:l}=e,d=this._getOffset(r,"x"),f=this._getOffset(r,"y");d&&(o+=d),f&&(l+=f);let w=0-l,x=l+s.height-i.height,M=this._subtractOverflows(s.width,0-o,o+s.width-i.width),k=this._subtractOverflows(s.height,w,x),R=M*k;return{visibleArea:R,isCompletelyWithinViewport:s.width*s.height===R,fitsInViewportVertically:k===s.height,fitsInViewportHorizontally:M==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=l5(this._overlayRef.getConfig().minHeight),l=l5(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=l&&l<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=c5(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),l=Math.max(e.y+r.height-s.height,0),d=Math.max(s.top-i.top-e.y,0),f=Math.max(s.left-i.left-e.x,0);let m=0,_=0;return m=r.width<=s.width?f||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,_=r.height<=s.height?d||-l:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:m,y:_},{x:e.x+m,y:e.y+_}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new bre(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,l,m,_,w;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)l=i.height-e.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const x=Math.min(i.bottom-e.y+i.top,e.y),M=this._lastBoundingBoxSize.height;s=2*x,o=e.y-x,s>M&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-M/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)w=i.width-e.x+this._viewportMargin,m=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)_=e.x,m=i.right-e.x;else{const x=Math.min(i.right-e.x+i.left,e.x),M=this._lastBoundingBoxSize.width;m=2*x,_=e.x-x,m>M&&!this._isInitialRender&&!this._growAfterOpen&&(_=e.x-M/2)}return{top:o,left:_,bottom:l,right:w,width:m,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=xs(i.height),r.top=xs(i.top),r.bottom=xs(i.bottom),r.width=xs(i.width),r.left=xs(i.left),r.right=xs(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=xs(s)),o&&(r.maxWidth=xs(o))}this._lastBoundingBoxSize=i,Z_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Z_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Z_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();Z_(i,this._getExactOverlayY(t,e,m)),Z_(i,this._getExactOverlayX(t,e,m))}else i.position="static";let l="",d=this._getOffset(t,"x"),f=this._getOffset(t,"y");d&&(l+=`translateX(${d}px) `),f&&(l+=`translateY(${f}px)`),i.transform=l.trim(),o.maxHeight&&(r?i.maxHeight=xs(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=xs(o.maxWidth):s&&(i.maxWidth="")),Z_(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=xs(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=xs(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:n5(e,i),isOriginOutsideView:RF(e,i),isOverlayClipped:n5(t,i),isOverlayOutsideView:RF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&IA(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Z_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function l5(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Ere);return t&&"px"!==t?null:parseFloat(e)}return n||null}function c5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const u5="cdk-global-overlay-wrapper";class Dre{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(u5),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:l}=i,d=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),f=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),m=this._xPosition,_=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let x="",M="",k="";d?k="flex-start":"center"===m?(k="center",w?M=_:x=_):w?"left"===m||"end"===m?(k="flex-end",x=_):("right"===m||"start"===m)&&(k="flex-start",M=_):"left"===m||"start"===m?(k="flex-start",x=_):("right"===m||"end"===m)&&(k="flex-end",M=_),e.position=this._cssPosition,e.marginLeft=d?"0":x,e.marginTop=f?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=d?"0":M,t.justifyContent=k,t.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(u5),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Tre=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Dre}flexibleConnectedTo(t){return new xre(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sm),a.LFG(j),a.LFG($r),a.LFG(o5))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ire=0,PE=(()=>{class n{constructor(t,i,r,s,o,l,d,f,m,_,w,x){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=l,this._ngZone=d,this._document=f,this._directionality=m,this._location=_,this._outsideClickDispatcher=w,this._animationsModuleType=x}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new r5(t);return o.direction=o.direction||this._directionality.value,new Cre(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ire++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new Yne(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yre),a.LFG(o5),a.LFG(a._Vd),a.LFG(Tre),a.LFG(vre),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(j),a.LFG(Po),a.LFG(Re),a.LFG(wre),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sre=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],d5=new a.OlP("cdk-connected-overlay-scroll-strategy");let PF=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),h5=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=oi(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=oi(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=oi(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=oi(t)}get push(){return this._push}set push(t){this._push=oi(t)}constructor(t,i,r,s,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rr.w0.EMPTY,this._attachSubscription=Rr.w0.EMPTY,this._detachSubscription=Rr.w0.EMPTY,this._positionSubscription=Rr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new zA(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Sre);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Oh(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new r5({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof PF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(aS(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(PE),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(d5),a.Y36(Po,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[a.TTD]}),n})();const Mre={provide:d5,deps:[PE],useFactory:function Are(n){return()=>n.scrollStrategies.reposition()}};let f5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[PE,Mre],imports:[vE,DF,MF,MF]}),n})();const kre=["mat-button",""],Rre=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Pre=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Nre=["mat-icon-button",""],Fre=["*"],Lre=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Vre=_6(AA(sF(class{constructor(n){this._elementRef=n}})));let p5=(()=>{class n extends Vre{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,a.f3M)(c6),this._isFab=!1;const o=t.nativeElement.classList;for(const l of Lre)this._hasHostAttributes(l.selector)&&l.mdcClasses.forEach(d=>{o.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(z_,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},features:[a.qOj]}),n})(),m5=(()=>{class n extends p5{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36($r),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:kre,ngContentSelectors:Pre,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(a.F$t(Rre),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[z_],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Hre=(()=>{class n extends p5{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36($r),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:Nre,ngContentSelectors:Fre,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(a.F$t(),a._UZ(0,"span",0),a.Hsn(1),a._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(a.xp6(3),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[z_],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uo,MA,uo]}),n})();const zre=["matFormFieldNotchedOutline",""],jre=["*"],Gre=["textField"],$re=["iconPrefixContainer"],Wre=["textPrefixContainer"];function qre(n,e){1&n&&a._UZ(0,"span",19)}function Yre(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",17),a.NdJ("cdkObserveContent",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r._refreshOutlineNotchWidth())}),a.Hsn(1,1),a.YNc(2,qre,1,0,"span",18),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Zre(n,e){if(1&n&&a.YNc(0,Yre,3,6,"label",16),2&n){const t=a.oxw();a.Q6J("ngIf",t._hasFloatingLabel())}}function Kre(n,e){1&n&&a._UZ(0,"div",20)}function Qre(n,e){}function Xre(n,e){if(1&n&&a.YNc(0,Qre,0,0,"ng-template",22),2&n){a.oxw(2);const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function Jre(n,e){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,Xre,1,1,"ng-template",9),a.qZA()),2&n){const t=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),a.xp6(1),a.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function ese(n,e){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function tse(n,e){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function nse(n,e){}function ise(n,e){if(1&n&&a.YNc(0,nse,0,0,"ng-template",22),2&n){a.oxw();const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function rse(n,e){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function sse(n,e){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function ose(n,e){1&n&&a._UZ(0,"div",29)}function ase(n,e){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function lse(n,e){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function cse(n,e){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,lse,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const use=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dse=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})();const hse=new a.OlP("MatError");let fse=0,_5=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+fse++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(a.Ikx("id",i.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const pse=new a.OlP("MatPrefix"),mse=new a.OlP("MatSuffix");let y5=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function gse(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const b5="mdc-line-ripple--active",YA="mdc-line-ripple--deactivating";let v5=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(YA);"opacity"===r.propertyName&&o&&s.remove(b5,YA)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(YA),t.add(b5)}deactivate(){this._elementRef.nativeElement.classList.add(YA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),w5=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:zre,ngContentSelectors:jre,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&t&&(a.xp6(1),a.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const _se={transitionMessages:Sv("transitionMessages",[Y_("enter",ks({opacity:1,transform:"translateY(0%)"})),Qc("void => enter",[ks({opacity:0,transform:"translateY(-5px)"}),id("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let NF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const ZA=new a.OlP("MatFormField"),yse=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let C5=0,wse=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=oi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,o,l,d,f){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=l,this._animationMode=d,this._document=f,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+C5++,this._hintLabelId="mat-mdc-hint-"+C5++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new zt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=Boolean(l?.hideRequiredMarker),l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(wr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Hs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(wr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(wr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Po),a.Y36($r),a.Y36(yse,8),a.Y36(a.QbO,8),a.Y36(j))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,OF,5),a.Suo(r,OF,7),a.Suo(r,NF,5),a.Suo(r,pse,5),a.Suo(r,mse,5),a.Suo(r,hse,5),a.Suo(r,_5,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._formFieldControl=s.first),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(Gre,5),a.Gf($re,5),a.Gf(Wre,5),a.Gf(y5,5),a.Gf(w5,5),a.Gf(v5,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._textField=r.first),a.iGM(r=a.CRH())&&(i._iconPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._textPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._floatingLabel=r.first),a.iGM(r=a.CRH())&&(i._notchedOutline=r.first),a.iGM(r=a.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&a.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:ZA,useExisting:n}])],ngContentSelectors:dse,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(a.F$t(use),a.YNc(0,Zre,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(4,Kre,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,Jre,2,3,"div",5),a.YNc(7,ese,3,0,"div",6),a.YNc(8,tse,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,ise,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,rse,2,0,"div",10),a.YNc(13,sse,2,0,"div",11),a.qZA(),a.YNc(14,ose,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,ase,2,1,"div",14),a.YNc(17,cse,5,2,"div",15),a.qZA()),2&t&&(a.xp6(2),a.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),a.xp6(2),a.Q6J("ngIf",i._hasOutline()),a.xp6(1),a.Q6J("ngIf",i._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",i._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",i._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",i._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!i._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[at,gr,mr,no,Xj,_5,y5,w5,v5],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[_se.transitionMessages]},changeDetection:0}),n})(),KA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uo,ro,iF,uo]}),n})();const D5=vv({passive:!0});let Cse=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Vr.E;const i=Nh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new zt.x,o="cdk-text-field-autofilled",l=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",l,D5),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",l,D5)}}),s}stopMonitoring(t){const i=Nh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($r),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ese=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const T5=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),xse=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Dse=0;const Tse=y6(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new zt.x}});let Ise=(()=>{class n extends Tse{get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ui.required)??!1}set required(t){this._required=oi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&qj().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=oi(t)}constructor(t,i,r,s,o,l,d,f,m,_){super(l,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=f,this._formField=_,this._uid="mat-input-"+Dse++,this.focused=!1,this.stateChanges=new zt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(M=>qj().has(M)),this._iOSKeyupListener=M=>{const k=M.target;!k.value&&0===k.selectionStart&&0===k.selectionEnd&&(k.setSelectionRange(1,1),k.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,x=w.nodeName.toLowerCase();this._inputValueAccessor=d||w,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&m.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===x,this._isTextarea="textarea"===x,this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xse.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36($r),a.Y36(td,10),a.Y36(W_,8),a.Y36(rm,8),a.Y36(b6),a.Y36(T5,10),a.Y36(Cse),a.Y36(a.R0b),a.Y36(ZA,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),a.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),a.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:NF,useExisting:n}]),a.qOj,a.TTD]}),n})(),Sse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uo,KA,KA,Ese,uo]}),n})();const Ase=["mat-calendar-body",""];function Mse(n,e){if(1&n&&(a.TgZ(0,"tr",3)(1,"td",4),a._uU(2),a.qZA()()),2&n){const t=a.oxw();a.xp6(1),a.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),a.uIk("colspan",t.numCols),a.xp6(1),a.hij(" ",t.label," ")}}function kse(n,e){if(1&n&&(a.TgZ(0,"td",4),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),a.uIk("colspan",t._firstRowOffset),a.xp6(1),a.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Rse(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",8)(1,"button",9),a.NdJ("click",function(r){const o=a.CHM(t).$implicit,l=a.oxw(2);return a.KtG(l._cellClicked(o,r))})("focus",function(r){const o=a.CHM(t).$implicit,l=a.oxw(2);return a.KtG(l._emitActiveDateChange(o,r))}),a.TgZ(2,"span",10),a._uU(3),a.qZA(),a._UZ(4,"span",11),a.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw().index,s=a.oxw();a.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),a.uIk("data-mat-row",r)("data-mat-col",i),a.xp6(1),a.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),a.Q6J("ngClass",t.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),a.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null)("aria-describedby",s._getDescribedby(t.compareValue)),a.xp6(1),a.ekj("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),a.xp6(1),a.hij(" ",t.displayValue," ")}}function Pse(n,e){if(1&n&&(a.TgZ(0,"tr",5),a.YNc(1,kse,2,6,"td",6),a.YNc(2,Rse,5,48,"td",7),a.qZA()),2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.xp6(1),a.Q6J("ngIf",0===i&&r._firstRowOffset),a.xp6(1),a.Q6J("ngForOf",t)}}function Ose(n,e){if(1&n&&(a.TgZ(0,"th",5)(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a._uU(4),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.long),a.xp6(2),a.Oqu(t.narrow)}}const Nse=["*"];function Fse(n,e){}function Lse(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-month-view",5),a.NdJ("activeDateChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.activeDate=r)})("_userSelection",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._dateSelected(r))})("dragStarted",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._dragStarted(r))})("dragEnded",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._dragEnded(r))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function Vse(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-year-view",6),a.NdJ("activeDateChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.activeDate=r)})("monthSelected",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._goToDateInView(r,"month"))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Bse(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-multi-year-view",7),a.NdJ("activeDateChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s.activeDate=r)})("yearSelected",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._goToDateInView(r,"year"))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}let FF=(()=>{class n{constructor(){this.changes=new zt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LF{constructor(e,t,i,r,s={},o=e,l){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=l}}let Use=1,Av=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=(0,a.f3M)($r),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new a.vpe,this.previewChange=new a.vpe,this.activeDateChange=new a.vpe,this.dragStarted=new a.vpe,this.dragEnded=new a.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=I5(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),BF(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=BF(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=I5(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+Use++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("touchmove",this._touchmoveHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0),r.addEventListener("mousedown",this._mousedownHandler),r.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:r,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("touchmove",this._touchmoveHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let r=t*this.numCols+i;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(si(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return UF(t,this.startValue,this.endValue)}_isRangeEnd(t){return HF(t,this.startValue,this.endValue)}_isInRange(t){return zF(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return UF(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][r-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][r+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return HF(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return zF(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return UF(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return HF(t,this.previewStart,this.previewEnd)}_isInPreview(t){return zF(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const i=BF(t);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[a.TTD],attrs:Ase,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(a.YNc(0,Mse,3,6,"tr",0),a.YNc(1,Pse,3,2,"tr",1),a.TgZ(2,"label",2),a._uU(3),a.qZA(),a.TgZ(4,"label",2),a._uU(5),a.qZA()),2&t&&(a.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),a.xp6(1),a.Q6J("ngForOf",i.rows),a.xp6(1),a.Q6J("id",i._startDateLabelId),a.xp6(1),a.hij(" ",i.startDateAccessibleName,"\n"),a.xp6(1),a.Q6J("id",i._endDateLabelId),a.xp6(1),a.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[V,Ot,at],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function VF(n){return"TD"===n?.nodeName}function BF(n){let e;return VF(n)?e=n:VF(n.parentNode)?e=n.parentNode:VF(n.parentNode?.parentNode)&&(e=n.parentNode.parentNode),null!=e?.getAttribute("data-mat-row")?e:null}function UF(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function HF(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function zF(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}function I5(n){const e=n.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}class Oa{constructor(e,t){this.start=e,this.end=t}}let Mv=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new zt.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Hse=(()=>{class n extends Mv{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Oo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Gse={provide:Mv,deps:[[new a.FiY,new a.tp0,Mv],Oo],useFactory:function jse(n,e){return n||new Hse(e)}},jF=new a.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let S5=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Oa?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,s,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Rr.w0.EMPTY,this.activeDrag=null,this.selectedChange=new a.vpe,this._userSelection=new a.vpe,this.dragStarted=new a.vpe,this.dragEnded=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ka(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,r=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Oa?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!Oh(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,t);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,t);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,l)=>({long:o,narrow:i[l]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<t;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),l=this._shouldEnableDate(o),d=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new LF(r+1,i[r],d,l,f,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Oa?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(H_,8),a.Y36(Oo,8),a.Y36(Po,8),a.Y36(jF,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&a.Gf(Av,5),2&t){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[a.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a.YNc(3,Ose,5,2,"th",2),a.qZA(),a.TgZ(4,"tr"),a._UZ(5,"th",3),a.qZA()(),a.TgZ(6,"tbody",4),a.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngForOf",i._weekdays),a.xp6(3),a.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[Ot,Av],encapsulation:2,changeDetection:0}),n})();const pl=24;let A5=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),M5(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Oa?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Rr.w0.EMPTY,this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ka(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-OE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<pl;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-OE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,pl-OE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-pl:-pl);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*pl:pl);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return OE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new LF(t,r,r,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Oa){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(Oo,8),a.Y36(Po,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&a.Gf(Av,5),2&t){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Av],encapsulation:2,changeDetection:0}),n})();function M5(n,e,t,i,r){const s=n.getYear(e),o=n.getYear(t),l=k5(n,i,r);return Math.floor((s-l)/pl)===Math.floor((o-l)/pl)}function OE(n,e,t,i){return function Yse(n,e){return(n%e+e)%e}(n.getYear(e)-k5(n,t,i),pl)}function k5(n,e,t){let i=0;return t?i=n.getYear(t)-pl+1:e&&(i=n.getYear(e)),i}let R5=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Oa?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Rr.w0.EMPTY,this.selectedChange=new a.vpe,this.monthSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ka(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(t,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new LF(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Oa?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(H_,8),a.Y36(Oo,8),a.Y36(Po,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&a.Gf(Av,5),2&t){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&t&&(a.xp6(4),a.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Av],encapsulation:2,changeDetection:0}),n})(),Zse=1,Kse=(()=>{class n{constructor(t,i,r,s,o){this._intl=t,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+Zse++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-pl)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:pl)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):M5(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-OE(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+pl-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(FF),a.Y36((0,a.Gpc)(()=>P5)),a.Y36(Oo,8),a.Y36(H_,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Nse,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.currentPeriodClicked()}),a.TgZ(3,"span",3),a._uU(4),a.qZA(),a.O4$(),a.TgZ(5,"svg",4),a._UZ(6,"polygon",5),a.qZA()(),a.kcU(),a._UZ(7,"div",6),a.Hsn(8),a.TgZ(9,"button",7),a.NdJ("click",function(){return i.previousClicked()}),a.qZA(),a.TgZ(10,"button",8),a.NdJ("click",function(){return i.nextClicked()}),a.qZA()()(),a.TgZ(11,"label",9),a._uU(12),a.qZA()),2&t&&(a.xp6(2),a.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),a.xp6(2),a.Oqu(i.periodButtonText),a.xp6(1),a.ekj("mat-calendar-invert","month"!==i.calendar.currentView),a.xp6(4),a.Q6J("disabled",!i.previousEnabled()),a.uIk("aria-label",i.prevButtonLabel),a.xp6(1),a.Q6J("disabled",!i.nextEnabled()),a.uIk("aria-label",i.nextButtonLabel),a.xp6(1),a.Q6J("id",i._periodButtonLabelId),a.xp6(1),a.Oqu(i.periodButtonDescription))},dependencies:[m5,Hre],encapsulation:2,changeDetection:0}),n})(),P5=(()=>{class n{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof Oa?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this._userSelection=new a.vpe,this._userDragDrop=new a.vpe,this._activeDrag=null,this.stateChanges=new zt.x,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new R4(this.headerComponent||Kse),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,r=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,s=i||r||t.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof Oa||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(FF),a.Y36(Oo,8),a.Y36(H_,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(a.Gf(S5,5),a.Gf(R5,5),a.Gf(A5,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.monthView=r.first),a.iGM(r=a.CRH())&&(i.yearView=r.first),a.iGM(r=a.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[a._Bn([Gse]),a.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(a.YNc(0,Fse,0,0,"ng-template",0),a.TgZ(1,"div",1),a.YNc(2,Lse,1,11,"mat-month-view",2),a.YNc(3,Vse,1,6,"mat-year-view",3),a.YNc(4,Bse,1,6,"mat-multi-year-view",4),a.qZA()),2&t&&(a.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),a.xp6(1),a.Q6J("ngSwitch",i.currentView),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngSwitchCase","multi-year"))},dependencies:[mr,no,u6,jA,S5,R5,A5],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const Jse={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[PE],useFactory:function Xse(n){return()=>n.scrollStrategies.reposition()}};let ooe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[FF,Jse],imports:[ro,g5,f5,p6,DF,uo,qA]}),n})();function qF(n){return n&&"function"==typeof n.connect&&!(n instanceof Ob)}class F5{applyChanges(e,t,i,r,s){e.forEachOperation((o,l,d)=>{let f,m;if(null==o.previousIndex){const _=i(o,l,d);f=t.createEmbeddedView(_.templateRef,_.context,_.index),m=1}else null==d?(t.remove(l),m=3):(f=t.get(l),t.move(f,d),m=2);s&&s({context:f?.context,operation:m,record:o})})}detach(){}}class aoe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new zt.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const NE=new a.OlP("_ViewRepeater"),loe=["trigger"],coe=["panel"];function uoe(n,e){if(1&n&&(a.TgZ(0,"span",10),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.placeholder)}}function doe(n,e){if(1&n&&(a.TgZ(0,"span",14),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t.triggerValue)}}function hoe(n,e){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function foe(n,e){if(1&n&&(a.TgZ(0,"span",11),a.YNc(1,doe,2,1,"span",12),a.YNc(2,hoe,1,0,"ng-content",13),a.qZA()),2&n){const t=a.oxw();a.Q6J("ngSwitch",!!t.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function poe(n,e){if(1&n){const t=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"div",15,16),a.NdJ("@transformPanel.done",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._handleKeydown(r))}),a.Hsn(2,1),a.qZA()}if(2&n){const t=a.oxw();a.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),a.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),a.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const moe=[[["mat-select-trigger"]],"*"],goe=["mat-select-trigger","*"],_oe={transformPanelWrap:Sv("transformPanelWrap",[Qc("* => void",aie("@transformPanel",[oie()],{optional:!0}))]),transformPanel:Sv("transformPanel",[Y_("void",ks({opacity:0,transform:"scale(1, 0.8)"})),Qc("void => showing",id("120ms cubic-bezier(0, 0, 0.2, 1)",ks({opacity:1,transform:"scale(1, 1)"}))),Qc("* => void",id("100ms linear",ks({opacity:0})))])};let V5=0;const B5=new a.OlP("mat-select-scroll-strategy"),boe=new a.OlP("MAT_SELECT_CONFIG"),voe={provide:B5,deps:[PE],useFactory:function yoe(n){return()=>n.scrollStrategies.reposition()}},woe=new a.OlP("MatSelectTrigger");class Coe{constructor(e,t){this.source=e,this.value=t}}const Eoe=sF(Ite(AA(y6(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new zt.x}}))));let xoe=(()=>{class n extends Eoe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ui.required)??!1}set required(t){this._required=oi(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=oi(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=oi(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Cv(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,s,o,l,d,f,m,_,w,x,M,k){super(o,s,d,f,_),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=l,this._parentFormField=m,this._liveAnnouncer=M,this._defaultOptions=k,this._panelOpen=!1,this._compareWith=(R,$)=>R===$,this._uid="mat-select-"+V5++,this._triggerAriaLabelledBy=null,this._destroy=new zt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+V5++,this._panelDoneAnimatingStream=new zt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Hp(()=>{const R=this.options;return R?R.changes.pipe(ka(R),ii(()=>(0,Hs.T)(...R.map($=>$.onSelectionChange)))):this._ngZone.onStable.pipe(si(1),ii(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(li(R=>R),(0,Ht.U)(()=>{})),this._closedStream=this.openedChange.pipe(li(R=>!R),(0,Ht.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=k?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=k.typeaheadDebounceInterval),this._scrollStrategyFactory=x,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}ngOnInit(){this._selectionModel=new aoe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(tF(),wr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(wr(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ka(null),wr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Oh(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;o.onKeydown(t);const d=this.selected;d&&l!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Oh(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const l=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(l?d.select():d.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(si(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new Jee(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Hs.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(wr(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Hs.T)(...this.options.map(i=>i._stateChanges)).pipe(wr(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(sm),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(b6),a.Y36(a.SBq),a.Y36(Po,8),a.Y36(W_,8),a.Y36(rm,8),a.Y36(ZA,8),a.Y36(td,10),a.$8M("tabindex"),a.Y36(B5),a.Y36(fte),a.Y36(boe,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&(a.Gf(loe,5),a.Gf(coe,5),a.Gf(h5,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.trigger=r.first),a.iGM(r=a.CRH())&&(i.panel=r.first),a.iGM(r=a.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),Doe=(()=>{class n extends xoe{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(wr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,s=function $te(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===t&&1===s?0:function Wte(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Coe(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof PF?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=oi(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,woe,5),a.Suo(r,I6,5),a.Suo(r,T6,5)),2&t){let s;a.iGM(s=a.CRH())&&(i.customTrigger=s.first),a.iGM(s=a.CRH())&&(i.options=s),a.iGM(s=a.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&a.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[a._Bn([{provide:NF,useExisting:n},{provide:D6,useExisting:n}]),a.qOj],ngContentSelectors:goe,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(a.F$t(moe),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,uoe,2,1,"span",3),a.YNc(5,foe,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5)(7,"div",6),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"path",8),a.qZA()()()(),a.YNc(10,poe,3,9,"ng-template",9),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(5),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[V,mr,no,Gi,h5,PF],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[_oe.transformPanel]},changeDetection:0}),n})(),Toe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[voe],imports:[ro,f5,S6,uo,qA,KA,S6,uo]}),n})();const Soe=[[["caption"]],[["colgroup"],["col"]]],Aoe=["caption","colgroup, col"];function YF(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=oi(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const kv=new a.OlP("CDK_TABLE");let Rv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Pv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),XA=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Poe{}const Ooe=YF(Poe);let Bh=(()=>{class n extends Ooe{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=oi(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(kv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,Rv,5),a.Suo(r,Pv,5),a.Suo(r,XA,5)),2&t){let s;a.iGM(s=a.CRH())&&(i.cell=s.first),a.iGM(s=a.CRH())&&(i.headerCell=s.first),a.iGM(s=a.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class ZF{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let KF=(()=>{class n extends ZF{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bh),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),QF=(()=>{class n extends ZF{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bh),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class H5{constructor(){this.tasks=[],this.endTasks=[]}}const XF=new a.OlP("_COALESCED_STYLE_SCHEDULER");let z5=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new zt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new H5,this._getScheduleObservable().pipe(wr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new H5;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,fi.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(si(1))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),JF=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof FE?t.headerCell.template:this instanceof LE?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class Noe extends JF{}const Foe=YF(Noe);let FE=(()=>{class n extends Foe{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(kv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class Loe extends JF{}const Voe=YF(Loe);let LE=(()=>{class n extends Voe{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(kv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),JA=(()=>{class n extends JF{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(kv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),Uh=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},dependencies:[Uh],encapsulation:2}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},dependencies:[Uh],encapsulation:2}),n})(),eM=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const j5=["top","bottom","left","right"];class Boe{constructor(e,t,i,r,s=!0,o=!0,l){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(w=>w)&&!i.some(w=>w))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,l=this._getCellWidths(s,r),d=this._getStickyStartColumnPositions(l,t),f=this._getStickyEndColumnPositions(l,i),m=t.lastIndexOf(!0),_=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const w="rtl"===this.direction,x=w?"right":"left",M=w?"left":"right";for(const k of e)for(let R=0;R<o;R++){const $=k.children[R];t[R]&&this._addStickyStyle($,x,d[R],R===m),i[R]&&this._addStickyStyle($,M,f[R],R===_)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===m?[]:l.slice(0,m+1).map((k,R)=>t[R]?k:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===_?[]:l.slice(_).map((k,R)=>i[R+_]?k:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,o=[],l=[],d=[];for(let m=0,_=0;m<r.length;m++){if(!s[m])continue;o[m]=_;const w=r[m];d[m]=this._isNativeHtmlTable?Array.from(w.children):[w];const x=w.getBoundingClientRect().height;_+=x,l[m]=x}const f=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let m=0;m<r.length;m++){if(!s[m])continue;const _=o[m],w=m===f;for(const x of d[m])this._addStickyStyle(x,i,_,w)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:o,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:o,elements:d})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);j5.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of j5)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const iL=new a.OlP("CDK_SPL");let tM=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),nM=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),iM=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),rM=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),sM=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=oi(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=oi(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,s,o,l,d,f,m,_,w,x){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=d,this._viewRepeater=f,this._coalescedStyleScheduler=m,this._viewportRuler=_,this._stickyPositioningListener=w,this._ngZone=x,this._onDestroy=new zt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new mi({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(wr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),qF(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe(si(1),wr(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===s&&o.push(i[l]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<o.length;l++){let d=o[l];const f=this._cachedRenderRowsMap.get(d.data);f.has(d.rowDef)?f.get(d.rowDef).push(d):f.set(d.rowDef,[d]),t.push(d)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(o=>{const l=r&&r.has(o)?r.get(o):[];if(l.length){const d=l.shift();return d.dataIndex=i,d}return{data:t,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),oM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=oM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=oM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=oM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,l)=>o||!!l.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],qF(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;qF(this.dataSource)?t=this.dataSource.connect(this):function Ioe(n){return!!n&&(n instanceof Di.y||(0,Br.m)(n.lift)&&(0,Br.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Tt(this.dataSource)),this._renderChangeSubscription=t.pipe(wr(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),o=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const o=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))Uh.mostRecentCellOutlet&&Uh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const o=t.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Boe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Tt()).pipe(wr(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(Po,8),a.Y36(j),a.Y36($r),a.Y36(NE),a.Y36(XF),a.Y36(sm),a.Y36(iL,12),a.Y36(a.R0b,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,eM,5),a.Suo(r,Bh,5),a.Suo(r,JA,5),a.Suo(r,FE,5),a.Suo(r,LE,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._noDataRow=s.first),a.iGM(s=a.CRH())&&(i._contentColumnDefs=s),a.iGM(s=a.CRH())&&(i._contentRowDefs=s),a.iGM(s=a.CRH())&&(i._contentHeaderRowDefs=s),a.iGM(s=a.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(tM,7),a.Gf(nM,7),a.Gf(iM,7),a.Gf(rM,7)),2&t){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:kv,useExisting:n},{provide:NE,useClass:F5},{provide:XF,useClass:z5},{provide:iL,useValue:null}])],ngContentSelectors:Aoe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(a.F$t(Soe),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[tM,nM,iM,rM],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function oM(n,e){return n.concat(Array.from(e))}let Hoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[MF]}),n})();const zoe=[[["caption"]],[["colgroup"],["col"]]],joe=["caption","colgroup, col"];let $5=(()=>{class n extends sM{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:sM,useExisting:n},{provide:kv,useExisting:n},{provide:XF,useClass:z5},{provide:NE,useClass:F5},{provide:iL,useValue:null}]),a.qOj],ngContentSelectors:joe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(a.F$t(zoe),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[tM,nM,iM,rM],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),rL=(()=>{class n extends Rv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:Rv,useExisting:n}]),a.qOj]}),n})(),sL=(()=>{class n extends Pv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:Pv,useExisting:n}]),a.qOj]}),n})(),oL=(()=>{class n extends Bh{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:Bh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),aL=(()=>{class n extends KF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[a.qOj]}),n})(),lL=(()=>{class n extends QF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[a.qOj]}),n})(),W5=(()=>{class n extends FE{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:FE,useExisting:n}]),a.qOj]}),n})(),q5=(()=>{class n extends JA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:JA,useExisting:n}]),a.qOj]}),n})(),Y5=(()=>{class n extends eL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:eL,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},dependencies:[Uh],encapsulation:2}),n})(),Z5=(()=>{class n extends nL{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[a._Bn([{provide:nL,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},dependencies:[Uh],encapsulation:2}),n})(),Joe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uo,Hoe,uo]}),n})();function tae(n,e){if(1&n&&(a.TgZ(0,"mat-option",21),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t),a.xp6(1),a.Oqu(t)}}function nae(n,e){if(1&n&&(a.TgZ(0,"mat-option",21),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t),a.xp6(1),a.hij("",t,":00")}}function iae(n,e){1&n&&(a.TgZ(0,"th",22),a._uU(1," Hora "),a.qZA())}function rae(n,e){if(1&n&&(a.TgZ(0,"td",23),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("ngClass",t.disponibilidad),a.xp6(1),a.hij(" ",t.hora,":00")}}function sae(n,e){1&n&&a._UZ(0,"th",22)}function oae(n,e){if(1&n&&(a.TgZ(0,"td",23),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("ngClass",t.disponibilidad),a.xp6(1),a.hij(" ","true"==t.disponibilidad?"Disponible":"Ocupado"," ")}}function aae(n,e){1&n&&a._UZ(0,"tr",24)}function lae(n,e){1&n&&a._UZ(0,"tr",25)}const cae=function(){return[1,2,3,4,5,6,7,8]};let uae=(()=>{class n{constructor(t,i){this.dateAdapter=t,this.database=i,this.registro={nombre:"",hora:0,visitantes:0,diaNum:0,dia:"",mes:"",a\u00f1o:0},this.selectedDate=new Date,this.selectedDate2=new Date,this.startAt=new Date,this.minDate=new Date,this.horasDisp=[],this.name="",this.selectedVisitors=0,this.selectedTime=0,this.valid=!0,this.reservaciones=[],this.reservacionesAux=[],this.tabla=[],this.displayedColumns=["hora","disponibilidad"],this.myDateFilter=r=>0!==r.getDay(),this.dateAdapter.setLocale("es-mx"),p_(Wu(this.database,"reservations/"),r=>{null!=r.val()&&(this.reservaciones=[],this.reservacionesAux=[],r.forEach(s=>{this.reservaciones.push(s.val()),this.reservacionesAux.push(s.key)})),this.calendarChangeT(this.selectedDate2)}),this.calendarChange(this.selectedDate)}resetTabla(){this.tabla=[];for(let t=0;t<15;t++)this.tabla[t]={hora:t+8,disponibilidad:"true"}}construirTabla(t){this.resetTabla();for(let i of this.reservaciones)i.diaNum===t.diaNum&&i.mes===t.mes&&i.a\u00f1o===t.a\u00f1o&&(this.tabla[this.tabla.findIndex(r=>r.hora===i.hora)].hora=i.hora,this.tabla[this.tabla.findIndex(r=>r.hora===i.hora)].disponibilidad="false")}horasLimite(){for(let t=8;t<23;t++)t>parseInt(dr(new Date,"H","es"))&&this.horasDisp.push(t)}calendarChange(t){this.selectedDate=t;var i=dr(new Date,"cccc d LLLL y","es").split(" "),r=dr(t,"cccc d LLLL y","es").split(" ");this.horasDisp=[],r[1]===i[1]&&r[2]===i[2]&&r[3]===i[3]?this.horasLimite():this.horasDisp=[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],this.registro.diaNum=r[1],this.registro.mes=r[2],this.registro.a\u00f1o=r[3],this.day=r[0]}calendarChangeT(t){this.selectedDate2=t;var i=dr(t,"cccc d LLLL y","es").split(" "),r={diaNum:i[1],mes:i[2],a\u00f1o:i[3]};this.tableHeader=i[0]+", "+i[1]+" de "+i[2]+" de "+i[3],this.construirTabla(r)}selectChange(){0!=this.selectedVisitors&&0!=this.selectedTime&&""!=this.name?this.valid=!1:(0==this.selectedVisitors||0==this.selectedTime&&""==this.name)&&(this.valid=!0)}registrarReservacion(){this.registro.nombre=this.name,this.registro.hora=this.selectedTime,this.registro.visitantes=this.selectedVisitors,this.name="",this.selectedVisitors=0,this.selectedTime=0,this.selectChange();const t=this.reservaciones.some(i=>i.diaNum===this.registro.diaNum&&i.mes===this.registro.mes&&i.a\u00f1o===this.registro.a\u00f1o&&i.hora===this.registro.hora);"domingo"===this.day?(Ys.set("notifier","position","top-center"),Ys.warning("Los domingos no hay servicio, Porfavor elija otra fecha")):t?(Ys.set("notifier","position","top-center"),Ys.error("Lo sentimos, una cita ya existe registrada.")):(JI(Wu(this.database,"reservations"),{nombre:this.registro.nombre,hora:this.registro.hora,visitantes:this.registro.visitantes,diaNum:this.registro.diaNum,dia:this.day,mes:this.registro.mes,a\u00f1o:this.registro.a\u00f1o}),Ys.set("notifier","position","top-center"),Ys.success("Reservacion realizada con exito"),this.calendarChangeT(this.selectedDate2))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Oo),a.Y36(bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-reservar"]],decls:49,vars:24,consts:[[1,"contenedor"],["label","Hacer Reservaci\xf3n"],[1,"contenedor1"],[1,"calendario"],[3,"selected","startAt","minDate","dateFilter","selectedChange"],[1,"datos"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["required","",3,"ngModel","ngModelChange","selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"cal_date"],["color","primary","mat-button","","matRipple","",1,"example-ripple-container","mat-elevation-z4",3,"disabled","click"],["label","Consultar Disponibilidad"],["mat-table","",1,"tabla","mat-elevation-z8",3,"dataSource"],["matColumnDef","hora"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","disponibilidad"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1)(3,"div",2)(4,"div",3)(5,"mat-calendar",4),a.NdJ("selectedChange",function(s){return i.calendarChange(s)}),a.qZA()(),a.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),a._uU(9,"A Nombre de"),a.qZA(),a.TgZ(10,"input",7),a.NdJ("ngModelChange",function(s){return i.name=s}),a.qZA()(),a.TgZ(11,"mat-form-field",6)(12,"mat-label"),a._uU(13,"Numero de Visitantes"),a.qZA(),a.TgZ(14,"mat-select",8),a.NdJ("ngModelChange",function(s){return i.selectedVisitors=s})("selectionChange",function(){return i.selectChange()}),a.TgZ(15,"mat-option",9),a._uU(16,"--Elija una Opcion--"),a.qZA(),a.YNc(17,tae,2,2,"mat-option",10),a.qZA()(),a.TgZ(18,"mat-form-field",6)(19,"mat-label"),a._uU(20,"Hora de Visita"),a.qZA(),a.TgZ(21,"mat-select",8),a.NdJ("ngModelChange",function(s){return i.selectedTime=s})("selectionChange",function(){return i.selectChange()}),a.TgZ(22,"mat-option",9),a._uU(23,"--Elija una Opcion--"),a.qZA(),a.YNc(24,nae,2,2,"mat-option",10),a.qZA()(),a.TgZ(25,"p",11),a._uU(26),a.qZA(),a.TgZ(27,"button",12),a.NdJ("click",function(){return i.registrarReservacion()}),a._uU(28,"Reservar Mesa"),a.qZA(),a.TgZ(29,"small"),a._uU(30,'Se recomienda consultar la pesta\xf1a "Consultar Disponibilidad" antes de hacer una reservaci\xf3n'),a.qZA()()()(),a.TgZ(31,"mat-tab",13)(32,"div",2)(33,"div",3)(34,"mat-calendar",4),a.NdJ("selectedChange",function(s){return i.calendarChangeT(s)}),a.qZA()(),a.TgZ(35,"div",5)(36,"h3"),a._uU(37,"Seleccione una fecha para ver las horas disponibles"),a.qZA(),a.TgZ(38,"h2"),a._uU(39),a.qZA(),a.TgZ(40,"table",14),a.ynx(41,15),a.YNc(42,iae,2,0,"th",16),a.YNc(43,rae,2,2,"td",17),a.BQk(),a.ynx(44,18),a.YNc(45,sae,1,0,"th",16),a.YNc(46,oae,2,2,"td",17),a.BQk(),a.YNc(47,aae,1,0,"tr",19),a.YNc(48,lae,1,0,"tr",20),a.qZA()()()()()()),2&t&&(a.xp6(5),a.Q6J("selected",i.selectedDate)("startAt",i.startAt)("minDate",i.minDate)("dateFilter",i.myDateFilter),a.xp6(5),a.Q6J("ngModel",i.name),a.xp6(4),a.Q6J("ngModel",i.selectedVisitors),a.xp6(3),a.Q6J("ngForOf",a.DdM(23,cae)),a.xp6(4),a.Q6J("ngModel",i.selectedTime),a.xp6(3),a.Q6J("ngForOf",i.horasDisp),a.xp6(2),a.xDo("Reservacion para ",i.selectedVisitors," personas el ",i.day,", ",i.registro.diaNum," ",i.registro.mes," a las ",i.selectedTime,":00"),a.xp6(1),a.Q6J("disabled",i.valid),a.xp6(7),a.Q6J("selected",i.selectedDate2)("startAt",i.startAt)("minDate",i.minDate)("dateFilter",i.myDateFilter),a.xp6(5),a.Oqu(i.tableHeader),a.xp6(1),a.Q6J("dataSource",i.tabla),a.xp6(7),a.Q6J("matHeaderRowDef",i.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[V,Ot,Fh,G_,Iv,Tv,Q4,hre,P5,wse,OF,Doe,I6,Ise,m5,z_,$5,sL,W5,oL,rL,q5,aL,lL,Y5,Z5],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-align:center}.contenedor1[_ngcontent-%COMP%]{display:flex;padding:2.5%;justify-content:space-around}.calendario[_ngcontent-%COMP%]{width:50%}mat-calendar[_ngcontent-%COMP%]{width:75%;background-color:gray;border:solid .2rem #c2185b}.datos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:95%}.datos[_ngcontent-%COMP%]{width:50%}.example-ripple-container[_ngcontent-%COMP%]{cursor:pointer;text-align:center;width:75%;height:100px;line-height:100px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:transparent;background-color:#212529}.true[_ngcontent-%COMP%]{border-color:green!important;border-bottom-width:1px!important;border-bottom-style:solid!important}.false[_ngcontent-%COMP%]{border-color:red!important;border-bottom-width:1px!important;border-bottom-style:solid!important}small[_ngcontent-%COMP%]{margin-top:.75rem}"]}),n})();var dae=F(3259);let hae=(()=>{class n{constructor(t){this.http=t}ngOnInit(){this.getRandomAnimeTitle()}getRandomAnimeTitle(){this.http.get("https://kitsu.io/api/edge/anime").subscribe(i=>{const r=i.data,s=Math.floor(Math.random()*r.length);this.generateQRCode(r[s].attributes.titles.en)})}generateQRCode(t){dae.hz(t,(i,r)=>{i?console.error(i):this.qrCodeData=r})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-qr"]],decls:8,vars:1,consts:[["alt","QR Code",3,"src"],[3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div"),a._UZ(1,"img",0)(2,"br")(3,"br"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"div")(6,"button",1),a.NdJ("click",function(){return i.getRandomAnimeTitle()}),a._uU(7,"Generate New QR Code"),a.qZA()()),2&t&&(a.xp6(1),a.Q6J("src",i.qrCodeData,a.LSH))}}),n})(),fae=(()=>{class n{constructor(t){this.domSanitizer=t}transform(t,i){return this.domSanitizer.bypassSecurityTrustResourceUrl(i+t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ec,16))},n.\u0275pipe=a.Yjl({name:"domseguro",type:n,pure:!0}),n})(),pae=(()=>{class n{constructor(){this.video1="feVYwPrlybw",this.video2="eaGh5e5Y4C4"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-noticias"]],decls:11,vars:8,consts:[[1,"contenedor"],[1,"videos"],["width","560","height","315","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Musica Destacada"),a.qZA(),a.TgZ(3,"p"),a._uU(4,"Escucha las canciones mas votadas de la semana"),a.qZA(),a.TgZ(5,"div",1),a._UZ(6,"iframe",2),a.ALo(7,"domseguro"),a._UZ(8,"iframe",2),a.ALo(9,"domseguro"),a.qZA(),a._UZ(10,"app-qr"),a.qZA()),2&t&&(a.xp6(6),a.Q6J("src",a.xi3(7,2,i.video1,"https://www.youtube.com/embed/"),a.uOi),a.xp6(2),a.Q6J("src",a.xi3(9,5,i.video2,"https://www.youtube.com/embed/"),a.uOi))},dependencies:[hae,fae],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-shadow:.1rem .2rem black;text-align:center}.videos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}iframe[_ngcontent-%COMP%]{margin:2.5% auto}"]}),n})(),K5=(()=>{class n{constructor(t){this.router=t,this.items=[],this.items=$j}regresarItem(t){for(let r of this.items)if(r.nombre.trim()===t)return r}buscando(t){for(let r of this.items)if(console.log(r.nombre+" "+t),r.nombre.toLowerCase().trim().includes(t))return this.router.navigate(["/busqueda/"+r.nombre.trim()]),!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ws))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mae(n,e){1&n&&(a.TgZ(0,"span",11),a._uU(1,"Disponible"),a.qZA())}function gae(n,e){1&n&&a._uU(0,"No disponible")}let _ae=(()=>{class n{constructor(t,i){this.rutaActiva=t,this.buscarService=i}ngDoCheck(){this.item=this.buscarService.regresarItem(this.rutaActiva.snapshot.params.item)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Gp),a.Y36(K5))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-busqueda"]],decls:17,vars:6,consts:[[1,"contenedor"],[1,"card","text-bg-dark"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card-footer","text-muted"],["class","disp",4,"ngIf","ngIfElse"],["class","noDisp"],["noDisponible",""],[1,"disp"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Resultado de la Busqueda"),a.qZA(),a.TgZ(3,"div",1),a._UZ(4,"img",2),a.TgZ(5,"div",3)(6,"h5",4),a._uU(7),a.qZA(),a.TgZ(8,"p",5)(9,"small",6),a._uU(10),a.qZA()(),a.TgZ(11,"p",5),a._uU(12),a.qZA()(),a.TgZ(13,"div",7),a.YNc(14,mae,2,0,"span",8),a.YNc(15,gae,1,0,"ng-template",9,10,a.W1O),a.qZA()()()),2&t){const r=a.MAs(16);a.xp6(4),a.Q6J("src",i.item.imagen,a.LSH),a.xp6(3),a.Oqu(i.item.nombre),a.xp6(3),a.Oqu(i.item.precio),a.xp6(2),a.Oqu(i.item.descripcion),a.xp6(2),a.Q6J("ngIf",i.item.disponible)("ngIfElse",r)}},dependencies:[at],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-shadow:.1rem .2rem black;text-align:center}.card[_ngcontent-%COMP%]{border:solid 2px #c2185b;width:50%;margin:auto}.disp[_ngcontent-%COMP%]{color:green}"]}),n})(),cL=(()=>{class n{setSuccessMessage(t){this.successMessage=t}clearSuccessMessage(){this.successMessage=null}constructor(t){this.afAuth=t,this.successMessage=null,this.user=null,this.afAuth.authState.subscribe(i=>{this.user=i})}signUp(t,i){var r=this;return(0,xt.Z)(function*(){try{const s=yield r.afAuth.createUserWithEmailAndPassword(t,i);r.user=s.user,console.log("Registro exitoso",r.user)}catch(s){console.log("Error al registrarse",s)}})()}signIn(t,i){var r=this;return(0,xt.Z)(function*(){try{const s=yield r.afAuth.signInWithEmailAndPassword(t,i);r.user=s.user,console.log("Inicio de sesi\xf3n exitoso",r.user)}catch(s){console.log("Error al iniciar sesi\xf3n",s)}})()}isLoggedIn(){return!!this.user}isAdmin(){return this.isLoggedIn()&&["admin@gmail.com","alex.flores6651@gmail.com"].includes(this.user?.email||"")}signOut(){var t=this;return(0,xt.Z)(function*(){try{yield t.afAuth.signOut(),t.user=null,console.log("Cierre de sesi\xf3n exitoso")}catch(i){console.log("Error al cerrar sesi\xf3n",i)}})()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yae(n,e){1&n&&(a.TgZ(0,"div",10),a._uU(1," Usuario o contrase\xf1a incorrectos. Por favor, int\xe9ntalo de nuevo. "),a.qZA())}function bae(n,e){if(1&n&&(a.TgZ(0,"div",10),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij(" ",t.errorMessage,"\n")}}let vae=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.email="",this.password="",this.passwordError=!1,this.loginError=!1,this.errorMessage=""}signIn(){this.authService.signIn(this.email,this.password).then(()=>{this.loginError=!1,this.authService.setSuccessMessage("Inicio de sesi\xf3n exitoso"),this.authService.isLoggedIn()?this.router.navigate(["/"]):(this.loginError=!0,this.errorMessage="Error al iniciar sesi\xf3n. Por favor, int\xe9ntalo de nuevo.")}).catch(t=>{console.log(t)})}logout(){this.authService.signOut()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cL),a.Y36(Ws))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:4,consts:[[1,"container"],[1,"card","bg-light","mt-5"],[1,"card-body"],[1,"card-title"],[3,"ngSubmit"],[1,"form-group"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Contrase\xf1a","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a._uU(4,"Iniciar sesi\xf3n"),a.qZA(),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return i.signIn()}),a.TgZ(6,"div",5)(7,"label"),a._uU(8,"Email:"),a.qZA(),a.TgZ(9,"input",6),a.NdJ("ngModelChange",function(s){return i.email=s}),a.qZA()(),a.TgZ(10,"div",5)(11,"label"),a._uU(12,"Contrase\xf1a:"),a.qZA(),a.TgZ(13,"input",7),a.NdJ("ngModelChange",function(s){return i.password=s}),a.qZA()(),a.TgZ(14,"button",8),a._uU(15,"Iniciar sesi\xf3n"),a.qZA(),a.YNc(16,yae,2,0,"div",9),a.qZA()()()(),a.YNc(17,bae,2,1,"div",9),a._UZ(18,"br")(19,"br")(20,"br")),2&t&&(a.xp6(9),a.Q6J("ngModel",i.email),a.xp6(4),a.Q6J("ngModel",i.password),a.xp6(3),a.Q6J("ngIf",i.loginError),a.xp6(1),a.Q6J("ngIf",i.loginError))},dependencies:[at,AE,Fh,G_,EE,Iv,Tv,W_],styles:[".container[_ngcontent-%COMP%]{max-width:400px}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 0 5px #0000001a}.card-body[_ngcontent-%COMP%]{padding:20px}.card-title[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.btn-primary[_ngcontent-%COMP%]{width:100%}"]}),n})();var It,wae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xc={},uL=uL||{},Cn=wae||self;function aM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function VE(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dL="closure_uid_"+(1e9*Math.random()>>>0),Eae=0;function xae(n,e,t){return n.call.apply(n.bind,arguments)}function Dae(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Fo(n,e,t){return(Fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xae:Dae).apply(null,arguments)}function lM(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[r].apply(i,o)}}function om(){this.s=this.s,this.o=this.o}om.prototype.s=!1,om.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Cae(n){Object.prototype.hasOwnProperty.call(n,dL)&&n[dL]||(n[dL]=++Eae)}(this)},om.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Q5=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hL(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function X5(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(aM(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Lo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Lo.prototype.h=function(){this.defaultPrevented=!0};var Iae=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Cn.addEventListener("test",()=>{},e),Cn.removeEventListener("test",()=>{},e)}catch{}return n}();function BE(n){return/^[\s\xa0]*$/.test(n)}function cM(){var n=Cn.navigator;return n&&(n=n.userAgent)?n:""}function rd(n){return-1!=cM().indexOf(n)}function fL(n){return fL[" "](n),n}fL[" "]=function(){};var mL,n,Aae=rd("Opera"),Ov=rd("Trident")||rd("MSIE"),J5=rd("Edge"),pL=J5||Ov,eG=rd("Gecko")&&!(-1!=cM().toLowerCase().indexOf("webkit")&&!rd("Edge"))&&!(rd("Trident")||rd("MSIE"))&&!rd("Edge"),Mae=-1!=cM().toLowerCase().indexOf("webkit")&&!rd("Edge");function tG(){var n=Cn.document;return n?n.documentMode:void 0}e:{var gL="",_L=(n=cM(),eG?/rv:([^\);]+)(\)|;)/.exec(n):J5?/Edge\/([\d\.]+)/.exec(n):Ov?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Mae?/WebKit\/(\S+)/.exec(n):Aae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_L&&(gL=_L?_L[1]:""),Ov){var yL=tG();if(null!=yL&&yL>parseFloat(gL)){mL=String(yL);break e}}mL=gL}var kae=Cn.document&&Ov&&(tG()||parseInt(mL,10))||void 0;function UE(n,e){if(Lo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eG){e:{try{fL(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Rae[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&UE.$.h.call(this)}}Zs(UE,Lo);var Rae={2:"touch",3:"pen",4:"mouse"};UE.prototype.h=function(){UE.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var HE="closure_listenable_"+(1e6*Math.random()|0),Pae=0;function Oae(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Pae,this.fa=this.ia=!1}function uM(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function vL(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function iG(n){const e={};for(const t in n)e[t]=n[t];return e}const rG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sG(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<rG.length;s++)t=rG[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function dM(n){this.src=n,this.g={},this.h=0}function wL(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=Q5(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(uM(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function CL(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}dM.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=CL(n,e,i,r);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Oae(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var EL="closure_lm_"+(1e6*Math.random()|0),xL={};function oG(n,e,t,i,r){if(i&&i.once)return lG(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oG(n,e[s],t,i,r);return null}return t=SL(t),n&&n[HE]?n.O(e,t,VE(i)?!!i.capture:!!i,r):aG(n,e,t,!1,i,r)}function aG(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=VE(r)?!!r.capture:!!r,l=TL(n);if(l||(n[EL]=l=new dM(n)),(t=l.add(e,t,i,o,s)).proxy)return t;if(i=function Fae(){const e=Lae;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Iae||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(uG(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function lG(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lG(n,e[s],t,i,r);return null}return t=SL(t),n&&n[HE]?n.P(e,t,VE(i)?!!i.capture:!!i,r):aG(n,e,t,!0,i,r)}function cG(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)cG(n,e[s],t,i,r);else i=VE(i)?!!i.capture:!!i,t=SL(t),n&&n[HE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=CL(s=n.g[e],t,i,r))&&(uM(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=TL(n))&&(e=n.g[e.toString()],n=-1,e&&(n=CL(e,t,i,r)),(t=-1<n?e[n]:null)&&DL(t))}function DL(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[HE])wL(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(uG(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=TL(e))?(wL(t,n),0==t.h&&(t.src=null,e[EL]=null)):uM(n)}}}function uG(n){return n in xL?xL[n]:xL[n]="on"+n}function Lae(n,e){if(n.fa)n=!0;else{e=new UE(e,this);var t=n.listener,i=n.la||n.src;n.ia&&DL(n),n=t.call(i,e)}return n}function TL(n){return(n=n[EL])instanceof dM?n:null}var IL="__closure_events_fn_"+(1e9*Math.random()>>>0);function SL(n){return"function"==typeof n?n:(n[IL]||(n[IL]=function(e){return n.handleEvent(e)}),n[IL])}function Ks(){om.call(this),this.i=new dM(this),this.S=this,this.J=null}function fo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Lo(e,n);else if(e instanceof Lo)e.target=e.target||n;else{var r=e;sG(e=new Lo(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=hM(o,i,!0,e)&&r}if(r=hM(o=e.g=n,i,!0,e)&&r,r=hM(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=hM(o=e.g=t[s],i,!1,e)&&r}function hM(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var l=o.listener,d=o.la||o.src;o.ia&&wL(n.i,o),r=!1!==l.call(d,i)&&r}}return r&&!i.defaultPrevented}Zs(Ks,om),Ks.prototype[HE]=!0,Ks.prototype.removeEventListener=function(n,e,t,i){cG(this,n,e,t,i)},Ks.prototype.N=function(){if(Ks.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)uM(t[i]);delete n.g[e],n.h--}}this.J=null},Ks.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ks.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var AL=Cn.JSON.stringify;function Bae(){var n=ML;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dG=new class Vae{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Hae,n=>n.reset());class Hae{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zae(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function jae(n){Cn.setTimeout(()=>{throw n},0)}let zE,jE=!1,ML=new class Uae{constructor(){this.h=this.g=null}add(e,t){const i=dG.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},hG=()=>{const n=Cn.Promise.resolve(void 0);zE=()=>{n.then(Gae)}};var Gae=()=>{for(var n;n=Bae();){try{n.h.call(n.g)}catch(t){jae(t)}var e=dG;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jE=!1};function fM(n,e){Ks.call(this),this.h=n||1,this.g=e||Cn,this.j=Fo(this.qb,this),this.l=Date.now()}function kL(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function RL(n,e,t){if("function"==typeof n)t&&(n=Fo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Cn.setTimeout(n,e||0)}function fG(n){n.g=RL(()=>{n.g=null,n.i&&(n.i=!1,fG(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zs(fM,Ks),(It=fM.prototype).ga=!1,It.T=null,It.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fo(this,"tick"),this.ga&&(kL(this),this.start()))}},It.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.N=function(){fM.$.N.call(this),kL(this),delete this.g};class $ae extends om{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fG(this)}N(){super.N(),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function GE(n){om.call(this),this.h=n,this.g={}}Zs(GE,om);var pG=[];function mG(n,e,t,i){Array.isArray(t)||(t&&(pG[0]=t.toString()),t=pG);for(var r=0;r<t.length;r++){var s=oG(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function gG(n){vL(n.g,function(e,t){this.g.hasOwnProperty(t)&&DL(e)},n),n.g={}}function pM(){this.g=!0}function Nv(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zae(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return AL(t)}catch{return e}}(n,t)+(i?" "+i:"")})}GE.prototype.N=function(){GE.$.N.call(this),gG(this)},GE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pM.prototype.Ea=function(){this.g=!1},pM.prototype.info=function(){};var K_={},_G=null;function mM(){return _G=_G||new Ks}function yG(n){Lo.call(this,K_.Ta,n)}function $E(n){const e=mM();fo(e,new yG(e))}function bG(n,e){Lo.call(this,K_.STAT_EVENT,n),this.stat=e}function ra(n){const e=mM();fo(e,new bG(e,n))}function vG(n,e){Lo.call(this,K_.Ua,n),this.size=e}function WE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Cn.setTimeout(function(){n()},e)}K_.Ta="serverreachability",Zs(yG,Lo),K_.STAT_EVENT="statevent",Zs(bG,Lo),K_.Ua="timingevent",Zs(vG,Lo);var gM={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wG={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PL(){}function EG(){}PL.prototype.h=null;var FL,qE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function OL(){Lo.call(this,"d")}function NL(){Lo.call(this,"c")}function _M(){}function YE(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new GE(this),this.P=Kae,this.V=new fM(n=pL?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xG}function xG(){this.i=null,this.g="",this.h=!1}Zs(OL,Lo),Zs(NL,Lo),Zs(_M,PL),_M.prototype.g=function(){return new XMLHttpRequest},_M.prototype.i=function(){return{}},FL=new _M;var Kae=45e3,LL={},yM={};function VL(n,e,t){n.L=1,n.v=CM(Hh(e)),n.s=t,n.S=!0,DG(n,null)}function DG(n,e){n.G=Date.now(),ZE(n),n.A=Hh(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),NG(t.i,"t",i),n.C=0,t=n.l.J,n.h=new xG,n.g=s$(n.l,t?e:null,!n.s),0<n.O&&(n.M=new $ae(Fo(n.Pa,n,n.g),n.O)),mG(n.U,n.g,"readystatechange",n.nb),e=n.I?iG(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),$E(),function Wae(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",l=s.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var m=f[0];f=f[1];var _=m.split("_");o=2<=_.length&&"type"==_[1]?o+(m+"=")+f+"&":o+(m+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function TG(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function IG(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Qae(n,t),r==yM){4==e&&(n.o=4,ra(14),i=!1),Nv(n.j,n.m,null,"[Incomplete Response]");break}if(r==LL){n.o=4,ra(15),Nv(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Nv(n.j,n.m,r,null),BL(n,r)}TG(n)&&r!=yM&&r!=LL&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ra(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),WL(e),e.M=!0,ra(11))):(Nv(n.j,n.m,t,"[Invalid Chunked Response]"),Q_(n),KE(n))}function Qae(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?yM:(t=Number(e.substring(t,i)),isNaN(t)?LL:(i+=1)+t>e.length?yM:(e=e.slice(i,i+t),n.C=i+t,e))}function ZE(n){n.Y=Date.now()+n.P,SG(n,n.P)}function SG(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=WE(Fo(n.lb,n),e)}function bM(n){n.B&&(Cn.clearTimeout(n.B),n.B=null)}function KE(n){0==n.l.H||n.J||t$(n.l,n)}function Q_(n){bM(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,kL(n.V),gG(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function BL(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||UL(t.i,n)))if(!n.K&&UL(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;SM(t),TM(t)}$L(t),ra(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=WE(Fo(t.ib,t),6e3));if(1>=VG(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else J_(t,11)}else if((n.K||t.g==n)&&SM(t),!BE(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(t.V=f[0],f=f[1],2==t.H)if("c"==f[0]){t.K=f[1],t.pa=f[2];const m=f[3];null!=m&&(t.ra=m,t.l.info("VER="+t.ra));const _=f[4];null!=_&&(t.Ga=_,t.l.info("SVER="+t.Ga));const w=f[5];null!=w&&"number"==typeof w&&0<w&&(t.L=i=1.5*w,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const x=n.g;if(x){const M=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var s=i.i;s.g||-1==M.indexOf("spdy")&&-1==M.indexOf("quic")&&-1==M.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(HL(s,s.h),s.h=null))}if(i.F){const k=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(i.Da=k,nr(i.I,i.F,k))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((i=t).wa=r$(i,i.J?i.pa:null,i.Y),o.K){BG(i.i,o);var l=o,d=i.L;d&&l.setTimeout(d),l.B&&(bM(l),ZE(l)),i.g=o}else JG(i);0<t.j.length&&IM(t)}else"stop"!=f[0]&&"close"!=f[0]||J_(t,7);else 3==t.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?J_(t,7):GL(t):"noop"!=f[0]&&t.h&&t.h.Aa(f),t.A=0)}$E()}catch{}}function AG(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(aM(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Jae(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(aM(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Xae(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(aM(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(It=YE.prototype).setTimeout=function(n){this.P=n},It.nb=function(n){n=n.target;const e=this.M;e&&3==sd(n)?e.l():this.Pa(n)},It.Pa=function(n){try{if(n==this.g)e:{const m=sd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>m)&&(3!=m||pL||this.g&&(this.h.h||this.g.ja()||qG(this.g)))){this.J||4!=m||7==e||$E(),bM(this);var t=this.g.da();this.ca=t;t:if(TG(this)){var i=qG(this.g);n="";var r=i.length,s=4==sd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Q_(this),KE(this);var o="";break t}this.h.i=new Cn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function qae(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,m,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!BE(l)){var f=l;break t}}f=null}if(!(t=f)){this.i=!1,this.o=3,ra(12),Q_(this),KE(this);break e}Nv(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,BL(this,t)}this.S?(IG(this,m,o),pL&&this.i&&3==m&&(mG(this.U,this.V,"tick",this.mb),this.V.start())):(Nv(this.j,this.m,o,null),BL(this,o)),4==m&&Q_(this),this.i&&!this.J&&(4==m?t$(this.l,this):(this.i=!1,ZE(this)))}else(function _le(n){const e={};n=(n.g&&2<=sd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(BE(n[i]))continue;var t=zae(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function Nae(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,ra(12)):(this.o=0,ra(13)),Q_(this),KE(this)}}}catch{}},It.mb=function(){if(this.g){var n=sd(this.g),e=this.g.ja();this.C<e.length&&(bM(this),IG(this,n,e),this.i&&4!=n&&ZE(this))}},It.cancel=function(){this.J=!0,Q_(this)},It.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Yae(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($E(),ra(17)),Q_(this),this.o=2,KE(this)):SG(this,this.Y-n)};var MG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X_(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof X_){this.h=n.h,vM(this,n.j),this.s=n.s,this.g=n.g,wM(this,n.m),this.l=n.l;var e=n.i,t=new JE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kG(this,t),this.o=n.o}else n&&(e=String(n).match(MG))?(this.h=!1,vM(this,e[1]||"",!0),this.s=QE(e[2]||""),this.g=QE(e[3]||"",!0),wM(this,e[4]),this.l=QE(e[5]||"",!0),kG(this,e[6]||"",!0),this.o=QE(e[7]||"")):(this.h=!1,this.i=new JE(null,this.h))}function Hh(n){return new X_(n)}function vM(n,e,t){n.j=t?QE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wM(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kG(n,e,t){e instanceof JE?(n.i=e,function ole(n,e){e&&!n.j&&(am(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(PG(this,i),NG(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=XE(e,rle)),n.i=new JE(e,n.h))}function nr(n,e,t){n.i.set(e,t)}function CM(n){return nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function QE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function XE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tle),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tle(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}X_.prototype.toString=function(){var n=[],e=this.j;e&&n.push(XE(e,RG,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(XE(e,RG,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(XE(t,"/"==t.charAt(0)?ile:nle,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",XE(t,sle)),n.join("")};var RG=/[#\/\?@]/g,nle=/[#\?:]/g,ile=/[#\?]/g,rle=/[#\?@]/g,sle=/#/g;function JE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function am(n){n.g||(n.g=new Map,n.h=0,n.i&&function ele(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PG(n,e){am(n),e=Fv(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function OG(n,e){return am(n),e=Fv(n,e),n.g.has(e)}function NG(n,e,t){PG(n,e),0<t.length&&(n.i=null,n.g.set(Fv(n,e),hL(t)),n.h+=t.length)}function Fv(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FG(n){this.l=n||lle,n=Cn.PerformanceNavigationTiming?0<(n=Cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Cn.g&&Cn.g.Ka&&Cn.g.Ka()&&Cn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=JE.prototype).add=function(n,e){am(this),this.i=null,n=Fv(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){am(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},It.ta=function(){am(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},It.Z=function(n){am(this);let e=[];if("string"==typeof n)OG(this,n)&&(e=e.concat(this.g.get(Fv(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},It.set=function(n,e){return am(this),this.i=null,OG(this,n=Fv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var lle=10;function LG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VG(n){return n.h?1:n.g?n.g.size:0}function UL(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function HL(n,e){n.g?n.g.add(e):n.h=e}function BG(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hL(n.i)}FG.prototype.cancel=function(){if(this.i=UG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var cle=class{stringify(n){return Cn.JSON.stringify(n,void 0)}parse(n){return Cn.JSON.parse(n,void 0)}};function ule(){this.g=new cle}function dle(n,e,t){const i=t||"";try{AG(n,function(r,s){let o=r;VE(r)&&(o=AL(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function EM(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ex(n){this.l=n.fc||null,this.j=n.ob||!1}function xM(n,e){Ks.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=zL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zs(ex,PL),ex.prototype.g=function(){return new xM(this.l,this.j)},ex.prototype.i=function(n){return function(){return n}}({}),Zs(xM,Ks);var zL=0;function HG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function tx(n){n.readyState=4,n.l=null,n.j=null,n.A=null,nx(n)}function nx(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=xM.prototype).open=function(n,e){if(this.readyState!=zL)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,nx(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tx(this)),this.readyState=zL},It.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,nx(this)),this.g&&(this.readyState=3,nx(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},It.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?tx(this):nx(this),3==this.readyState&&HG(this)}},It.Za=function(n){this.g&&(this.response=this.responseText=n,tx(this))},It.Ya=function(n){this.g&&(this.response=n,tx(this))},It.ka=function(){this.g&&tx(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xM.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fle=Cn.JSON.parse;function Wr(n){Ks.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zG,this.L=this.M=!1}Zs(Wr,Ks);var zG="",ple=/^https?$/i,mle=["POST","PUT"];function jG(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,GG(n),DM(n)}function GG(n){n.F||(n.F=!0,fo(n,"complete"),fo(n,"error"))}function $G(n){if(n.h&&typeof uL<"u"&&(!n.C[1]||4!=sd(n)||2!=n.da()))if(n.v&&4==sd(n))RL(n.La,0,n);else if(fo(n,"readystatechange"),4==sd(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===o){var r=String(n.I).match(MG)[1]||null;!r&&Cn.self&&Cn.self.location&&(r=Cn.self.location.protocol.slice(0,-1)),i=!ple.test(r?r.toLowerCase():"")}t=i}if(t)fo(n,"complete"),fo(n,"success");else{n.m=6;try{var s=2<sd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",GG(n)}}finally{DM(n)}}}function DM(n,e){if(n.g){WG(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fo(n,"ready");try{t.onreadystatechange=i}catch{}}}function WG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Cn.clearTimeout(n.A),n.A=null)}function sd(n){return n.g?n.g.readyState:0}function qG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case zG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function YG(n){let e="";return vL(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function jL(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=YG(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):nr(n,e,t))}function ix(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ZG(n){this.Ga=0,this.j=[],this.l=new pM,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ix("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ix("baseRetryDelayMs",5e3,n),this.hb=ix("retryDelaySeedMs",1e4,n),this.eb=ix("forwardChannelMaxRetries",2,n),this.xa=ix("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new FG(n&&n.concurrentRequestLimit),this.Ja=new ule,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function GL(n){if(KG(n),3==n.H){var e=n.W++,t=Hh(n.I);if(nr(t,"SID",n.K),nr(t,"RID",e),nr(t,"TYPE","terminate"),rx(n,t),(e=new YE(n,n.l,e)).L=2,e.v=CM(Hh(t)),t=!1,Cn.navigator&&Cn.navigator.sendBeacon)try{t=Cn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=s$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ZE(e)}i$(n)}function TM(n){n.g&&(WL(n),n.g.cancel(),n.g=null)}function KG(n){TM(n),n.u&&(Cn.clearTimeout(n.u),n.u=null),SM(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Cn.clearTimeout(n.m),n.m=null)}function IM(n){if(!LG(n.i)&&!n.m){n.m=!0;var e=n.Na;zE||hG(),jE||(zE(),jE=!0),ML.add(e,n),n.C=0}}function QG(n,e){var t;t=e?e.m:n.W++;const i=Hh(n.I);nr(i,"SID",n.K),nr(i,"RID",t),nr(i,"AID",n.V),rx(n,i),n.o&&n.s&&jL(i,n.o,n.s),t=new YE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=XG(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),HL(n.i,t),VL(t,i,e)}function rx(n,e){n.na&&vL(n.na,function(t,i){nr(e,i,t)}),n.h&&AG({},function(t,i){nr(e,i,t)})}function XG(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Fo(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let d=0;d<t;d++){let f=r[d].g;const m=r[d].map;if(f-=s,0>f)s=Math.max(0,r[d].g-100),l=!1;else try{dle(m,o,"req"+f+"_")}catch{i&&i(m)}}if(l){i=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function JG(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;zE||hG(),jE||(zE(),jE=!0),ML.add(e,n),n.A=0}}function $L(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=WE(Fo(n.Ma,n),n$(n,n.A)),n.A++,0))}function WL(n){null!=n.B&&(Cn.clearTimeout(n.B),n.B=null)}function e$(n){n.g=new YE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Hh(n.wa);nr(e,"RID","rpc"),nr(e,"SID",n.K),nr(e,"AID",n.V),nr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&nr(e,"TO",n.qa),nr(e,"TYPE","xmlhttp"),rx(n,e),n.o&&n.s&&jL(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=CM(Hh(e)),t.s=null,t.S=!0,DG(t,n)}function SM(n){null!=n.v&&(Cn.clearTimeout(n.v),n.v=null)}function t$(n,e){var t=null;if(n.g==e){SM(n),WL(n),n.g=null;var i=2}else{if(!UL(n.i,e))return;t=e.F,BG(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;fo(i=mM(),new vG(i,t)),IM(n)}else JG(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function yle(n,e){return!(VG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=WE(Fo(n.Na,n,e),n$(n,n.C)),n.C++,0)))}(n,e)||2==i&&$L(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:J_(n,5);break;case 4:J_(n,10);break;case 3:J_(n,6);break;default:J_(n,2)}}function n$(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function J_(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Fo(n.pb,n);t||(t=new X_("//www.google.com/images/cleardot.gif"),Cn.location&&"http"==Cn.location.protocol||vM(t,"https"),CM(t)),function hle(n,e){const t=new pM;if(Cn.Image){const i=new Image;i.onload=lM(EM,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lM(EM,t,i,"TestLoadImage: error",!1,e),i.onabort=lM(EM,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lM(EM,t,i,"TestLoadImage: timeout",!1,e),Cn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ra(2);n.H=0,n.h&&n.h.za(e),i$(n),KG(n)}function i$(n){if(n.H=0,n.ma=[],n.h){const e=UG(n.i);(0!=e.length||0!=n.j.length)&&(X5(n.ma,e),X5(n.ma,n.j),n.i.i.length=0,hL(n.j),n.j.length=0),n.h.ya()}}function r$(n,e,t){var i=t instanceof X_?Hh(t):new X_(t);if(""!=i.g)e&&(i.g=e+"."+i.g),wM(i,i.m);else{var r=Cn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new X_(null);i&&vM(s,i),e&&(s.g=e),r&&wM(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&nr(i,t,e),nr(i,"VER",n.ra),rx(n,i),i}function s$(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ha&&!n.va?new ex({ob:!0}):n.va)).Oa(n.J),e}function o$(){}function AM(){if(Ov&&!(10<=Number(kae)))throw Error("Environmental error: no available transport.")}function ml(n,e){Ks.call(this),this.g=new ZG(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!BE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!BE(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lv(this)}function a$(n){OL.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function l$(){NL.call(this),this.status=1}function Lv(n){this.g=n}function Jc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qL(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function yi(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(It=Wr.prototype).Oa=function(n){this.M=n},It.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():FL.g(),this.C=function CG(n){return n.h||(n.h=n.i())}(this.u?this.u:FL),this.g.onreadystatechange=Fo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void jG(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Cn.FormData&&n instanceof Cn.FormData,!(0<=Q5(mle,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WG(this),0<this.B&&((this.L=function gle(n){return Ov&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fo(this.ua,this)):this.A=RL(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){jG(this,s)}},It.ua=function(){typeof uL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fo(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fo(this,"complete"),fo(this,"abort"),DM(this))},It.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),DM(this,!0)),Wr.$.N.call(this)},It.La=function(){this.s||(this.G||this.v||this.l?$G(this):this.kb())},It.kb=function(){$G(this)},It.isActive=function(){return!!this.g},It.da=function(){try{return 2<sd(this)?this.g.status:-1}catch{return-1}},It.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fle(e)}},It.Ia=function(){return this.m},It.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=ZG.prototype).ra=8,It.H=1,It.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new YE(this,this.l,n);let s=this.s;if(this.U&&(s?(s=iG(s),sG(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=XG(this,r,e),nr(t=Hh(this.I),"RID",n),nr(t,"CVER",22),this.F&&nr(t,"X-HTTP-Session-Id",this.F),rx(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(YG(s)))+"&"+e:this.o&&jL(t,this.o,s)),HL(this.i,r),this.bb&&nr(t,"TYPE","init"),this.P?(nr(t,"$req",e),nr(t,"SID","null"),r.aa=!0,VL(r,t,null)):VL(r,t,e),this.H=2}}else 3==this.H&&(n?QG(this,n):0==this.j.length||LG(this.i)||QG(this))},It.Ma=function(){if(this.u=null,e$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=WE(Fo(this.jb,this),n)}},It.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ra(10),TM(this),e$(this))},It.ib=function(){null!=this.v&&(this.v=null,TM(this),$L(this),ra(19))},It.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ra(2)):(this.l.info("Failed to ping google.com"),ra(1))},It.isActive=function(){return!!this.h&&this.h.isActive(this)},(It=o$.prototype).Ba=function(){},It.Aa=function(){},It.za=function(){},It.ya=function(){},It.isActive=function(){return!0},It.Va=function(){},AM.prototype.g=function(n,e){return new ml(n,e)},Zs(ml,Ks),ml.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ra(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=r$(n,null,n.Y),IM(n)},ml.prototype.close=function(){GL(this.g)},ml.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=AL(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&IM(e)},ml.prototype.N=function(){this.g.h=null,delete this.j,GL(this.g),delete this.g,ml.$.N.call(this)},Zs(a$,OL),Zs(l$,NL),Zs(Lv,o$),Lv.prototype.Ba=function(){fo(this.g,"a")},Lv.prototype.Aa=function(n){fo(this.g,new a$(n))},Lv.prototype.za=function(n){fo(this.g,new l$)},Lv.prototype.ya=function(){fo(this.g,"b")},Zs(Jc,function ble(){this.blockSize=-1}),Jc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)qL(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){qL(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){qL(this,i),r=0;break}}this.h=r,this.i+=e},Jc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var vle={};function YL(n){return-128<=n&&128>n?function Sae(n,e){var t=vle;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new yi([0|e],0>e?-1:0)}):new yi([0|n],0>n?-1:0)}function od(n){if(isNaN(n)||!isFinite(n))return Vv;if(0>n)return po(od(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=ZL;return new yi(e,0)}var ZL=4294967296,Vv=YL(0),KL=YL(1),u$=YL(16777216);function zh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Jl(n){return-1==n.h}function po(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new yi(t,~n.h).add(KL)}function MM(n,e){return n.add(po(e))}function kM(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function sx(n,e){this.g=n,this.h=e}function RM(n,e){if(zh(e))throw Error("division by zero");if(zh(n))return new sx(Vv,Vv);if(Jl(n))return e=RM(po(n),e),new sx(po(e.g),po(e.h));if(Jl(e))return e=RM(n,po(e)),new sx(po(e.g),e.h);if(30<n.g.length){if(Jl(n)||Jl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=KL,i=e;0>=i.X(n);)t=d$(t),i=d$(i);var r=Bv(t,1),s=Bv(i,1);for(i=Bv(i,2),t=Bv(t,2);!zh(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(t),s=o),i=Bv(i,1),t=Bv(t,1)}return e=MM(n,r.R(e)),new sx(r,e)}for(r=Vv;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),o=(s=od(t)).R(e);Jl(o)||0<o.X(n);)o=(s=od(t-=i)).R(e);zh(s)&&(s=KL),r=r.add(s),n=MM(n,o)}return new sx(r,n)}function d$(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new yi(t,n.h)}function Bv(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new yi(r,n.h)}(It=yi.prototype).ea=function(){if(Jl(this))return-po(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:ZL+i)*e,e*=ZL}return n},It.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(zh(this))return"0";if(Jl(this))return"-"+po(this).toString(n);for(var e=od(Math.pow(n,6)),t=this,i="";;){var r=RM(t,e).g,s=((0<(t=MM(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(zh(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},It.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},It.X=function(n){return Jl(n=MM(this,n))?-1:zh(n)?0:1},It.abs=function(){return Jl(this)?po(this):this},It.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,t[r]=(o&=65535)<<16|(s&=65535)}return new yi(t,-2147483648&t[t.length-1]?-1:0)},It.R=function(n){if(zh(this)||zh(n))return Vv;if(Jl(this))return Jl(n)?po(this).R(po(n)):po(po(this).R(n));if(Jl(n))return po(this.R(po(n)));if(0>this.X(u$)&&0>n.X(u$))return od(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),l=n.D(r)>>>16,d=65535&n.D(r);t[2*i+2*r]+=o*d,kM(t,2*i+2*r),t[2*i+2*r+1]+=s*d,kM(t,2*i+2*r+1),t[2*i+2*r+1]+=o*l,kM(t,2*i+2*r+1),t[2*i+2*r+2]+=s*l,kM(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new yi(t,0)},It.gb=function(n){return RM(this,n).h},It.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new yi(t,this.h&n.h)},It.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new yi(t,this.h|n.h)},It.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new yi(t,this.h^n.h)},AM.prototype.createWebChannel=AM.prototype.g,ml.prototype.send=ml.prototype.u,ml.prototype.open=ml.prototype.m,ml.prototype.close=ml.prototype.close,gM.NO_ERROR=0,gM.TIMEOUT=8,gM.HTTP_ERROR=6,wG.COMPLETE="complete",EG.EventType=qE,qE.OPEN="a",qE.CLOSE="b",qE.ERROR="c",qE.MESSAGE="d",Ks.prototype.listen=Ks.prototype.O,Wr.prototype.listenOnce=Wr.prototype.P,Wr.prototype.getLastError=Wr.prototype.Sa,Wr.prototype.getLastErrorCode=Wr.prototype.Ia,Wr.prototype.getStatus=Wr.prototype.da,Wr.prototype.getResponseJson=Wr.prototype.Wa,Wr.prototype.getResponseText=Wr.prototype.ja,Wr.prototype.send=Wr.prototype.ha,Wr.prototype.setWithCredentials=Wr.prototype.Oa,Jc.prototype.digest=Jc.prototype.l,Jc.prototype.reset=Jc.prototype.reset,Jc.prototype.update=Jc.prototype.j,yi.prototype.add=yi.prototype.add,yi.prototype.multiply=yi.prototype.R,yi.prototype.modulo=yi.prototype.gb,yi.prototype.compare=yi.prototype.X,yi.prototype.toNumber=yi.prototype.ea,yi.prototype.toString=yi.prototype.toString,yi.prototype.getBits=yi.prototype.D,yi.fromNumber=od,yi.fromString=function c$(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return po(c$(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=od(Math.pow(e,8)),i=Vv,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),e);8>s?(s=od(Math.pow(e,s)),i=i.R(s).add(od(o))):i=(i=i.R(t)).add(od(o))}return i};var wle=Xc.createWebChannelTransport=function(){return new AM},Cle=Xc.getStatEventTarget=function(){return mM()},QL=Xc.ErrorCode=gM,Ele=Xc.EventType=wG,xle=Xc.Event=K_,h$=Xc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dle=Xc.FetchXmlHttpFactory=ex,PM=Xc.WebChannel=EG,Tle=Xc.XhrIo=Wr,Ile=Xc.Md5=Jc,Uv=Xc.Integer=yi;const f$="@firebase/firestore";class Qs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qs.UNAUTHENTICATED=new Qs(null),Qs.GOOGLE_CREDENTIALS=new Qs("google-credentials-uid"),Qs.FIRST_PARTY=new Qs("first-party-uid"),Qs.MOCK_USER=new Qs("mock-user");let Hv="9.22.2";const lm=new zs.Yd("@firebase/firestore");function XL(){return lm.logLevel}function lt(n,...e){if(lm.logLevel<=zs.in.DEBUG){const t=e.map(JL);lm.debug(`Firestore (${Hv}): ${n}`,...t)}}function fs(n,...e){if(lm.logLevel<=zs.in.ERROR){const t=e.map(JL);lm.error(`Firestore (${Hv}): ${n}`,...t)}}function eu(n,...e){if(lm.logLevel<=zs.in.WARN){const t=e.map(JL);lm.warn(`Firestore (${Hv}): ${n}`,...t)}}function JL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ft(n="Unexpected state"){const e=`FIRESTORE (${Hv}) INTERNAL ASSERTION FAILED: `+n;throw fs(e),new Error(e)}function $t(n,e){n||Ft()}function Et(n,e){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class p${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qs.UNAUTHENTICATED))}shutdown(){}}class Ale{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mle{constructor(e){this.t=e,this.currentUser=Qs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rs,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable((0,xt.Z)(function*(){yield f.promise,yield s(i.currentUser)}))},d=f=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t("string"==typeof i.accessToken),new p$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new Qs(e)}}class kle{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Qs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rle{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new kle(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ple{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,lt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t("string"==typeof t.token),this.T=t.token,new m$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ole(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class g${static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Ole(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function bn(n,e){return n<e?-1:n>e?1:0}function zv(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Pr(0,0))}static max(){return new qt(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ox{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ft(),void 0===i?i=e.length-t:i>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ox.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ox?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kn extends ox{construct(e,t,i){return new Kn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new it(Ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Kn(t)}static emptyPath(){return new Kn([])}}const Nle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends ox{construct(e,t,i){return new ps(e,t,i)}static isValidIdentifier(e){return Nle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ps(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new it(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const l=e[r];if("\\"===l){if(r+1===e.length)throw new it(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new it(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else"`"===l?(o=!o,r++):"."!==l||o?(i+=l,r++):(s(),r++)}if(s(),o)throw new it(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ps(t)}static emptyPath(){return new ps([])}}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Kn.fromString(e))}static fromName(e){return new Ct(Kn.fromString(e).popFirst(5))}static empty(){return new Ct(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Kn(e.slice()))}}function b$(n){return new gl(n.readTime,n.key,-1)}class gl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new gl(qt.min(),Ct.empty(),-1)}static max(){return new gl(qt.max(),Ct.empty(),-1)}}function t2(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ct.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}const v$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cm(n){return n2.apply(this,arguments)}function n2(){return n2=(0,xt.Z)(function*(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==v$)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),n2.apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,i)=>{t(e)})}static reject(e){return new Ae((t,i)=>{i(e)})}static waitFor(e){return new Ae((t,i)=>{let r=0,s=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&t()},d=>i(d))}),o=!0,s===r&&t()})}static or(e){let t=Ae.resolve(!1);for(const i of e)t=t.next(r=>r?Ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Ae((i,r)=>{const s=e.length,o=new Array(s);let l=0;for(let d=0;d<s;d++){const f=d;t(e[f]).next(m=>{o[f]=m,++l,l===s&&i(o)},m=>r(m))}})}static doWhile(e,t){return new Ae((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function um(n){return"IndexedDbTransactionError"===n.name}let _l=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function cx(n){return null==n}function ux(n){return 0===n&&1/n==-1/0}function A$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function M$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $i{constructor(e,t){this.comparator=e,this.root=t||mo.EMPTY}insert(e,t){return new $i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mo.BLACK,null,null))}remove(e){return new $i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new VM(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new VM(this.root,e,this.comparator,!1)}getReverseIterator(){return new VM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new VM(this.root,e,this.comparator,!0)}}class VM{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mo{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??mo.RED,this.left=r??mo.EMPTY,this.right=s??mo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new mo(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return mo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1,mo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(n,e,t,i,r){return this}insert(n,e,t){return new mo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ir{constructor(e){this.comparator=e,this.data=new $i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k$(this.data.getIterator())}getIteratorFrom(e){return new k$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ir(this.comparator);return t.data=e,t}}class k${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Na{constructor(e){this.fields=e,e.sort(ps.comparator)}static empty(){return new Na([])}unionWith(e){let t=new ir(ps.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Na(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zv(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class R$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new R$("Invalid base64 string: "+r):r}}(e);return new Ps(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Ps(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const ace=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hm(n){if($t(!!n),"string"==typeof n){let e=0;const t=ace.exec(n);if($t(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qr(n.seconds),nanos:qr(n.nanos)}}function qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jh(n){return"string"==typeof n?Ps.fromBase64String(n):Ps.fromUint8Array(n)}function BM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function UM(n){const e=n.mapValue.fields.__previous_value__;return BM(e)?UM(e):e}function dx(n){const e=hm(n.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}class lce{constructor(e,t,i,r,s,o,l,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=f}}class ny{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ny("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ny&&e.projectId===this.projectId&&e.database===this.database}}const fm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BM(n)?4:F$(n)?9007199254740991:10:Ft()}function ld(n,e){if(n===e)return!0;const t=pm(n);if(t!==pm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dx(n).isEqual(dx(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=hm(i.timestampValue),o=hm(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,jh(n.bytesValue).isEqual(jh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return qr(i.geoPointValue.latitude)===qr(r.geoPointValue.latitude)&&qr(i.geoPointValue.longitude)===qr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return qr(i.integerValue)===qr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=qr(i.doubleValue),o=qr(r.doubleValue);return s===o?ux(s)===ux(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return zv(n.arrayValue.values||[],e.arrayValue.values||[],ld);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(A$(s)!==A$(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===o[l]||!ld(s[l],o[l])))return!1;return!0}(n,e);default:return Ft()}var r}function hx(n,e){return void 0!==(n.values||[]).find(t=>ld(t,e))}function mm(n,e){if(n===e)return 0;const t=pm(n),i=pm(e);if(t!==i)return bn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=qr(r.integerValue||r.doubleValue),l=qr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return P$(n.timestampValue,e.timestampValue);case 4:return P$(dx(n),dx(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(r,s){const o=jh(r),l=jh(s);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),l=s.split("/");for(let d=0;d<o.length&&d<l.length;d++){const f=bn(o[d],l[d]);if(0!==f)return f}return bn(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=bn(qr(r.latitude),qr(s.latitude));return 0!==o?o:bn(qr(r.longitude),qr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],l=s.values||[];for(let d=0;d<o.length&&d<l.length;++d){const f=mm(o[d],l[d]);if(f)return f}return bn(o.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===fm.mapValue&&s===fm.mapValue)return 0;if(r===fm.mapValue)return 1;if(s===fm.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const _=bn(l[m],f[m]);if(0!==_)return _;const w=mm(o[l[m]],d[f[m]]);if(0!==w)return w}return bn(l.length,f.length)}(n.mapValue,e.mapValue);default:throw Ft()}}function P$(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=hm(n),i=hm(e),r=bn(t.seconds,i.seconds);return 0!==r?r:bn(t.nanos,i.nanos)}function Gv(n){return o2(n)}function o2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=hm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jh(n.bytesValue).toBase64():"referenceValue"in n?Ct.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=o2(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${o2(i.fields[l])}`;return s+"}"}(n.mapValue):Ft();var e}function a2(n){return!!n&&"integerValue"in n}function fx(n){return!!n&&"arrayValue"in n}function O$(n){return!!n&&"nullValue"in n}function N$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jM(n){return!!n&&"mapValue"in n}function px(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return dm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=px(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=px(n.arrayValue.values[t]);return e}return Object.assign({},n)}function F$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class go{constructor(e){this.value=e}static empty(){return new go({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jM(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=px(t)}setAll(e){let t=ps.emptyPath(),i={},r=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=l.popLast()}o?i[l.lastSegment()]=px(o):r.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());jM(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ld(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];jM(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){dm(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new go(px(this.value))}}function B$(n){const e=[];return dm(n.fields,(t,i)=>{const r=new ps([t]);if(jM(i)){const s=B$(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Na(e)}class rr{constructor(e,t,i,r,s,o,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new rr(e,0,qt.min(),qt.min(),qt.min(),go.empty(),0)}static newFoundDocument(e,t,i,r){return new rr(e,1,t,qt.min(),i,r,0)}static newNoDocument(e,t){return new rr(e,2,t,qt.min(),qt.min(),go.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,qt.min(),qt.min(),go.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gm{constructor(e,t){this.position=e,this.inclusive=t}}function U$(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?Ct.comparator(Ct.fromName(o.referenceValue),t.key):mm(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function H$(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ld(n.position[t],e.position[t]))return!1;return!0}class $v{constructor(e,t="asc"){this.field=e,this.dir=t}}function dce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class z${}class Un extends z${constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new hce(e,t,i):"array-contains"===t?new mce(e,i):"in"===t?new Y$(e,i):"not-in"===t?new gce(e,i):"array-contains-any"===t?new _ce(e,i):new Un(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new fce(e,i):new pce(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mm(t,this.value)):null!==t&&pm(this.value)===pm(t)&&this.matchesComparison(mm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bi extends z${constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bi(e,t)}matches(e){return Wv(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wv(n){return"and"===n.op}function c2(n){return function j$(n){for(const e of n.filters)if(e instanceof bi)return!1;return!0}(n)&&Wv(n)}function u2(n){if(n instanceof Un)return n.field.canonicalString()+n.op.toString()+Gv(n.value);if(c2(n))return n.filters.map(e=>u2(e)).join(",");{const e=n.filters.map(t=>u2(t)).join(",");return`${n.op}(${e})`}}function G$(n,e){return n instanceof Un?(t=n,(i=e)instanceof Un&&t.op===i.op&&t.field.isEqual(i.field)&&ld(t.value,i.value)):n instanceof bi?function(t,i){return i instanceof bi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,o)=>r&&G$(s,i.filters[o]),!0)}(n,e):void Ft();var t,i}function W$(n){return n instanceof Un?`${(e=n).field.canonicalString()} ${e.op} ${Gv(e.value)}`:n instanceof bi?function(e){return e.op.toString()+" {"+e.getFilters().map(W$).join(" ,")+"}"}(n):"Filter";var e}class hce extends Un{constructor(e,t,i){super(e,t,i),this.key=Ct.fromName(i.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class fce extends Un{constructor(e,t){super(e,"in",t),this.keys=q$(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pce extends Un{constructor(e,t){super(e,"not-in",t),this.keys=q$(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q$(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ct.fromName(i.referenceValue))}class mce extends Un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fx(t)&&hx(t.arrayValue,this.value)}}class Y$ extends Un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hx(this.value.arrayValue,t)}}class gce extends Un{constructor(e,t){super(e,"not-in",t)}matches(e){if(hx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hx(this.value.arrayValue,t)}}class _ce extends Un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fx(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>hx(this.value.arrayValue,i))}}class yce{constructor(e,t=null,i=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.dt=null}}function d2(n,e=null,t=[],i=[],r=null,s=null,o=null){return new yce(n,e,t,i,r,s,o)}function ry(n){const e=Et(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>u2(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),cx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Gv(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Gv(i)).join(",")),e.dt=t}return e.dt}function mx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H$(n.startAt,e.startAt)&&H$(n.endAt,e.endAt)}function GM(n){return Ct.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Gh{constructor(e,t=null,i=[],r=[],s=null,o="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=d,this.wt=null,this._t=null}}function qv(n){return new Gh(n)}function X$(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sy(n){const e=Et(n);if(null===e.wt){e.wt=[];const t=function WM(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),i=function h2(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new $v(t)),e.wt.push(new $v(ps.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $v(ps.keyField(),s))}}}return e.wt}function sa(n){const e=Et(n);if(!e._t)if("F"===e.limitType)e._t=d2(e.path,e.collectionGroup,sy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of sy(e))t.push(new $v(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new gm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gm(e.startAt.position,e.startAt.inclusive):null;e._t=d2(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function qM(n,e,t){return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gx(n,e){return mx(sa(n),sa(e))&&n.limitType===e.limitType}function J$(n){return`${ry(sa(n))}|lt:${n.limitType}`}function m2(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>W$(i)).join(", ")}]`),cx(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Gv(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Gv(i)).join(",")),`Target(${t})`}(sa(n))}; limitType=${n.limitType})`}function _x(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ct.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of sy(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const l=U$(r,s,o);return r.inclusive?l<=0:l<0}(t.startAt,sy(t),i)||t.endAt&&!function(r,s,o){const l=U$(r,s,o);return r.inclusive?l>=0:l>0}(t.endAt,sy(t),i)));var t,i}function tW(n){return(e,t)=>{let i=!1;for(const r of sy(n)){const s=bce(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function bce(n,e,t){const i=n.field.isKeyField()?Ct.comparator(e.key,t.key):function(r,s,o){const l=s.data.field(r),d=o.data.field(r);return null!==l&&null!==d?mm(l,d):Ft()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft()}}class $h{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dm(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return M$(this.inner)}size(){return this.innerSize}}const vce=new $i(Ct.comparator);function Fa(){return vce}const nW=new $i(Ct.comparator);function yx(...n){let e=nW;for(const t of n)e=e.insert(t.key,t);return e}function iW(n){let e=nW;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function cd(){return bx()}function rW(){return bx()}function bx(){return new $h(n=>n.toString(),(n,e)=>n.isEqual(e))}const wce=new $i(Ct.comparator),Cce=new ir(Ct.comparator);function Sn(...n){let e=Cce;for(const t of n)e=e.add(t);return e}const Ece=new ir(bn);function sW(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ux(e)?"-0":e}}function oW(n){return{integerValue:""+n}}function aW(n,e){return function C$(n){return"number"==typeof n&&Number.isInteger(n)&&!ux(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?oW(e):sW(n,e)}class YM{constructor(){this._=void 0}}function xce(n,e,t){return n instanceof Yv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&BM(r)&&(r=UM(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof oy?cW(n,e):n instanceof ay?uW(n,e):function(i,r){const s=lW(i,r),o=dW(s)+dW(i.gt);return a2(s)&&a2(i.gt)?oW(o):sW(i.serializer,o)}(n,e)}function Dce(n,e,t){return n instanceof oy?cW(n,e):n instanceof ay?uW(n,e):t}function lW(n,e){return n instanceof Zv?a2(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Yv extends YM{}class oy extends YM{constructor(e){super(),this.elements=e}}function cW(n,e){const t=hW(e);for(const i of n.elements)t.some(r=>ld(r,i))||t.push(i);return{arrayValue:{values:t}}}class ay extends YM{constructor(e){super(),this.elements=e}}function uW(n,e){let t=hW(e);for(const i of n.elements)t=t.filter(r=>!ld(r,i));return{arrayValue:{values:t}}}class Zv extends YM{constructor(e,t){super(),this.serializer=e,this.gt=t}}function dW(n){return qr(n.integerValue||n.doubleValue)}function hW(n){return fx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ice{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ZM(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class KM{}function fW(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qv(n.key,Cr.none()):new Kv(n.key,n.data,Cr.none());{const t=n.data,i=go.empty();let r=new ir(ps.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Wh(n.key,i,new Na(r.toArray()),Cr.none())}}function Sce(n,e,t){n instanceof Kv?function(i,r,s){const o=i.value.clone(),l=gW(i.fieldTransforms,r,s.transformResults);o.setAll(l),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Wh?function(i,r,s){if(!ZM(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=gW(i.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(mW(i)),l.setAll(o),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wx(n,e,t,i){return n instanceof Kv?function(r,s,o,l){if(!ZM(r.precondition,s))return o;const d=r.value.clone(),f=_W(r.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Wh?function(r,s,o,l){if(!ZM(r.precondition,s))return o;const d=_W(r.fieldTransforms,l,s),f=s.data;return f.setAll(mW(r)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(n,e,t,i):(o=t,ZM(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ace(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=lW(i.transform,r||null);null!=s&&(null===t&&(t=go.empty()),t.set(i.field,s))}return t||null}function pW(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&zv(t,i,(r,s)=>function Tce(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof oy&&i instanceof oy||t instanceof ay&&i instanceof ay?zv(t.elements,i.elements,ld):t instanceof Zv&&i instanceof Zv?ld(t.gt,i.gt):t instanceof Yv&&i instanceof Yv);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Kv extends KM{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wh extends KM{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mW(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gW(n,e,t){const i=new Map;$t(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,l=e.data.field(s.field);i.set(s.field,Dce(o,l,t[r]))}return i}function _W(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,xce(s,o,e))}return i}class Qv extends KM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _2 extends KM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y2{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Sce(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=wx(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=wx(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rW();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(r.key)?null:l;const d=fW(o,l);null!==d&&i.set(r.key,d),o.isValidDocument()||o.convertToNoDocument(qt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Sn())}isEqual(e){return this.batchId===e.batchId&&zv(this.mutations,e.mutations,(t,i)=>pW(t,i))&&zv(this.baseMutations,e.baseMutations,(t,i)=>pW(t,i))}}class b2{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$t(e.mutations.length===i.length);let r=wce;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new b2(e,t,i,r)}}class v2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kce{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ds,Qn;function bW(n){if(void 0===n)return fs("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case Ds.OK:return Ue.OK;case Ds.CANCELLED:return Ue.CANCELLED;case Ds.UNKNOWN:return Ue.UNKNOWN;case Ds.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Ds.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Ds.INTERNAL:return Ue.INTERNAL;case Ds.UNAVAILABLE:return Ue.UNAVAILABLE;case Ds.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Ds.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Ds.NOT_FOUND:return Ue.NOT_FOUND;case Ds.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Ds.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Ds.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Ds.ABORTED:return Ue.ABORTED;case Ds.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Ds.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Ds.DATA_LOSS:return Ue.DATA_LOSS;default:return Ft()}}(Qn=Ds||(Ds={}))[Qn.OK=0]="OK",Qn[Qn.CANCELLED=1]="CANCELLED",Qn[Qn.UNKNOWN=2]="UNKNOWN",Qn[Qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qn[Qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qn[Qn.NOT_FOUND=5]="NOT_FOUND",Qn[Qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qn[Qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qn[Qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qn[Qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qn[Qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qn[Qn.ABORTED=10]="ABORTED",Qn[Qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qn[Qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qn[Qn.INTERNAL=13]="INTERNAL",Qn[Qn.UNAVAILABLE=14]="UNAVAILABLE",Qn[Qn.DATA_LOSS=15]="DATA_LOSS";class w2{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return QM}static getOrCreateInstance(){return null===QM&&(QM=new w2),QM}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let QM=null;const Rce=new Uv([4294967295,4294967295],0);function wW(n){const e=function vW(){return new TextEncoder}().encode(n),t=new Ile;return t.update(e),new Uint8Array(t.digest())}function CW(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uv([t,i],0),new Uv([r,s],0)]}class C2{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cx(`Invalid padding: ${t}`);if(i<0)throw new Cx(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Cx(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Cx(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Uv.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Uv.fromNumber(i)));return 1===r.compare(Rce)&&(r=new Uv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wW(e),[i,r]=CW(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);if(!this.At(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new C2(s,r,t);return i.forEach(l=>o.insert(l)),o}insert(e){if(0===this.It)return;const t=wW(e),[i,r]=CW(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Cx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ex{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,xx.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ex(qt.min(),r,new $i(bn),Fa(),Sn())}}class xx{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xx(i,t,Sn(),Sn(),Sn())}}class XM{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class EW{constructor(e,t){this.targetId=e,this.Vt=t}}class xW{constructor(e,t,i=Ps.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class DW{constructor(){this.St=0,this.Dt=IW(),this.Ct=Ps.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Sn(),t=Sn(),i=Sn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ft()}}),new xx(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=IW()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Pce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fa(),this.zt=TW(),this.Wt=new $i(bn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const o=s.target;if(GM(o))if(0===r){const l=new Ct(o.path);this.Yt(i,l,rr.newNoDocument(l,qt.min()))}else $t(1===r);else{const l=this.ie(i);if(l!==r){const d=this.re(e,l);0!==d&&(this.ee(i),this.Wt=this.Wt.insert(i,2===d?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=w2.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(f,m,_){var w,x,M,k,R,$;const W={localCacheCount:m,existenceFilterCount:_.count},ie=_.unchangedNames;return ie&&(W.bloomFilter={applied:0===f,hashCount:null!==(w=ie?.hashCount)&&void 0!==w?w:0,bitmapLength:null!==(k=null===(M=null===(x=ie?.bits)||void 0===x?void 0:x.bitmap)||void 0===M?void 0:M.length)&&void 0!==k?k:0,padding:null!==($=null===(R=ie?.bits)||void 0===R?void 0:R.padding)&&void 0!==$?$:0}),W}(d,l,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=i;let d,f;try{d=jh(s).toUint8Array()}catch(m){if(m instanceof R$)return eu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw m}try{f=new C2(d,o,l)}catch(m){return eu(m instanceof Cx?"BloomFilter error: ":"Applying bloom filter failed: ",m),1}return 0===f.It?1:r!==t-this.oe(e.targetId,f)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Gt.ue(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(l)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const l=this.se(o);if(l){if(s.current&&GM(l.target)){const d=new Ct(l.target.path);null!==this.jt.get(d)||this.ae(o,d)||this.Yt(o,d,rr.newNoDocument(d,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let i=Sn();this.zt.forEach((s,o)=>{let l=!0;o.forEachWhile(d=>{const f=this.se(d);return!f||"TargetPurposeLimboResolution"===f.purpose||(l=!1,!1)}),l&&(i=i.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const r=new Ex(e,t,this.Wt,this.jt,i);return this.jt=Fa(),this.zt=TW(),this.Wt=new $i(bn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new DW,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ir(bn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new DW),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function TW(){return new $i(Ct.comparator)}function IW(){return new $i(Ct.comparator)}const Oce={asc:"ASCENDING",desc:"DESCENDING"},Nce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fce={and:"AND",or:"OR"};class Lce{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function E2(n,e){return n.useProto3Json||cx(e)?e:{value:e}}function Xv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SW(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vce(n,e){return Xv(n,e.toTimestamp())}function ms(n){return $t(!!n),qt.fromTimestamp(function(e){const t=hm(e);return new Pr(t.seconds,t.nanos)}(n))}function x2(n,e){return(t=n,new Kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function AW(n){const e=Kn.fromString(n);return $t(VW(e)),e}function Dx(n,e){return x2(n.databaseId,e.path)}function ud(n,e){const t=AW(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ct(kW(t))}function D2(n,e){return x2(n.databaseId,e)}function Tx(n){return new Kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kW(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RW(n,e,t){return{name:Dx(n,e),fields:t.value.mapValue.fields}}function OW(n,e){return{documents:[D2(n,e.path)]}}function I2(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=D2(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=D2(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(d){if(0!==d.length)return LW(bi.create(d,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(d){if(0!==d.length)return d.map(f=>{return{field:_m((m=f).field),direction:jce(m.dir)};var m})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=E2(n,e.limit);var l,d;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt={before:!(d=e.endAt).inclusive,values:d.position}),t}function NW(n){let e=function MW(n){const e=AW(n);return 4===e.length?Kn.emptyPath():kW(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$t(1===i);const m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(m){const _=FW(m);return _ instanceof bi&&c2(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new $v(Jv((_=m).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let l=null;t.limit&&(l=function(m){let _;return _="object"==typeof m?m.value:m,cx(_)?null:_}(t.limit));let d=null;var m;t.startAt&&(d=new gm((m=t.startAt).values||[],!!m.before));let f=null;return t.endAt&&(f=function(m){return new gm(m.values||[],!m.before)}(t.endAt)),function Q$(n,e,t,i,r,s,o,l){return new Gh(n,e,t,i,r,s,o,l)}(e,r,o,s,l,"F",d,f)}function FW(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jv(e.unaryFilter.field);return Un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Jv(e.unaryFilter.field);return Un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jv(e.unaryFilter.field);return Un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Jv(e.unaryFilter.field);return Un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):void 0!==n.fieldFilter?Un.create(Jv((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return bi.create(e.compositeFilter.filters.map(t=>FW(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(n):Ft();var e}function jce(n){return Oce[n]}function Gce(n){return Nce[n]}function $ce(n){return Fce[n]}function _m(n){return{fieldPath:n.canonicalString()}}function Jv(n){return ps.fromServerFormat(n.fieldPath)}function LW(n){return n instanceof Un?function(e){if("=="===e.op){if(N$(e.value))return{unaryFilter:{field:_m(e.field),op:"IS_NAN"}};if(O$(e.value))return{unaryFilter:{field:_m(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(N$(e.value))return{unaryFilter:{field:_m(e.field),op:"IS_NOT_NAN"}};if(O$(e.value))return{unaryFilter:{field:_m(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_m(e.field),op:Gce(e.op),value:e.value}}}(n):n instanceof bi?function(e){const t=e.getFilters().map(i=>LW(i));return 1===t.length?t[0]:{compositeFilter:{op:$ce(e.op),filters:t}}}(n):Ft()}function Wce(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class qh{constructor(e,t,i,r,s=qt.min(),o=qt.min(),l=Ps.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BW{constructor(e){this.fe=e}}function S2(n){const e=NW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qM(e,e.limit,"L"):e}class dy{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qr(e.integerValue));else if("doubleValue"in e){const i=qr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),ux(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(jh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?F$(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Ct.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}dy.Ve=new dy;class tue{constructor(){this.rn=new O2}addToCollectionParentIndex(e,t){return this.rn.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(gl.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(gl.min())}updateCollectionGroup(e,t,i){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class O2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ir(Kn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ir(Kn.comparator)).toArray()}}new Uint8Array(0);class Bo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class fy{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fy(0)}static Mn(){return new fy(-1)}}class aue{constructor(){this.changes=new $h(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uue{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&wx(i.mutation,r,Na.empty(),Pr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Sn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Sn()){const r=cd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=yx();return s.forEach((l,d)=>{o=o.insert(l,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=cd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Sn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,i,r){let s=Fa();const o=bx(),l=bx();return t.forEach((d,f)=>{const m=i.get(f.key);r.has(f.key)&&(void 0===m||m.mutation instanceof Wh)?s=s.insert(f.key,f):void 0!==m?(o.set(f.key,m.mutation.getFieldMask()),wx(m.mutation,f,m.mutation.getFieldMask(),Pr.now())):o.set(f.key,Na.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((f,m)=>o.set(f,m)),t.forEach((f,m)=>{var _;return l.set(f,new uue(m,null!==(_=o.get(f))&&void 0!==_?_:null))}),l))}recalculateAndSaveOverlays(e,t){const i=bx();let r=new $i((o,l)=>o-l),s=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(d=>{const f=t.get(d);if(null===f)return;let m=i.get(d)||Na.empty();m=l.applyToLocalView(f,m),i.set(d,m);const _=(r.get(l.batchId)||Sn()).add(d);r=r.insert(l.batchId,_)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),f=d.key,m=d.value,_=rW();m.forEach(w=>{if(!s.has(w)){const x=fW(t.get(w),i.get(w));null!==x&&_.set(w,x),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,_))}return Ae.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ct.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function f2(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Ae.resolve(cd());let l=-1,d=s;return o.next(f=>Ae.forEach(f,(m,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),s.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{d=d.insert(m,w)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,d,f,Sn())).next(m=>({batchId:l,changes:iW(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(i=>{let r=yx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=yx();return this.indexManager.getCollectionParents(e,r).next(o=>Ae.forEach(o,l=>{const d=(f=t,m=l.child(r),new Gh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(e,d,i).next(f=>{f.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((l,d)=>{const f=d.getKey();null===s.get(f)&&(s=s.insert(f,rr.newInvalidDocument(f)))});let o=yx();return s.forEach((l,d)=>{const f=r.get(l);void 0!==f&&wx(f.mutation,d,Na.empty(),Pr.now()),_x(t,d)&&(o=o.insert(l,d))}),o})}}class due{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ms(i.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:S2(i.bundledQuery),readTime:ms(i.readTime)}),Ae.resolve();var i}}class hue{constructor(){this.overlays=new $i(Ct.comparator),this.ls=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=cd();return Ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),Ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ae.resolve()}getOverlaysForCollection(e,t,i){const r=cd(),s=t.length+1,o=new Ct(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const d=l.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new $i((f,m)=>f-m);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let m=s.get(f.largestBatchId);null===m&&(m=cd(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const l=cd(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>l.set(f,m)),!(l.size()>=r)););return Ae.resolve(l)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new v2(t,i));let s=this.ls.get(t);void 0===s&&(s=Sn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class N2{constructor(){this.fs=new ir(Js.ds),this.ws=new ir(Js._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Js(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Js(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Ct(new Kn([])),i=new Js(t,e),r=new Js(t,e+1),s=[];return this.ws.forEachInRange([i,r],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ct(new Kn([])),i=new Js(t,e),r=new Js(t,e+1);let s=Sn();return this.ws.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Js(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Js{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ct.comparator(e.key,t.key)||bn(e.As,t.As)}static _s(e,t){return bn(e.As,t.As)||Ct.comparator(e.key,t.key)}}class fue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ir(Js.ds)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const o=new y2(s,t,i,r);this.mutationQueue.push(o);for(const l of r)this.Rs=this.Rs.add(new Js(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ae.resolve(o)}lookupMutationBatch(e,t){return Ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Js(t,0),r=new Js(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],o=>{const l=this.Ps(o.As);s.push(l)}),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ir(bn);return t.forEach(r=>{const s=new Js(r,0),o=new Js(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],l=>{i=i.add(l.As)})}),Ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ct.isDocumentKey(s)||(s=s.child(""));const o=new Js(new Ct(s),0);let l=new ir(bn);return this.Rs.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.As)),!0)},o),Ae.resolve(this.Vs(l))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){$t(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ae.forEach(t.mutations,r=>{const s=new Js(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Js(t,0),r=this.Rs.firstAfterOrEqual(i);return Ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pue{constructor(e){this.Ds=e,this.docs=new $i(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ae.resolve(i?i.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let i=Fa();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rr.newInvalidDocument(r))}),Ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Fa();const o=t.path,l=new Ct(o.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||t2(b$(m),i)<=0||(r.has(m.key)||_x(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Ft()}Cs(e,t){return Ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mue(this)}getSize(e){return Ae.resolve(this.size)}}class mue extends aue{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),Ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gue{constructor(e){this.persistence=e,this.xs=new $h(t=>ry(t),mx),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new N2,this.targetCount=0,this.Ms=fy.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new fy(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Fn(t),Ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((o,l)=>{l.sequenceNumber<=t&&null===i.get(l.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),Ae.waitFor(s).next(()=>r)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ae.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ae.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ae.resolve(i)}containsKey(e,t){return Ae.resolve(this.ks.containsKey(t))}}class F2{constructor(e,t){this.$s={},this.overlays={},this.Os=new _l(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gue(this),this.indexManager=new tue,this.remoteDocumentCache=new pue(i=>this.referenceDelegate.Ls(i)),this.serializer=new BW(t),this.qs=new due(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hue,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new fue(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){lt("MemoryPersistence","Starting transaction:",e);const r=new _ue(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return Ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class _ue extends Vle{constructor(e){super(),this.currentSequenceNumber=e}}class l1{constructor(e){this.persistence=e,this.Qs=new N2,this.js=null}static zs(e){return new l1(e)}get Ws(){if(this.js)return this.js;throw Ft()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ae.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Ws,i=>{const r=Ct.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,qt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ae.or([()=>Ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class U2{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Sn(),r=Sn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new U2(e,t.fromCache,i,r)}}class fq{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(X$(t))return Ae.resolve(null);let i=sa(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qM(t,null,"F"),i=sa(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Sn(...s);return this.Ui.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{const f=this.ji(t,l);return this.zi(t,f,o,d.readTime)?this.Ki(e,qM(t,null,"F")):this.Wi(e,f,t,d)}))})))}Gi(e,t,i,r){return X$(t)||r.isEqual(qt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const o=this.ji(t,s);return this.zi(t,o,i,r)?this.Qi(e,t):(XL()<=zs.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),m2(t)),this.Wi(e,o,t,function y$(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=qt.fromTimestamp(1e9===i?new Pr(t+1,0):new Pr(t,i));return new gl(r,Ct.empty(),e)}(r,-1)))})}ji(e,t){let i=new ir(tW(e));return t.forEach((r,s)=>{_x(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return XL()<=zs.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",m2(t)),this.Ui.getDocumentsMatchingQuery(e,t,gl.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class bue{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new $i(bn),this.Yi=new $h(s=>ry(s),mx),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dq(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function mq(n,e){return H2.apply(this,arguments)}function H2(){return H2=(0,xt.Z)(function*(n,e){const t=Et(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],l=[];let d=Sn();for(const f of r){o.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(i,d).next(f=>({er:f,removedBatchIds:o,addedBatchIds:l}))})})}),H2.apply(this,arguments)}function gq(n){const e=Et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Cue(n,e){const t=Et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r0(n,e,t){return z2.apply(this,arguments)}function z2(){return z2=(0,xt.Z)(function*(n,e,t){const i=Et(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!um(o))throw o;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),z2.apply(this,arguments)}function d1(n,e,t){const i=Et(n);let r=qt.min(),s=Sn();return i.persistence.runTransaction("Execute query","readonly",o=>function(l,d,f){const m=Et(l),_=m.Yi.get(f);return void 0!==_?Ae.resolve(m.Ji.get(_)):m.Bs.getTargetData(d,f)}(i,o,sa(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,l.targetId).next(d=>{s=d})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,t?r:qt.min(),t?s:Sn())).next(l=>(function vq(n,e,t){let i=n.Xi.get(e)||qt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}(i,function eW(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),l),{documents:l,ir:s})))}class q2{constructor(){this.activeTargetIds=function g2(){return Ece}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eq{constructor(){this.Hr=new q2,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new q2,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Due{Yr(e){}shutdown(){}}class xq{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let p1=null;function Z2(){return null===p1?p1=268435456+Math.round(2147483648*Math.random()):p1++,"0x"+p1.toString(16)}const Tue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iue{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Uo="WebChannelConnection";class Sue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const o=Z2(),l=this.To(e,t);lt("RestConnection",`Sending RPC '${e}' ${o}:`,l,i);const d={};return this.Eo(d,r,s),this.Ao(e,l,d,i).then(f=>(lt("RestConnection",`Received RPC '${e}' ${o}: `,f),f),f=>{throw eu("RestConnection",`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",i),f})}vo(e,t,i,r,s,o){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${Tue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=Z2();return new Promise((o,l)=>{const d=new Tle;d.setWithCredentials(!0),d.listenOnce(Ele.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case QL.NO_ERROR:const m=d.getResponseJson();lt(Uo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case QL.TIMEOUT:lt(Uo,`RPC '${e}' ${s} timed out`),l(new it(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case QL.HTTP_ERROR:const _=d.getStatus();if(lt(Uo,`RPC '${e}' ${s} failed with status:`,_,"response text:",d.getResponseText()),_>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w?.error;if(x&&x.status&&x.message){const M=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(R)>=0?R:Ue.UNKNOWN}(x.status);l(new it(M,x.message))}else l(new it(Ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new it(Ue.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{lt(Uo,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(r);lt(Uo,`RPC '${e}' ${s} sending request:`,r),d.send(t,"POST",f,i,15)})}Ro(e,t,i){const r=Z2(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wle(),l=Cle(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;void 0!==f&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new Dle({})),this.Eo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const m=s.join("");lt(Uo,`Creating RPC '${e}' stream ${r}: ${m}`,d);const _=o.createWebChannel(m,d);let w=!1,x=!1;const M=new Iue({ro:R=>{x?lt(Uo,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(w||(lt(Uo,`Opening RPC '${e}' stream ${r} transport.`),_.open(),w=!0),lt(Uo,`RPC '${e}' stream ${r} sending:`,R),_.send(R))},oo:()=>_.close()}),k=(R,$,W)=>{R.listen($,ie=>{try{W(ie)}catch(re){setTimeout(()=>{throw re},0)}})};return k(_,PM.EventType.OPEN,()=>{x||lt(Uo,`RPC '${e}' stream ${r} transport opened.`)}),k(_,PM.EventType.CLOSE,()=>{x||(x=!0,lt(Uo,`RPC '${e}' stream ${r} transport closed`),M.wo())}),k(_,PM.EventType.ERROR,R=>{x||(x=!0,eu(Uo,`RPC '${e}' stream ${r} transport errored:`,R),M.wo(new it(Ue.UNAVAILABLE,"The operation could not be completed")))}),k(_,PM.EventType.MESSAGE,R=>{var $;if(!x){const W=R.data[0];$t(!!W);const re=W.error||(null===($=W[0])||void 0===$?void 0:$.error);if(re){lt(Uo,`RPC '${e}' stream ${r} received error:`,re);const ge=re.status;let Ee=function(Qe){const gt=Ds[Qe];if(void 0!==gt)return bW(gt)}(ge),Ze=re.message;void 0===Ee&&(Ee=Ue.INTERNAL,Ze="Unknown error status: "+ge+" with message "+re.message),x=!0,M.wo(new it(Ee,Ze)),_.close()}else lt(Uo,`RPC '${e}' stream ${r} received:`,W),M._o(W)}}),k(l,xle.STAT_EVENT,R=>{R.stat===h$.PROXY?lt(Uo,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===h$.NOPROXY&&lt(Uo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{M.fo()},0),M}}function m1(){return typeof document<"u"?document:null}function Fx(n){return new Lce(n,!0)}class K2{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&lt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Tq{constructor(e,t,i,r,s,o,l,d){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new K2(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,xt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,xt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,xt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(fs(t.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===Ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new it(Ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,xt.Z)(function*(){e.state=0,e.start()}))}tu(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aue extends Tq{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Uce(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ft(),r=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?($t(void 0===f||"string"==typeof f),Ps.fromBase64String(f||"")):($t(void 0===f||f instanceof Uint8Array),Ps.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=void 0===d.code?Ue.UNKNOWN:bW(d.code);return new it(f,d.message||"")}(o);t=new xW(i,r,s,l||null)}else if("documentChange"in e){const i=e.documentChange,r=ud(n,i.document.name),s=ms(i.document.updateTime),o=i.document.createTime?ms(i.document.createTime):qt.min(),l=new go({mapValue:{fields:i.document.fields}}),d=rr.newFoundDocument(r,s,o,l);t=new XM(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=ud(n,i.document),s=i.readTime?ms(i.readTime):qt.min(),o=rr.newNoDocument(r,s);t=new XM([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=ud(n,i.document);t=new XM([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ft();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new kce(r,s);t=new EW(i.targetId,o)}}var d;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return qt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?qt.min():s.readTime?ms(s.readTime):qt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Tx(this.serializer),t.addTarget=function(r,s){let o;const l=s.target;if(o=GM(l)?{documents:OW(r,l)}:{query:I2(r,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=SW(r,s.resumeToken);const d=E2(r,s.expectedCount);null!==d&&(o.expectedCount=d)}else if(s.snapshotVersion.compareTo(qt.min())>0){o.readTime=Xv(r,s.snapshotVersion.toTimestamp());const d=E2(r,s.expectedCount);null!==d&&(o.expectedCount=d)}return o}(this.serializer,e);const i=function zce(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Tx(this.serializer),t.removeTarget=e,this.Wo(t)}}class Mue extends Tq{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Hce(n,e){return n&&n.length>0?($t(void 0!==e),n.map(t=>function(i,r){let s=ms(i.updateTime?i.updateTime:r);return s.isEqual(qt.min())&&(s=ms(r)),new Ice(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ms(e.commitTime);return this.listener.cu(i,t)}return $t(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Tx(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Ix(n,e){let t;if(e instanceof Kv)t={update:RW(n,e.key,e.value)};else if(e instanceof Qv)t={delete:Dx(n,e.key)};else if(e instanceof Wh)t={update:RW(n,e.key,e.data),updateMask:Wce(e.fieldMask)};else{if(!(e instanceof _2))return Ft();t={verify:Dx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof Yv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ay)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zv)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Ft()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Vce(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ft()),t;var r}(this.serializer,i))};this.Wo(t)}}class kue extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new it(Ue.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ue.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Pue{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fs(t),this.mu=!1):lt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Oue{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(l=>{i.enqueueAndForget((0,xt.Z)(function*(){var d;wm(o)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,xt.Z)(function*(f){const m=Et(f);m.vu.add(4),yield s0(m),m.bu.set("Unknown"),m.vu.delete(4),yield Lx(m)}),function(f){return d.apply(this,arguments)})(o))}))}),this.bu=new Pue(i,r)}}function Lx(n){return X2.apply(this,arguments)}function X2(){return X2=(0,xt.Z)(function*(n){if(wm(n))for(const e of n.Ru)yield e(!0)}),X2.apply(this,arguments)}function s0(n){return J2.apply(this,arguments)}function J2(){return J2=(0,xt.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),J2.apply(this,arguments)}function g1(n,e){const t=Et(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),nV(t)?tV(t):a0(t).Ko()&&eV(t,e))}function Vx(n,e){const t=Et(n),i=a0(t);t.Au.delete(e),i.Ko()&&Iq(t,e),0===t.Au.size&&(i.Ko()?i.jo():wm(t)&&t.bu.set("Unknown"))}function eV(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}a0(n).su(e)}function Iq(n,e){n.Vu.qt(e),a0(n).iu(e)}function tV(n){n.Vu=new Pce({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),a0(n).start(),n.bu.gu()}function nV(n){return wm(n)&&!a0(n).Uo()&&n.Au.size>0}function wm(n){return 0===Et(n).vu.size}function Sq(n){n.Vu=void 0}function Nue(n){return iV.apply(this,arguments)}function iV(){return iV=(0,xt.Z)(function*(n){n.Au.forEach((e,t)=>{eV(n,e)})}),iV.apply(this,arguments)}function Fue(n,e){return rV.apply(this,arguments)}function rV(){return rV=(0,xt.Z)(function*(n,e){Sq(n),nV(n)?(n.bu.Iu(e),tV(n)):n.bu.set("Unknown")}),rV.apply(this,arguments)}function Lue(n,e,t){return sV.apply(this,arguments)}function sV(){return sV=(0,xt.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof xW&&2===e.state&&e.cause)try{yield(i=(0,xt.Z)(function*(r,s){const o=s.cause;for(const l of s.targetIds)r.Au.has(l)&&(yield r.remoteSyncer.rejectListen(l,o),r.Au.delete(l),r.Vu.removeTarget(l))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield _1(n,i)}else if(e instanceof XM?n.Vu.Ht(e):e instanceof EW?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(qt.min()))try{const i=yield gq(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.Vu.ce(s);return o.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=r.Au.get(d);f&&r.Au.set(d,f.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,d)=>{const f=r.Au.get(l);if(!f)return;r.Au.set(l,f.withResumeToken(Ps.EMPTY_BYTE_STRING,f.snapshotVersion)),Iq(r,l);const m=new qh(f.target,l,d,f.sequenceNumber);eV(r,m)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){lt("RemoteStore","Failed to raise snapshot:",i),yield _1(n,i)}var i}),sV.apply(this,arguments)}function _1(n,e,t){return oV.apply(this,arguments)}function oV(){return oV=(0,xt.Z)(function*(n,e,t){if(!um(e))throw e;n.vu.add(1),yield s0(n),n.bu.set("Offline"),t||(t=()=>gq(n.localStore)),n.asyncQueue.enqueueRetryable((0,xt.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Lx(n)}))}),oV.apply(this,arguments)}function Aq(n,e){return e().catch(t=>_1(n,t,e))}function o0(n){return aV.apply(this,arguments)}function aV(){return aV=(0,xt.Z)(function*(n){const e=Et(n),t=Cm(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Vue(e);)try{const r=yield Cue(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,Bue(e,r)}catch(r){yield _1(e,r)}Mq(e)&&kq(e)}),aV.apply(this,arguments)}function Vue(n){return wm(n)&&n.Eu.length<10}function Bue(n,e){n.Eu.push(e);const t=Cm(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Mq(n){return wm(n)&&!Cm(n).Uo()&&n.Eu.length>0}function kq(n){Cm(n).start()}function Uue(n){return lV.apply(this,arguments)}function lV(){return lV=(0,xt.Z)(function*(n){Cm(n).hu()}),lV.apply(this,arguments)}function Hue(n){return cV.apply(this,arguments)}function cV(){return cV=(0,xt.Z)(function*(n){const e=Cm(n);for(const t of n.Eu)e.uu(t.mutations)}),cV.apply(this,arguments)}function zue(n,e,t){return uV.apply(this,arguments)}function uV(){return uV=(0,xt.Z)(function*(n,e,t){const i=n.Eu.shift(),r=b2.from(i,e,t);yield Aq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield o0(n)}),uV.apply(this,arguments)}function jue(n,e){return dV.apply(this,arguments)}function dV(){return dV=(0,xt.Z)(function*(n,e){var t;e&&Cm(n).ou&&(yield(t=(0,xt.Z)(function*(i,r){if(function yW(n){switch(n){default:return Ft();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}(s=r.code)&&s!==Ue.ABORTED){const o=i.Eu.shift();Cm(i).Qo(),yield Aq(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield o0(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Mq(n)&&kq(n)}),dV.apply(this,arguments)}function Rq(n,e){return hV.apply(this,arguments)}function hV(){return hV=(0,xt.Z)(function*(n,e){const t=Et(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const i=wm(t);t.vu.add(3),yield s0(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Lx(t)}),hV.apply(this,arguments)}function pV(){return pV=(0,xt.Z)(function*(n,e){const t=Et(n);e?(t.vu.delete(2),yield Lx(t)):e||(t.vu.add(2),yield s0(t),t.bu.set("Unknown"))}),pV.apply(this,arguments)}function a0(n){return n.Su||(n.Su=function(e,t,i){const r=Et(e);return r.fu(),new Aue(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Nue.bind(null,n),ao:Fue.bind(null,n),nu:Lue.bind(null,n)}),n.Ru.push(function(){var e=(0,xt.Z)(function*(t){t?(n.Su.Qo(),nV(n)?tV(n):n.bu.set("Unknown")):(yield n.Su.stop(),Sq(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cm(n){return n.Du||(n.Du=function(e,t,i){const r=Et(e);return r.fu(),new Mue(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Uue.bind(null,n),ao:jue.bind(null,n),au:Hue.bind(null,n),cu:zue.bind(null,n)}),n.Ru.push(function(){var e=(0,xt.Z)(function*(t){t?(n.Du.Qo(),yield o0(n)):(yield n.Du.stop(),n.Eu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class mV{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,l=new mV(e,t,o,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(n,e){if(fs("AsyncQueue",`${e}: ${n}`),um(n))return new it(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}class c0{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ct.comparator(t.key,i.key):(t,i)=>Ct.comparator(t.key,i.key),this.keyedMap=yx(),this.sortedSet=new $i(this.comparator)}static emptySet(e){return new c0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof c0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new c0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Pq{constructor(){this.Cu=new $i(Ct.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class u0{constructor(e,t,i,r,s,o,l,d,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new u0(e,t,c0.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Gue{constructor(){this.Nu=void 0,this.listeners=[]}}class $ue{constructor(){this.queries=new $h(e=>J$(e),gx),this.onlineState="Unknown",this.ku=new Set}}function _V(){return _V=(0,xt.Z)(function*(n,e){const t=Et(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Gue),r)try{s.Nu=yield t.onListen(i)}catch(o){const l=l0(o,`Initialization of query '${m2(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&vV(t)}),_V.apply(this,arguments)}function bV(){return bV=(0,xt.Z)(function*(n,e){const t=Et(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),bV.apply(this,arguments)}function Wue(n,e){const t=Et(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const l of o.listeners)l.$u(r)&&(i=!0);o.Nu=r}}i&&vV(t)}function que(n,e,t){const i=Et(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function vV(n){n.ku.forEach(e=>{e.next()})}class wV{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new u0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=u0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fq{constructor(e){this.key=e}}class Lq{constructor(e){this.key=e}}class Vq{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Sn(),this.mutatedKeys=Sn(),this.tc=tW(e),this.ec=new c0(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Pq,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,l=!1;const d="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,_)=>{const w=r.get(m),x=_x(this.query,_)?_:null,M=!!w&&this.mutatedKeys.has(w.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;w&&x?w.data.isEqual(x.data)?M!==k&&(i.track({type:3,doc:x}),R=!0):this.rc(w,x)||(i.track({type:2,doc:x}),R=!0,(d&&this.tc(x,d)>0||f&&this.tc(x,f)<0)&&(l=!0)):!w&&x?(i.track({type:0,doc:x}),R=!0):w&&!x&&(i.track({type:1,doc:w}),R=!0,(d||f)&&(l=!0)),R&&(x?(o=o.add(x),s=k?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const m="F"===this.query.limitType?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{ec:o,ic:i,zi:l,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((f,m)=>function(_,w){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return x(_)-x(w)}(f.type,m.type)||this.tc(f.doc,m.doc)),this.oc(i);const o=t?this.uc():[],l=0===this.Zu.size&&this.current?1:0,d=l!==this.Xu;return this.Xu=l,0!==s.length||d?{snapshot:new u0(this.query,e.ec,r,s,e.mutatedKeys,0===l,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Sn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new Lq(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Fq(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Sn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return u0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Kue{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Que{constructor(e){this.key=e,this.fc=!1}}class Xue{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new $h(l=>J$(l),gx),this._c=new Map,this.mc=new Set,this.gc=new $i(Ct.comparator),this.yc=new Map,this.Ic=new N2,this.Tc={},this.Ec=new Map,this.Ac=fy.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Jue(n,e){return CV.apply(this,arguments)}function CV(){return CV=(0,xt.Z)(function*(n,e){const t=function $V(n){const e=Et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nde.bind(null,e),e.dc.nu=Wue.bind(null,e.eventManager),e.dc.Pc=que.bind(null,e.eventManager),e}(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const o=yield function n0(n,e){const t=Et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,Ae.resolve(r)):t.Bs.allocateTargetId(i).next(o=>(r=new qh(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,sa(e)),l=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function EV(n,e,t,i,r){return xV.apply(this,arguments)}(t,e,i,"current"===l,o.resumeToken),t.isPrimaryClient&&g1(t.remoteStore,o)}return r}),CV.apply(this,arguments)}function xV(){return xV=(0,xt.Z)(function*(n,e,t,i,r){n.Rc=(_,w,x)=>{return(M=(0,xt.Z)(function*(k,R,$,W){let ie=R.view.sc($);ie.zi&&(ie=yield d1(k.localStore,R.query,!1).then(({documents:Ee})=>R.view.sc(Ee,ie)));const re=W&&W.targetChanges.get(R.targetId),ge=R.view.applyChanges(ie,k.isPrimaryClient,re);return OV(k,R.targetId,ge.cc),ge.snapshot}),function(k,R,$,W){return M.apply(this,arguments)})(n,_,w,x);var M};const s=yield d1(n.localStore,e,!0),o=new Vq(e,s.ir),l=o.sc(s.documents),d=xx.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),f=o.applyChanges(l,n.isPrimaryClient,d);OV(n,t,f.cc);const m=new Kue(e,t,o);return n.wc.set(e,m),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),f.snapshot}),xV.apply(this,arguments)}function ede(n,e){return DV.apply(this,arguments)}function DV(){return DV=(0,xt.Z)(function*(n,e){const t=Et(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!gx(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield r0(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Vx(t.remoteStore,i.targetId),d0(t,i.targetId)}).catch(cm))):(d0(t,i.targetId),yield r0(t.localStore,i.targetId,!0))}),DV.apply(this,arguments)}function TV(){return TV=(0,xt.Z)(function*(n,e,t){const i=function WV(n){const e=Et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ide.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rde.bind(null,e),e}(n);try{const r=yield function(s,o){const l=Et(s),d=Pr.now(),f=o.reduce((w,x)=>w.add(x.key),Sn());let m,_;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Fa(),M=Sn();return l.Zi.getEntries(w,f).next(k=>{x=k,x.forEach((R,$)=>{$.isValidDocument()||(M=M.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,x)).next(k=>{m=k;const R=[];for(const $ of o){const W=Ace($,m.get($.key).overlayedDocument);null!=W&&R.push(new Wh($.key,W,B$(W.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(w,d,R,o)}).next(k=>{_=k;const R=k.applyToLocalDocumentSet(m,M);return l.documentOverlayCache.saveOverlays(w,k.batchId,R)})}).then(()=>({batchId:_.batchId,changes:iW(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,l){let d=s.Tc[s.currentUser.toKey()];d||(d=new $i(bn)),d=d.insert(o,l),s.Tc[s.currentUser.toKey()]=d}(i,r.batchId,t),yield Yh(i,r.changes),yield o0(i.remoteStore)}catch(r){const s=l0(r,"Failed to persist write");t.reject(s)}}),TV.apply(this,arguments)}function Bq(n,e){return IV.apply(this,arguments)}function IV(){return IV=(0,xt.Z)(function*(n,e){const t=Et(n);try{const i=yield function wue(n,e){const t=Et(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const l=[];e.targetChanges.forEach((m,_)=>{const w=r.get(_);if(!w)return;l.push(t.Bs.removeMatchingKeys(s,m.removedDocuments,_).next(()=>t.Bs.addMatchingKeys(s,m.addedDocuments,_)));let x=w.withSequenceNumber(s.currentSequenceNumber);var M,k,R;null!==e.targetMismatches.get(_)?x=x.withResumeToken(Ps.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,i)),r=r.insert(_,x),k=x,R=m,(0===(M=w).resumeToken.approximateByteSize()||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0)&&l.push(t.Bs.updateTargetData(s,x))});let d=Fa(),f=Sn();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(function _q(n,e,t){let i=Sn(),r=Sn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Fa();return t.forEach((l,d)=>{const f=s.get(l);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(qt.min())?(e.removeEntry(l,d.readTime),o=o.insert(l,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||0===d.version.compareTo(f.version)&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(l,d)):lt("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",d.version)}),{nr:o,sr:r}})}(s,o,e.documentUpdates).next(m=>{d=m.nr,f=m.sr})),!i.isEqual(qt.min())){const m=t.Bs.getLastRemoteSnapshotVersion(s).next(_=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(m)}return Ae.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,f)).next(()=>d)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.yc.get(s);o&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?$t(o.fc):r.removedDocuments.size>0&&($t(o.fc),o.fc=!1))}),yield Yh(t,i,e)}catch(i){yield cm(i)}}),IV.apply(this,arguments)}function Uq(n,e,t){const i=Et(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,o)=>{const l=o.view.Mu(e);l.snapshot&&r.push(l.snapshot)}),function(s,o){const l=Et(s);l.onlineState=o;let d=!1;l.queries.forEach((f,m)=>{for(const _ of m.listeners)_.Mu(o)&&(d=!0)}),d&&vV(l)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function nde(n,e,t){return SV.apply(this,arguments)}function SV(){return SV=(0,xt.Z)(function*(n,e,t){const i=Et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let o=new $i(Ct.comparator);o=o.insert(s,rr.newNoDocument(s,qt.min()));const l=Sn().add(s),d=new Ex(qt.min(),new Map,new $i(bn),o,l);yield Bq(i,d),i.gc=i.gc.remove(s),i.yc.delete(e),NV(i)}else yield r0(i.localStore,e,!1).then(()=>d0(i,e,t)).catch(cm)}),SV.apply(this,arguments)}function ide(n,e){return AV.apply(this,arguments)}function AV(){return AV=(0,xt.Z)(function*(n,e){const t=Et(n),i=e.batch.batchId;try{const r=yield function vue(n,e){const t=Et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,l,d,f){const m=d.batch,_=m.keys();let w=Ae.resolve();return _.forEach(x=>{w=w.next(()=>f.getEntry(l,x)).next(M=>{const k=d.docVersions.get(x);$t(null!==k),M.version.compareTo(k)<0&&(m.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),f.addEntry(M)))})}),w.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Sn();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(l=l.add(o.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);PV(t,i,null),RV(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Yh(t,r)}catch(r){yield cm(r)}}),AV.apply(this,arguments)}function rde(n,e,t){return MV.apply(this,arguments)}function MV(){return MV=(0,xt.Z)(function*(n,e,t){const i=Et(n);try{const r=yield function(s,o){const l=Et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,o).next(m=>($t(null!==m),f=m.keys(),l.mutationQueue.removeMutationBatch(d,m))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(i.localStore,e);PV(i,e,t),RV(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Yh(i,r)}catch(r){yield cm(r)}}),MV.apply(this,arguments)}function RV(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function PV(n,e,t){const i=Et(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function d0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||Hq(n,i)})}function Hq(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Vx(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),NV(n))}function OV(n,e,t){for(const i of t)i instanceof Fq?(n.Ic.addReference(i.key,e),ode(n,i)):i instanceof Lq?(lt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||Hq(n,i.key)):Ft()}function ode(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(lt("SyncEngine","New document in limbo: "+t),n.mc.add(i),NV(n))}function NV(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ct(Kn.fromString(e)),i=n.Ac.next();n.yc.set(i,new Que(t)),n.gc=n.gc.insert(t,i),g1(n.remoteStore,new qh(sa(qv(t.path)),i,"TargetPurposeLimboResolution",_l.ct))}}function Yh(n,e,t){return FV.apply(this,arguments)}function FV(){return FV=(0,xt.Z)(function*(n,e,t){const i=Et(n),r=[],s=[],o=[];var l;i.wc.isEmpty()||(i.wc.forEach((l,d)=>{o.push(i.Rc(d,e,t).then(f=>{if((f||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const m=U2.Li(d.targetId,f);s.push(m)}}))}),yield Promise.all(o),i.dc.nu(r),yield(l=(0,xt.Z)(function*(d,f){const m=Et(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ae.forEach(f,w=>Ae.forEach(w.Fi,x=>m.persistence.referenceDelegate.addReference(_,w.targetId,x)).next(()=>Ae.forEach(w.Bi,x=>m.persistence.referenceDelegate.removeReference(_,w.targetId,x)))))}catch(_){if(!um(_))throw _;lt("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const w=_.targetId;if(!_.fromCache){const x=m.Ji.get(w),k=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);m.Ji=m.Ji.insert(w,k)}}}),function(d,f){return l.apply(this,arguments)})(i.localStore,s))}),FV.apply(this,arguments)}function ade(n,e){return LV.apply(this,arguments)}function LV(){return LV=(0,xt.Z)(function*(n,e){const t=Et(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const i=yield mq(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(o=>{o.forEach(l=>{l.reject(new it(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Yh(t,i.er)}var r}),LV.apply(this,arguments)}function lde(n,e){const t=Et(n),i=t.yc.get(e);if(i&&i.fc)return Sn().add(i.key);{let r=Sn();const s=t._c.get(e);if(!s)return r;for(const o of s){const l=t.wc.get(o);r=r.unionWith(l.view.nc)}return r}}class y1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xt.Z)(function*(){t.serializer=Fx(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function pq(n,e,t,i){return new bue(n,e,t,i)}(this.persistence,new fq,e.initialUser,this.serializer)}createPersistence(e){return new F2(l1.zs,this.serializer)}createSharedClientState(e){return new Eq}terminate(){var e=this;return(0,xt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class h0{initialize(e,t){var i=this;return(0,xt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Uq(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ade.bind(null,i.syncEngine),yield function fV(n,e){return pV.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $ue}createDatastore(e){const t=Fx(e.databaseInfo.databaseId),i=new Sue(e.databaseInfo);return new kue(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=l=>Uq(this.syncEngine,l,0),o=xq.D()?new xq:new Due,new Oue(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,l,d,f){const m=new Xue(i,r,s,o,l,d);return f&&(m.vc=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xt.Z)(function*(t){const i=Et(t);lt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield s0(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class b1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wde{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qs.UNAUTHENTICATED,this.clientId=g$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,xt.Z)(function*(l){lt("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(lt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,xt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=l0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function v1(n,e){return qV.apply(this,arguments)}function qV(){return qV=(0,xt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,xt.Z)(function*(s){i.isEqual(s)||(yield mq(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),qV.apply(this,arguments)}function YV(n,e){return ZV.apply(this,arguments)}function ZV(){return ZV=(0,xt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function KV(n){return QV.apply(this,arguments)}(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Rq(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Rq(e.remoteStore,s)),n._onlineComponents=e}),ZV.apply(this,arguments)}function QV(){return QV=(0,xt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield v1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function qq(n){return"FirebaseError"===n.name?n.code===Ue.FAILED_PRECONDITION||n.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;eu("Error using user provided cache. Falling back to memory cache: "+t),yield v1(n,new y1)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield v1(n,new y1);return n._offlineComponents}),QV.apply(this,arguments)}function w1(n){return XV.apply(this,arguments)}function XV(){return XV=(0,xt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield YV(n,n._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield YV(n,new h0))),n._onlineComponents}),XV.apply(this,arguments)}function eB(){return eB=(0,xt.Z)(function*(n){const e=yield w1(n),t=e.eventManager;return t.onListen=Jue.bind(null,e.syncEngine),t.onUnlisten=ede.bind(null,e.syncEngine),t}),eB.apply(this,arguments)}function Qq(n,e,t={}){const i=new Rs;return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return function(r,s,o,l,d){const f=new b1({next:_=>{s.enqueueAndForget(()=>function yV(n,e){return bV.apply(this,arguments)}(r,m));const w=_.docs.has(o);!w&&_.fromCache?d.reject(new it(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&l&&"server"===l.source?d.reject(new it(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new wV(qv(o.path),f,{includeMetadataChanges:!0,Ku:!0});return function gV(n,e){return _V.apply(this,arguments)}(r,m)}(yield function f0(n){return eB.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function Jq(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const e8=new Map;function tB(n,e,t){if(!t)throw new it(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t8(n){if(!Ct.isDocumentKey(n))throw new it(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n8(n){if(Ct.isDocumentKey(n))throw new it(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function E1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ft()}function Gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=E1(n);throw new it(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class r8{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new it(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new it(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Mde(n,e,t,i){if(!0===e&&!0===i)throw new it(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jq(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bx{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new it(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r8(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Sle;switch(t.type){case"firstParty":return new Rle(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new it(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=e8.get(e);t&&(lt("ComponentProvider","Removing Datastore"),e8.delete(e),t.terminate())}(this),Promise.resolve()}}class gs{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class _o{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class dd extends _o{constructor(e,t,i){super(e,t,qv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new Ct(e))}withConverter(e){return new dd(this.firestore,e,this._path)}}class Pde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new K2(this,"async_queue_retry"),this.Xc=()=>{const t=m1();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=m1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=m1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Rs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,xt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!um(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,fs("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=mV.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,xt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class sr extends Bx{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Pde,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a8(this),this._firestoreClient.terminate()}}function Ts(n){return n._firestoreClient||a8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a8(n){var e,t,i;const r=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lce(n._databaseId,l,n._persistenceKey,(f=r).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Jq(f.experimentalLongPollingOptions),f.useFetchStreams));var l,f;n._firestoreClient=new wde(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class my{constructor(e){this._byteString=e}static fromBase64String(e){try{return new my(Ps.fromBase64String(e))}catch(t){throw new it(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new my(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class p0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new it(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iB{constructor(e){this._methodName=e}}class rB{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const Lde=/^__.*__$/;class Vde{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Wh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kv(e,this.data,t,this.fieldTransforms)}}class u8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Wh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class x1{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new x1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return T1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(d8(this.ca)&&Lde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bde{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fx(e)}ya(e,t,i,r=!1){return new x1({ca:e,methodName:t,ga:i,path:ps.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m0(n){const e=n._freezeSettings(),t=Fx(n._databaseId);return new Bde(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sB(n,e,t,i,r,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,r);aB("Data must be an object, but it was:",o,i);const l=g8(i,o);let d,f;if(s.merge)d=new Na(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const w=zx(e,_,t);if(!o.contains(w))throw new it(Ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);y8(m,w)||m.push(w)}d=new Na(m),f=o.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=o.fieldTransforms;return new Vde(new go(l),d,f)}class Hx extends iB{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hx}}function gy(n,e){if(_8(n=(0,_e.m9)(n)))return aB("Unsupported field value:",e,n),g8(n,e);if(n instanceof iB)return function(t,i){if(!d8(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let l=gy(o,i.wa(s));null==l&&(l={nullValue:"NULL_VALUE"}),r.push(l),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aW(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Pr.fromDate(t);return{timestampValue:Xv(i.serializer,r)}}if(t instanceof Pr){const r=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xv(i.serializer,r)}}if(t instanceof rB)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof my)return{bytesValue:SW(i.serializer,t._byteString)};if(t instanceof gs){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:x2(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${E1(t)}`)}(n,e)}function g8(n,e){const t={};return M$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dm(n,(i,r)=>{const s=gy(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function _8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pr||n instanceof rB||n instanceof my||n instanceof gs||n instanceof iB)}function aB(n,e,t){if(!_8(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=E1(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function zx(n,e,t){if((e=(0,_e.m9)(e))instanceof p0)return e._internalPath;if("string"==typeof e)return D1(n,e);throw T1("Field path arguments must be of type string or ",n,!1,void 0,t)}const jde=new RegExp("[~\\*/\\[\\]]");function D1(n,e,t){if(e.search(jde)>=0)throw T1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new p0(...e.split("."))._internalPath}catch{throw T1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function T1(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${i}`),o&&(d+=` in document ${r}`),d+=")"),new it(Ue.INVALID_ARGUMENT,l+n+d)}function y8(n,e){return n.some(t=>t.isEqual(e))}class lB{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(I1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gde extends lB{data(){return super.data()}}function I1(n,e){return"string"==typeof e?D1(n,e):e instanceof p0?e._internalPath:e._delegate._internalPath}class Wde{convertValue(e,t="none"){switch(pm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return dm(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new rB(qr(e.latitude),qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=UM(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dx(e));default:return null}}convertTimestamp(e){const t=hm(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Kn.fromString(e);$t(VW(i));const r=new ny(i.get(1),i.get(3)),s=new Ct(i.popFirst(5));return r.isEqual(t)||fs(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class _y{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _0 extends lB{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new k1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(I1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class k1 extends _0{data(e={}){return super.data(e)}}class Em extends Wde{constructor(e){super(),this.firestore=e}convertBytes(e){return new my(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}function Gx(n,e){return function(t,i){const r=new Rs;return t.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return function tde(n,e,t){return TV.apply(this,arguments)}(yield function JV(n){return w1(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(Ts(n),e)}function che(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Ingresa un correo v\xe1lido."),a.qZA())}function uhe(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Ingresa un correo v\xe1lido. "),a.qZA())}function dhe(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Contrase\xf1a inv\xe1lida."),a.qZA())}function hhe(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"La contrase\xf1a debe tener al menos 8 caracteres."),a.qZA())}function fhe(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Confirmar contrase\xf1a inv\xe1lida."),a.qZA())}function phe(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Las contrase\xf1as no coinciden. "),a.qZA())}function mhe(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Las contrase\xf1as no coinciden."),a.qZA())}!function(n,e=!0){Hv=Xi.SDK_VERSION,(0,Xi._registerComponent)(new Ac.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new sr(new Mle(t.getProvider("auth-internal")),new Ple(t.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new it(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ny(l.options.projectId,d)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,Xi.registerVersion)(f$,"3.12.2",n),(0,Xi.registerVersion)(f$,"3.12.2","esm2017")}();const hB=function(n){return{"is-invalid":n}};let ghe=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.email="",this.password="",this.signupForm=new nd({email:new No("",[Ui.required,Ui.email]),password:new No("",[Ui.required,Ui.minLength(8)]),confirmPassword:new No("",[Ui.required])},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){const i=t.get("password")?.value,r=t.get("confirmPassword")?.value;return i===r||t.get("confirmPassword")?.setErrors({passwordMismatch:!0}),null}signUp(){if(this.signupForm.invalid)return void this.signupForm.markAllAsTouched();const{email:t,password:i}=this.signupForm.value;this.authService.signUp(t,i).then(()=>{const o=function Rde(n,e,...t){if(n=(0,_e.m9)(n),tB("collection","path",e),n instanceof Bx){const i=Kn.fromString(e,...t);return n8(i),new dd(n,null,i)}{if(!(n instanceof gs||n instanceof dd))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kn.fromString(e,...t));return n8(i),new dd(n.firestore,null,i)}}(function Nde(n,e){const t="object"==typeof n?n:(0,Xi.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Xi._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,_e.P0)("firestore");s&&function kde(n,e,t,i={}){var r;const s=(n=Gn(n,Bx))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let l,d;if("string"==typeof i.mockUserToken)l=i.mockUserToken,d=Qs.MOCK_USER;else{l=(0,_e.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new it(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qs(f)}n._authCredentials=new Ale(new p$(l,d))}}(r,...s)}return r}((0,Do.ZF)({apiKey:"AIzaSyBEQ1xlYvYPkh6r3aNiMDplV27dRSoV2J0",authDomain:"proyecto-final-9cd83.firebaseapp.com",projectId:"proyecto-final-9cd83",storageBucket:"proyecto-final-9cd83.appspot.com",messagingSenderId:"248208646105",appId:"1:248208646105:web:5758c93dfbdc9c2ca103c8"})),"usuarios"),d=function s8(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=g$.A()),tB("doc","path",e),n instanceof Bx){const i=Kn.fromString(e,...t);return t8(i),new gs(n,null,new Ct(i))}{if(!(n instanceof gs||n instanceof dd))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kn.fromString(e,...t));return t8(i),new gs(n.firestore,n instanceof dd?n.converter:null,new Ct(i))}}(o,"bUXiECw194pVT9t45m2V");(function Zde(n){n=Gn(n,gs);const e=Gn(n.firestore,sr);return Qq(Ts(e),n._key).then(t=>function dB(n,e,t){const i=t.docs.get(e._key),r=new Em(n);return new _0(n,r,e._key,i,new _y(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))})(d).then(f=>{f.exists()?function Qde(n,e,t,...i){n=Gn(n,gs);const r=Gn(n.firestore,sr),s=m0(r);let o;return o="string"==typeof(e=(0,_e.m9)(e))||e instanceof p0?function p8(n,e,t,i,r,s){const o=n.ya(1,e,t),l=[zx(e,i,t)],d=[r];if(s.length%2!=0)throw new it(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)l.push(zx(e,s[w])),d.push(s[w+1]);const f=[],m=go.empty();for(let w=l.length-1;w>=0;--w)if(!y8(f,l[w])){const x=l[w];let M=d[w];M=(0,_e.m9)(M);const k=o.da(x);if(M instanceof Hx)f.push(x);else{const R=gy(M,k);null!=R&&(f.push(x),m.set(x,R))}}const _=new Na(f);return new u8(m,_,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function f8(n,e,t,i){const r=n.ya(1,e,t);aB("Data must be an object, but it was:",r,i);const s=[],o=go.empty();dm(i,(d,f)=>{const m=D1(e,d,t);f=(0,_e.m9)(f);const _=r.da(m);if(f instanceof Hx)s.push(m);else{const w=gy(f,_);null!=w&&(s.push(m),o.set(m,w))}});const l=new Na(s);return new u8(o,l,r.fieldTransforms)}(s,"updateDoc",n._key,e),Gx(r,[o.toMutation(n._key,Cr.exists(!0))])}(d,{[t]:{correo:t,contrase\u00f1a:i}}).then(()=>{this.authService.setSuccessMessage("Registro exitoso"),this.router.navigate(["/"])}).catch(m=>{console.log("Error al guardar los datos del usuario en Firestore:",m)}):function Kde(n,e,t){n=Gn(n,gs);const i=Gn(n.firestore,sr),r=function uB(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return Gx(i,[sB(m0(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cr.none())])}(d,{[t]:{correo:t,contrase\u00f1a:i}}).then(()=>{this.authService.setSuccessMessage("Registro exitoso"),this.router.navigate(["/"])}).catch(m=>{console.log("Error al guardar los datos del usuario en Firestore:",m)})}).catch(f=>{console.log("Error al obtener el documento de usuarios:",f)})}).catch(r=>{console.log("Error al registrarse",r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cL),a.Y36(Ws))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-registro"]],decls:27,vars:17,consts:[[1,"container"],[1,"card","bg-light","mt-5"],[1,"card-body"],[1,"card-title"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email","required","","id","email","placeholder","correo",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","required","",1,"form-control",3,"ngClass"],["type","password","formControlName","confirmPassword","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a._uU(4,"Registrarse"),a.qZA(),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return i.signUp()}),a.TgZ(6,"div",5)(7,"label"),a._uU(8,"Email:"),a.qZA(),a._UZ(9,"input",6),a.YNc(10,che,2,0,"div",7),a.YNc(11,uhe,2,0,"div",7),a.qZA(),a.TgZ(12,"div",5)(13,"label"),a._uU(14,"Contrase\xf1a: (M\xednimo 8 Caracteres)"),a.qZA(),a._UZ(15,"input",8),a.YNc(16,dhe,2,0,"div",7),a.YNc(17,hhe,2,0,"div",7),a.qZA(),a.TgZ(18,"div",5)(19,"label"),a._uU(20,"Confirmar Contrase\xf1a:"),a.qZA(),a._UZ(21,"input",9),a.YNc(22,fhe,2,0,"div",7),a.YNc(23,phe,2,0,"div",7),a.YNc(24,mhe,2,0,"div",7),a.qZA(),a.TgZ(25,"button",10),a._uU(26,"Registrarse"),a.qZA()()()()()),2&t){let r,s,o,l;a.xp6(5),a.Q6J("formGroup",i.signupForm),a.xp6(4),a.Q6J("ngClass",a.VKq(11,hB,!(null!=(r=i.signupForm.get("email"))&&r.valid))),a.xp6(1),a.Q6J("ngIf",null==i.signupForm.controls.email.errors?null:i.signupForm.controls.email.errors.required),a.xp6(1),a.Q6J("ngIf",null==i.signupForm.controls.email.errors?null:i.signupForm.controls.email.errors.email),a.xp6(4),a.Q6J("ngClass",a.VKq(13,hB,!(null!=(s=i.signupForm.get("password"))&&s.valid))),a.xp6(1),a.Q6J("ngIf",null==i.signupForm.controls.password.errors?null:i.signupForm.controls.password.errors.required),a.xp6(1),a.Q6J("ngIf",null==i.signupForm.controls.password.errors?null:i.signupForm.controls.password.errors.minlength),a.xp6(4),a.Q6J("ngClass",a.VKq(15,hB,!(null!=(o=i.signupForm.get("confirmPassword"))&&o.valid))),a.xp6(1),a.Q6J("ngIf",null==i.signupForm.controls.confirmPassword.errors?null:i.signupForm.controls.confirmPassword.errors.required),a.xp6(1),a.Q6J("ngIf",i.signupForm.hasError("passwordMismatch")),a.xp6(1),a.Q6J("ngIf",i.signupForm.hasError("passwordMismatch")&&(null==(l=i.signupForm.get("confirmPassword"))?null:l.touched))}},dependencies:[V,at,AE,Fh,G_,EE,Iv,rm,ME]}),n})();function _he(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"th",4),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td")(10,"button",5),a.NdJ("click",function(){const s=a.CHM(t).$implicit,o=a.oxw();return a.KtG(o.eliminarCita(s.key))}),a._UZ(11,"i",6),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.fecha),a.xp6(2),a.Oqu(t.hora),a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.visitantes)}}let yhe=(()=>{class n{constructor(t){this.database=t,p_(Wu(this.database,"reservations/"),i=>{var r=[];this.reservaciones=[],this.reservacionesAux=[],i.forEach(s=>{r.push(s.val()),this.reservacionesAux.push(s.key)}),this.reservaciones=this.reservationsTransform(r,this.reservacionesAux)})}reservationsTransform(t,i){var s,o,r=[];for(let l of t){switch(l.mes){case"enero":s=l.diaNum+"/01/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"febrero":s=l.diaNum+"/02/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"marzo":s=l.diaNum+"/03/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"abril":s=l.diaNum+"/04/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"mayo":s=l.diaNum+"/05/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"junio":s=l.diaNum+"/06/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"julio":s=l.diaNum+"/07/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"agosto":s=l.diaNum+"/08/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"septiembre":s=l.diaNum+"/09/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"octubre":s=l.diaNum+"/10/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"noviembre":s=l.diaNum+"/11/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum;break;case"diciembre":s=l.diaNum+"/12/"+l.a\u00f1o,o=l.a\u00f1o+"/01/"+l.diaNum}o=o+" "+l.hora+":00:00",r.push({fecha:s,hora:l.hora+":00",nombre:l.nombre,visitantes:l.visitantes,timestamp:new Date(o).getTime()/1e3,key:i[t.indexOf(l)]})}return r.sort((l,d)=>l.timestamp-d.timestamp)}eliminarCita(t){tS(Wu(this.database,"reservations/"+t)),alert("Cita eliminada")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-reporte"]],decls:18,vars:1,consts:[[1,"contenedor"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-times"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Reporte Completo de Reservaciones"),a.qZA(),a.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),a._uU(7,"Fecha"),a.qZA(),a.TgZ(8,"th",2),a._uU(9,"Hora"),a.qZA(),a.TgZ(10,"th",2),a._uU(11,"Registrado a Nombre de"),a.qZA(),a.TgZ(12,"th",2),a._uU(13,"Visitantes"),a.qZA(),a.TgZ(14,"th",2),a._uU(15,"Cancelar Cita"),a.qZA()()(),a.TgZ(16,"tbody"),a.YNc(17,_he,12,4,"tr",3),a.qZA()()()),2&t&&(a.xp6(17),a.Q6J("ngForOf",i.reservaciones))},dependencies:[Ot],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-align:center}"]}),n})(),I8=(()=>{class n{constructor(t){this.http=t,this.apiUrl="https://api280623-production.up.railway.app/products"}getAllProducts(){return this.http.get(this.apiUrl)}getProductById(t){return this.http.get(`${this.apiUrl}/${t}`)}getProductsBySuggestedPrice(t){return this.http.get(`${this.apiUrl}/suggestedPrice/${t}`)}createProduct(t){return this.http.post(this.apiUrl,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bhe(n,e){if(1&n&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.id),a.xp6(2),a.Oqu(t.nombre),a.xp6(2),a.hij("$ ",t.precioEspecial,""),a.xp6(2),a.hij("$ ",t.precioSugerido,"")}}let vhe=(()=>{class n{constructor(t,i,r){this.productosService=t,this.router=i,this.http=r,this.products=[],this.productId=0,this.minPrice=0,this.nombreProducto="",this.precioEspecialProducto=0,this.precioSugeridoProducto=0,this.newProduct={id:0,nombre:"",precioEspecial:0,precioSugerido:0}}ngOnInit(){this.fetchProducts()}fetchProducts(){this.productosService.getAllProducts().subscribe(t=>{this.products=t})}getProductById(t){this.productosService.getProductById(t).subscribe(i=>{this.products=[i]})}getProductsBySuggestedPrice(t){this.productosService.getProductsBySuggestedPrice(t).subscribe(i=>{this.products=i})}createProduct(){this.productosService.createProduct(this.newProduct).subscribe(()=>{this.fetchProducts()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(I8),a.Y36(Ws),a.Y36(Jb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-products"]],decls:49,vars:6,consts:[[1,"contenedor"],["align","center",1,"mt-3",2,"color","white"],[1,"search","mt-4"],["for","productId"],[1,"input-group"],["type","number","id","productId","name","productId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"filter","mt-4"],["for","minPrice"],["type","number","id","minPrice","name","minPrice",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","mt-4"],[4,"ngFor","ngForOf"],[1,"create-product","mt-4"],[1,"form-group"],["for","nombreProducto"],["type","text","id","nombreProducto","name","nombreProducto",1,"form-control",3,"ngModel","ngModelChange"],["for","precioEspecialProducto"],["type","number","id","precioEspecialProducto","name","precioEspecialProducto",1,"form-control",3,"ngModel","ngModelChange"],["for","precioSugeridoProducto"],["type","number","id","precioSugeridoProducto","name","precioSugeridoProducto",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"Listado de productos"),a.qZA(),a.TgZ(3,"div",2)(4,"label",3),a._uU(5,"Buscar por ID:"),a.qZA(),a.TgZ(6,"div",4)(7,"input",5),a.NdJ("ngModelChange",function(s){return i.productId=s}),a.qZA(),a.TgZ(8,"div",6)(9,"button",7),a.NdJ("click",function(){return i.getProductById(i.productId)}),a._uU(10,"Buscar"),a.qZA()()()(),a.TgZ(11,"div",8)(12,"label",9),a._uU(13,"Filtrar por precio sugerido mayor a:"),a.qZA(),a.TgZ(14,"div",4)(15,"input",10),a.NdJ("ngModelChange",function(s){return i.minPrice=s}),a.qZA(),a.TgZ(16,"div",6)(17,"button",7),a.NdJ("click",function(){return i.getProductsBySuggestedPrice(i.minPrice)}),a._uU(18,"Filtrar"),a.qZA()()()(),a.TgZ(19,"table",11)(20,"thead")(21,"tr")(22,"th"),a._uU(23,"ID"),a.qZA(),a.TgZ(24,"th"),a._uU(25,"Nombre"),a.qZA(),a.TgZ(26,"th"),a._uU(27,"Precio especial"),a.qZA(),a.TgZ(28,"th"),a._uU(29,"Precio sugerido"),a.qZA()()(),a.TgZ(30,"tbody"),a.YNc(31,bhe,9,4,"tr",12),a.qZA()(),a.TgZ(32,"div",13)(33,"h3"),a._uU(34,"Crear nuevo producto"),a.qZA(),a.TgZ(35,"div",14)(36,"label",15),a._uU(37,"Nombre:"),a.qZA(),a.TgZ(38,"input",16),a.NdJ("ngModelChange",function(s){return i.newProduct.nombre=s}),a.qZA()(),a.TgZ(39,"div",14)(40,"label",17),a._uU(41,"Precio especial:"),a.qZA(),a.TgZ(42,"input",18),a.NdJ("ngModelChange",function(s){return i.newProduct.precioEspecial=s}),a.qZA()(),a.TgZ(43,"div",14)(44,"label",19),a._uU(45,"Precio sugerido:"),a.qZA(),a.TgZ(46,"input",20),a.NdJ("ngModelChange",function(s){return i.newProduct.precioSugerido=s}),a.qZA()(),a.TgZ(47,"button",7),a.NdJ("click",function(){return i.createProduct()}),a._uU(48,"Crear"),a.qZA()()()),2&t&&(a.xp6(7),a.Q6J("ngModel",i.productId),a.xp6(8),a.Q6J("ngModel",i.minPrice),a.xp6(16),a.Q6J("ngForOf",i.products),a.xp6(7),a.Q6J("ngModel",i.newProduct.nombre),a.xp6(4),a.Q6J("ngModel",i.newProduct.precioEspecial),a.xp6(4),a.Q6J("ngModel",i.newProduct.precioSugerido))},dependencies:[Ot,Fh,HA,G_,Tv],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-align:center}.table[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .create-product[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .create-product[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.search[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex}.search[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-product[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;margin-right:5px}.create-product[_ngcontent-%COMP%]{max-width:50%}.create-product[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();function $x(n){return($x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function vt(n,e,t){return(e=function Che(n){var e=function whe(n,e){if("object"!==$x(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==$x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===$x(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b0(n){return n+.5|0}const Zh=(n,e,t)=>Math.max(Math.min(n,t),e);function Wx(n){return Zh(b0(2.55*n),0,255)}function xm(n){return Zh(b0(255*n),0,255)}function Kh(n){return Zh(b0(n/2.55)/100,0,1)}function S8(n){return Zh(b0(100*n),0,100)}const ec={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fB=[..."0123456789ABCDEF"],Ehe=n=>fB[15&n],xhe=n=>fB[(240&n)>>4]+fB[15&n],P1=n=>(240&n)>>4==(15&n),Ahe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A8(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Mhe(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function khe(n,e,t){const i=A8(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function pB(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),l=(s+o)/2;let d,f,m;return s!==o&&(m=s-o,f=l>.5?m/(2-s-o):m/(s+o),d=function Rhe(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}(t,i,r,m,s),d=60*d+.5),[0|d,f||0,l]}function mB(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(xm)}function gB(n,e,t){return mB(A8,n,e,t)}function M8(n){return(n%360+360)%360}const k8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let O1;const Uhe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,_B=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,v0=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function N1(n,e,t){if(n){let i=pB(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=gB(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function P8(n,e){return n&&Object.assign(e||{},n)}function O8(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=xm(n[3]))):(e=P8(n,{r:0,g:0,b:0,a:1})).a=xm(e.a),e}function Ghe(n){return"r"===n.charAt(0)?function Hhe(n){const e=Uhe.exec(n);let i,r,s,t=255;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Wx(o):Zh(255*o,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Wx(i):Zh(i,0,255)),r=255&(e[4]?Wx(r):Zh(r,0,255)),s=255&(e[6]?Wx(s):Zh(s,0,255)),{r:i,g:r,b:s,a:t}}}(n):function Nhe(n){const e=Ahe.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?Wx(+e[5]):xm(+e[5]));const r=M8(+e[2]),s=+e[3]/100,o=+e[4]/100;return i="hwb"===e[1]?function Phe(n,e,t){return mB(khe,n,e,t)}(r,s,o):"hsv"===e[1]?function Ohe(n,e,t){return mB(Mhe,n,e,t)}(r,s,o):gB(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class w0{constructor(e){if(e instanceof w0)return e;const t=typeof e;let i;"object"===t?i=O8(e):"string"===t&&(i=function The(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*ec[n[1]],g:255&17*ec[n[2]],b:255&17*ec[n[3]],a:5===e?17*ec[n[4]]:255}:(7===e||9===e)&&(t={r:ec[n[1]]<<4|ec[n[2]],g:ec[n[3]]<<4|ec[n[4]],b:ec[n[5]]<<4|ec[n[6]],a:9===e?ec[n[7]]<<4|ec[n[8]]:255})),t}(e)||function Bhe(n){O1||(O1=function Vhe(){const n={},e=Object.keys(R8),t=Object.keys(k8);let i,r,s,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],r=0;r<t.length;r++)s=t[r],l=l.replace(s,k8[s]);s=parseInt(R8[o],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),O1.transparent=[0,0,0,0]);const e=O1[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||Ghe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=P8(this._rgb);return e&&(e.a=Kh(e.a)),e}set rgb(e){this._rgb=O8(e)}rgbString(){return this._valid?function zhe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Kh(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function She(n){var e=(n=>P1(n.r)&&P1(n.g)&&P1(n.b)&&P1(n.a))(n)?Ehe:xhe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function Lhe(n){if(!n)return;const e=pB(n),t=e[0],i=S8(e[1]),r=S8(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Kh(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,l=2*o-1,d=i.a-r.a,f=((l*d==-1?l:(l+d)/(1+l*d))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function jhe(n,e,t){const i=v0(Kh(n.r)),r=v0(Kh(n.g)),s=v0(Kh(n.b));return{r:xm(_B(i+t*(v0(Kh(e.r))-i))),g:xm(_B(r+t*(v0(Kh(e.g))-r))),b:xm(_B(s+t*(v0(Kh(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new w0(this.rgb)}alpha(e){return this._rgb.a=xm(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=b0(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return N1(this._rgb,2,e),this}darken(e){return N1(this._rgb,2,-e),this}saturate(e){return N1(this._rgb,1,e),this}desaturate(e){return N1(this._rgb,1,-e),this}rotate(e){return function Fhe(n,e){var t=pB(n);t[0]=M8(t[0]+e),t=gB(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function Qh(){}const $he=(()=>{let n=0;return()=>n++})();function ei(n){return null===n||typeof n>"u"}function or(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Hn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Yr(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function yl(n,e){return Yr(n)?n:e}function An(n,e){return typeof n>"u"?e:n}const N8=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Wi(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function vi(n,e,t,i){let r,s,o;if(or(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Hn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function F1(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function L1(n){if(or(n))return n.map(L1);if(Hn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=L1(n[t[r]]);return e}return n}function F8(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function qhe(n,e,t,i){if(!F8(n))return;const r=e[n],s=t[n];Hn(r)&&Hn(s)?qx(r,s,i):e[n]=L1(s)}function qx(n,e,t){const i=or(e)?e:[e],r=i.length;if(!Hn(n))return n;const s=(t=t||{}).merger||qhe;let o;for(let l=0;l<r;++l){if(o=i[l],!Hn(o))continue;const d=Object.keys(o);for(let f=0,m=d.length;f<m;++f)s(d[f],n,o,t)}return n}function Yx(n,e){return qx(n,e,{merger:Yhe})}function Yhe(n,e,t){if(!F8(n))return;const i=e[n],r=t[n];Hn(i)&&Hn(r)?Yx(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=L1(r))}const L8={"":n=>n,x:n=>n.x,y:n=>n.y};function Dm(n,e){return(L8[e]||(L8[e]=function Khe(n){const e=function Zhe(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function yB(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Zx=n=>typeof n<"u",Tm=n=>"function"==typeof n,V8=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Er=Math.PI,ar=2*Er,Xhe=ar+Er,V1=Number.POSITIVE_INFINITY,Jhe=Er/180,Zr=Er/2,yy=Er/4,B8=2*Er/3,Im=Math.log10,hd=Math.sign;function Kx(n,e,t){return Math.abs(n-e)<t}function U8(n){const e=Math.round(n);n=Kx(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Im(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function C0(n){return!isNaN(parseFloat(n))&&isFinite(n)}function H8(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function nu(n){return n*(Er/180)}function bB(n){return n*(180/Er)}function z8(n){if(!Yr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function j8(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Er&&(s+=ar),{angle:s,distance:r}}function vB(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function nfe(n,e){return(n-e+Xhe)%ar-Er}function bl(n){return(n%ar+ar)%ar}function Qx(n,e,t,i){const r=bl(n),s=bl(e),o=bl(t),l=bl(s-r),d=bl(o-r),f=bl(r-s),m=bl(r-o);return r===s||r===o||i&&s===o||l>d&&f<m}function eo(n,e,t){return Math.max(e,Math.min(t,n))}function Xh(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function wB(n,e,t){t=t||(o=>n[o]<e);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const Jh=(n,e,t,i)=>wB(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),rfe=(n,e,t)=>wB(n,t,i=>n[i][e]>=t),G8=["push","pop","shift","splice","unshift"];function $8(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),!(i.length>0)&&(G8.forEach(s=>{delete n[s]}),delete n._chartjs)}function W8(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const q8=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Y8(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,q8.call(window,()=>{i=!1,n.apply(e,t)}))}}const CB=n=>"start"===n?"left":"end"===n?"right":"center",Ho=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function Z8(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,_parsed:l}=n,d=o.axis,{min:f,max:m,minDefined:_,maxDefined:w}=o.getUserBounds();_&&(r=eo(Math.min(Jh(l,o.axis,f).lo,t?i:Jh(e,d,o.getPixelForValue(f)).lo),0,i-1)),s=w?eo(Math.max(Jh(l,o.axis,m,!0).hi+1,t?0:Jh(e,d,o.getPixelForValue(m),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function K8(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const B1=n=>0===n||1===n,Q8=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*ar/t),X8=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ar/t)+1,Xx={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Zr),easeOutSine:n=>Math.sin(n*Zr),easeInOutSine:n=>-.5*(Math.cos(Er*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>B1(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>B1(n)?n:Q8(n,.075,.3),easeOutElastic:n=>B1(n)?n:X8(n,.075,.3),easeInOutElastic:n=>B1(n)?n:n<.5?.5*Q8(2*n,.1125,.45):.5+.5*X8(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-Xx.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Xx.easeInBounce(2*n):.5*Xx.easeOutBounce(2*n-1)+.5};function EB(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function J8(n){return EB(n)?n:new w0(n)}function xB(n){return EB(n)?n:new w0(n).saturate(.5).darken(.1).hexString()}const cfe=["x","y","borderWidth","radius","tension"],ufe=["color","borderColor","backgroundColor"],eY=new Map;function Jx(n,e,t){return function ffe(n,e){e=e||{};const t=n+JSON.stringify(e);let i=eY.get(t);return i||(i=new Intl.NumberFormat(n,e),eY.set(t,i)),i}(e,t).format(n)}const tY={values:n=>or(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=function pfe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=Im(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Jx(n,i,d)},logarithmic(n,e,t){if(0===n)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Im(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?tY.numeric.call(this,n,e,t):""}};var U1={formatters:tY};const by=Object.create(null),DB=Object.create(null);function eD(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function TB(n,e,t){return"string"==typeof e?qx(eD(n,e),t):qx(eD(n,""),e)}class gfe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>xB(r.backgroundColor),this.hoverBorderColor=(i,r)=>xB(r.borderColor),this.hoverColor=(i,r)=>xB(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return TB(this,e,t)}get(e){return eD(this,e)}describe(e,t){return TB(DB,e,t)}override(e,t){return TB(by,e,t)}route(e,t,i,r){const s=eD(this,e),o=eD(this,i),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[l],f=o[r];return Hn(d)?Object.assign({},f,d):An(d,f)},set(d){this[l]=d}}})}apply(e){e.forEach(t=>t(this))}}var Kr=new gfe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function dfe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:ufe},numbers:{type:"number",properties:cfe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function hfe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function mfe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function H1(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function yfe(n,e,t,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const l=t.length;let d,f,m,_,w;for(d=0;d<l;d++)if(_=t[d],null==_||or(_)){if(or(_))for(f=0,m=_.length;f<m;f++)w=_[f],null!=w&&!or(w)&&(o=H1(n,r,s,o,w))}else o=H1(n,r,s,o,_);n.restore();const x=s.length/2;if(x>t.length){for(d=0;d<x;d++)delete r[s[d]];s.splice(0,x)}return o}function vy(n,e,t){const i=n.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function nY(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function IB(n,e,t,i){iY(n,e,t,i,null)}function iY(n,e,t,i,r){let s,o,l,d,f,m,_,w;const x=e.pointStyle,M=e.rotation,k=e.radius;let R=(M||0)*Jhe;if(x&&"object"==typeof x&&(s=x.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate(R),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void n.restore();if(!(isNaN(k)||k<=0)){switch(n.beginPath(),x){default:r?n.ellipse(t,i,r/2,k,0,0,ar):n.arc(t,i,k,0,ar),n.closePath();break;case"triangle":m=r?r/2:k,n.moveTo(t+Math.sin(R)*m,i-Math.cos(R)*k),R+=B8,n.lineTo(t+Math.sin(R)*m,i-Math.cos(R)*k),R+=B8,n.lineTo(t+Math.sin(R)*m,i-Math.cos(R)*k),n.closePath();break;case"rectRounded":f=.516*k,d=k-f,o=Math.cos(R+yy)*d,_=Math.cos(R+yy)*(r?r/2-f:d),l=Math.sin(R+yy)*d,w=Math.sin(R+yy)*(r?r/2-f:d),n.arc(t-_,i-l,f,R-Er,R-Zr),n.arc(t+w,i-o,f,R-Zr,R),n.arc(t+_,i+l,f,R,R+Zr),n.arc(t-w,i+o,f,R+Zr,R+Er),n.closePath();break;case"rect":if(!M){d=Math.SQRT1_2*k,m=r?r/2:d,n.rect(t-m,i-d,2*m,2*d);break}R+=yy;case"rectRot":_=Math.cos(R)*(r?r/2:k),o=Math.cos(R)*k,l=Math.sin(R)*k,w=Math.sin(R)*(r?r/2:k),n.moveTo(t-_,i-l),n.lineTo(t+w,i-o),n.lineTo(t+_,i+l),n.lineTo(t-w,i+o),n.closePath();break;case"crossRot":R+=yy;case"cross":_=Math.cos(R)*(r?r/2:k),o=Math.cos(R)*k,l=Math.sin(R)*k,w=Math.sin(R)*(r?r/2:k),n.moveTo(t-_,i-l),n.lineTo(t+_,i+l),n.moveTo(t+w,i-o),n.lineTo(t-w,i+o);break;case"star":_=Math.cos(R)*(r?r/2:k),o=Math.cos(R)*k,l=Math.sin(R)*k,w=Math.sin(R)*(r?r/2:k),n.moveTo(t-_,i-l),n.lineTo(t+_,i+l),n.moveTo(t+w,i-o),n.lineTo(t-w,i+o),R+=yy,_=Math.cos(R)*(r?r/2:k),o=Math.cos(R)*k,l=Math.sin(R)*k,w=Math.sin(R)*(r?r/2:k),n.moveTo(t-_,i-l),n.lineTo(t+_,i+l),n.moveTo(t+w,i-o),n.lineTo(t-w,i+o);break;case"line":o=r?r/2:Math.cos(R)*k,l=Math.sin(R)*k,n.moveTo(t-o,i-l),n.lineTo(t+o,i+l);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(R)*(r?r/2:k),i+Math.sin(R)*k);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function ef(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function z1(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function j1(n){n.restore()}function bfe(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if("middle"===r){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===r!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function vfe(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Cfe(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,f=t+s.actualBoundingBoxDescent,m=r.strikethrough?(t-s.actualBoundingBoxAscent+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,m),n.lineTo(l,m),n.stroke()}}function Efe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function wy(n,e,t,i,r,s={}){const o=or(e)?e:[e],l=s.strokeWidth>0&&""!==s.strokeColor;let d,f;for(n.save(),n.font=r.string,function wfe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ei(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),d=0;d<o.length;++d)f=o[d],s.backdrop&&Efe(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ei(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,i,s.maxWidth)),n.fillText(f,t,i,s.maxWidth),Cfe(n,t,i,f,s),i+=Number(r.lineHeight);n.restore()}function tD(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,-Zr,Er,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Er,Zr,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Zr,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Zr,!0),n.lineTo(t+o.topLeft,i)}const xfe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Dfe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tfe(n,e){const t=(""+n).match(xfe);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const Ife=n=>+n||0;function SB(n,e){const t={},i=Hn(e),r=i?Object.keys(e):e,s=Hn(n)?i?o=>An(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=Ife(s(o));return t}function rY(n){return SB(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Cy(n){return SB(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zo(n){const e=rY(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Os(n,e){let t=An((n=n||{}).size,(e=e||Kr.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=An(n.style,e.style);i&&!(""+i).match(Dfe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:An(n.family,e.family),lineHeight:Tfe(An(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:An(n.weight,e.weight),string:""};return r.string=function _fe(n){return!n||ei(n.size)||ei(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function nD(n,e,t,i){let s,o,l,r=!0;for(s=0,o=n.length;s<o;++s)if(l=n[s],void 0!==l&&(void 0!==e&&"function"==typeof l&&(l=l(e),r=!1),void 0!==t&&or(l)&&(l=l[t%l.length],r=!1),void 0!==l))return i&&!r&&(i.cacheable=!1),l}function Sm(n,e){return Object.assign(Object.create(n),e)}function AB(n,e=[""],t,i,r=(()=>n[0])){const s=t||n;typeof i>"u"&&(i=cY("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>AB([l,...n],e,s,i)};return new Proxy(o,{deleteProperty:(l,d)=>(delete l[d],delete l._keys,delete n[0][d],!0),get:(l,d)=>oY(l,d,()=>function Ffe(n,e,t,i){let r;for(const s of e)if(r=cY(Afe(s,n),t),typeof r<"u")return MB(n,r)?kB(t,i,n,r):r}(d,e,n,l)),getOwnPropertyDescriptor:(l,d)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(l,d)=>uY(l).includes(d),ownKeys:l=>uY(l),set(l,d,f){const m=l._storage||(l._storage=r());return l[d]=m[d]=f,delete l._keys,!0}})}function E0(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:sY(n,i),setContext:s=>E0(n,s,t,i),override:s=>E0(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,l)=>oY(s,o,()=>function Mfe(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let l=i[e];return Tm(l)&&o.isScriptable(e)&&(l=function kfe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let d=e(s,o||i);return l.delete(n),MB(n,d)&&(d=kB(r._scopes,r,n,d)),d}(e,l,n,t)),or(l)&&l.length&&(l=function Rfe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Hn(e[0])){const d=e,f=r._scopes.filter(m=>m!==d);e=[];for(const m of d){const _=kB(f,r,n,m);e.push(E0(_,s,o&&o[n],l))}}return e}(e,l,n,o.isIndexable)),MB(e,l)&&(l=E0(l,r,s&&s[e],o)),l}(s,o,l)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,l)=>(n[o]=l,delete s[o],!0)})}function sY(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Tm(t)?t:()=>t,isIndexable:Tm(i)?i:()=>i}}const Afe=(n,e)=>n?n+yB(e):e,MB=(n,e)=>Hn(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function oY(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function aY(n,e,t){return Tm(n)?n(e,t):n}const Pfe=(n,e)=>!0===n?e:"string"==typeof n?Dm(e,n):void 0;function Ofe(n,e,t,i,r){for(const s of e){const o=Pfe(t,s);if(o){n.add(o);const l=aY(o._fallback,t,r);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(!1===o&&typeof i<"u"&&t!==i)return null}return!1}function kB(n,e,t,i){const r=e._rootScopes,s=aY(e._fallback,t,i),o=[...n,...r],l=new Set;l.add(i);let d=lY(l,o,t,s||t,i);return!(null===d||typeof s<"u"&&s!==t&&(d=lY(l,o,s,d,i),null===d))&&AB(Array.from(l),[""],r,s,()=>function Nfe(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return or(r)&&Hn(t)?t:r||{}}(e,t,i))}function lY(n,e,t,i,r){for(;t;)t=Ofe(n,e,t,i,r);return t}function cY(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function uY(n){let e=n._keys;return e||(e=n._keys=function Lfe(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function dY(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let l,d,f,m;for(l=0,d=i;l<d;++l)f=l+t,m=e[f],o[l]={r:r.parse(Dm(m,s),f)};return o}const Vfe=Number.EPSILON||1e-14,x0=(n,e)=>e<n.length&&!n[e].skip&&n[e],hY=n=>"x"===n?"y":"x";function Bfe(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,l=vB(s,r),d=vB(o,s);let f=l/(l+d),m=d/(l+d);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const _=i*f,w=i*m;return{previous:{x:s.x-_*(o.x-r.x),y:s.y-_*(o.y-r.y)},next:{x:s.x+w*(o.x-r.x),y:s.y+w*(o.y-r.y)}}}function G1(n,e,t){return Math.max(Math.min(n,t),e)}function Gfe(n,e,t,i,r){let s,o,l,d;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),"monotone"===e.cubicInterpolationMode)!function zfe(n,e="x"){const t=hY(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,l,d,f=x0(n,0);for(o=0;o<i;++o)if(l=d,d=f,f=x0(n,o+1),d){if(f){const m=f[e]-d[e];r[o]=0!==m?(f[t]-d[t])/m:0}s[o]=l?f?hd(r[o-1])!==hd(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function Ufe(n,e,t){const i=n.length;let r,s,o,l,d,f=x0(n,0);for(let m=0;m<i-1;++m)if(d=f,f=x0(n,m+1),d&&f){if(Kx(e[m],0,Vfe)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],s=t[m+1]/e[m],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[m]=r*o*e[m],t[m+1]=s*o*e[m])}})(n,r,s),function Hfe(n,e,t="x"){const i=hY(t),r=n.length;let s,o,l,d=x0(n,0);for(let f=0;f<r;++f){if(o=l,l=d,d=x0(n,f+1),!l)continue;const m=l[t],_=l[i];o&&(s=(m-o[t])/3,l[`cp1${t}`]=m-s,l[`cp1${i}`]=_-s*e[f]),d&&(s=(d[t]-m)/3,l[`cp2${t}`]=m+s,l[`cp2${i}`]=_+s*e[f])}}(n,s,e)}(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)l=n[s],d=Bfe(f,l,n[Math.min(s+1,o-(i?0:1))%o],e.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,f=l}e.capBezierPoints&&function jfe(n,e){let t,i,r,s,o,l=ef(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=l,l=t<i-1&&ef(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=G1(r.cp1x,e.left,e.right),r.cp1y=G1(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=G1(r.cp2x,e.left,e.right),r.cp2y=G1(r.cp2y,e.top,e.bottom)))}(n,t)}function fY(){return typeof window<"u"&&typeof document<"u"}function RB(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function $1(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const W1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),Wfe=["top","right","bottom","left"];function Ey(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=Wfe[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const qfe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function xy(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=W1(t),s="border-box"===r.boxSizing,o=Ey(r,"padding"),l=Ey(r,"border","width"),{x:d,y:f,box:m}=function Yfe(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let l,d,o=!1;if(qfe(r,s,n.target))l=r,d=s;else{const f=e.getBoundingClientRect();l=i.clientX-f.left,d=i.clientY-f.top,o=!0}return{x:l,y:d,box:o}}(n,t),_=o.left+(m&&l.left),w=o.top+(m&&l.top);let{width:x,height:M}=e;return s&&(x-=o.width+l.width,M-=o.height+l.height),{x:Math.round((d-_)/x*t.width/i),y:Math.round((f-w)/M*t.height/i)}}const q1=n=>Math.round(10*n)/10;function pY(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const Qfe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function mY(n,e){const t=function $fe(n,e){return W1(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Dy(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Xfe(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function Jfe(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Dy(n,r,t),l=Dy(r,s,t),d=Dy(s,e,t),f=Dy(o,l,t),m=Dy(l,d,t);return Dy(f,m,t)}const epe=function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}},tpe=function(){return{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}};function D0(n,e,t){return n?epe(e,t):tpe()}function gY(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function _Y(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function yY(n){return"angle"===n?{between:Qx,compare:nfe,normalize:bl}:{between:Xh,compare:(e,t)=>e-t,normalize:e=>e}}function bY({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:r}}function vY(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:l,between:d,normalize:f}=yY(i),{start:m,end:_,loop:w,style:x}=function npe(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:l}=yY(i),d=e.length;let w,x,{start:f,end:m,loop:_}=n;if(_){for(f+=d,m+=d,w=0,x=d;w<x&&o(l(e[f%d][i]),r,s);++w)f--,m--;f%=d,m%=d}return m<f&&(m+=d),{start:f,end:m,loop:_,style:n.style}}(n,e,t),M=[];let $,W,ie,k=!1,R=null;for(let Qe=m,gt=m;Qe<=_;++Qe)W=e[Qe%o],!W.skip&&($=f(W[i]),$!==ie&&(k=d($,r,s),null===R&&(k||d(r,ie,$)&&0!==l(r,ie))&&(R=0===l($,r)?Qe:gt),null!==R&&(!k||0===l(s,$)||d(s,ie,$))&&(M.push(bY({start:R,end:Qe,loop:w,count:o,style:x})),R=null),gt=Qe,ie=$));return null!==R&&M.push(bY({start:R,end:_,loop:w,count:o,style:x})),M}function wY(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=vY(i[r],n.points,e);s.length&&t.push(...s)}return t}function EY(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function ape(n,e){if(!e)return!1;const t=[],i=function(r,s){return EB(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}class lpe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.duration;t.listeners[r].forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=q8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let d,o=s.length-1,l=!1;for(;o>=0;--o)d=s[o],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tf=new lpe;const xY="transparent",cpe={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=J8(n||xY),r=i.valid&&J8(e||xY);return r&&r.valid?r.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class upe{constructor(e,t,i,r){const s=t[i];r=nD([e.to,r,s,e.from]);const o=nD([e.from,s,r]);this._active=!0,this._fn=e.fn||cpe[e.type||typeof o],this._easing=Xx[e.easing]||Xx.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=nD([e.to,t,r,e.from]),this._from=nD([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let d;if(this._active=s!==l&&(o||t<i),!this._active)return this._target[r]=l,void this._notify(!0);t<0?this._target[r]=s:(d=t/i%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(s,l,d))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class DY{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Hn(e))return;const t=Object.keys(Kr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Hn(s))return;const o={};for(const l of t)o[l]=s[l];(or(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,t){const i=t.options,r=function hpe(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function dpe(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let d;for(d=o.length-1;d>=0;--d){const f=o[d];if("$"===f.charAt(0))continue;if("options"===f){r.push(...this._animateOptions(e,t));continue}const m=t[f];let _=s[f];const w=i.get(f);if(_){if(w&&_.active()){_.update(w,m,l);continue}_.cancel()}w&&w.duration?(s[f]=_=new upe(w,e,f,m),r.push(_)):e[f]=m}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(tf.add(this._chart,i),!0):void 0}}function TY(n,e){const t=n&&n.options||{},i=t.reverse,r=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:r,end:i?r:s}}function IY(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function SY(n,e,t,i={}){const r=n.keys,s="single"===i.mode;let o,l,d,f;if(null!==e){for(o=0,l=r.length;o<l;++o){if(d=+r[o],d===t){if(i.all)continue;break}f=n.values[d],Yr(f)&&(s||0===e||hd(e)===hd(f))&&(e+=f)}return e}}function AY(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function ype(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function MY(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function kY(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=i,d=s.axis,f=o.axis,m=function gpe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,i),_=e.length;let w;for(let x=0;x<_;++x){const M=e[x],{[d]:k,[f]:R}=M;w=(M._stacks||(M._stacks={}))[f]=ype(r,m,k),w[l]=R,w._top=MY(w,o,!0,i.type),w._bottom=MY(w,o,!1,i.type),(w._visualValues||(w._visualValues={}))[l]=R}}function PB(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function iD(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[t]&&delete s[i]._visualValues[t]}}}const OB=n=>"reset"===n||"none"===n,RY=(n,e)=>e?n:Object.assign({},n);let Am=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=AY(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&iD(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(w,x,M,k)=>"x"===w?x:"r"===w?k:M,o=i.xAxisID=An(r.xAxisID,PB(t,"x")),l=i.yAxisID=An(r.yAxisID,PB(t,"y")),d=i.rAxisID=An(r.rAxisID,PB(t,"r")),f=i.indexAxis,m=i.iAxisID=s(f,o,l,d),_=i.vAxisID=s(f,l,o,d);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(d),i.iScale=this.getScaleForId(m),i.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$8(this._data,this),t._stacked&&iD(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Hn(i))this._data=function mpe(n){const e=Object.keys(n),t=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],t[i]={x:s,y:n[s]};return t}(i);else if(r!==i){if(r){$8(r,this);const s=this._cachedMeta;iD(s),s._parsed=[]}i&&Object.isExtensible(i)&&function ofe(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),G8.forEach(t=>{const i="_onData"+yB(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=AY(i.vScale,i),i.stack!==r.stack&&(s=!0,iD(i),i.stack=r.stack),this._resyncElements(t),(s||o!==i._stacked)&&kY(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:l}=r,d=o.axis;let _,w,x,f=0===t&&i===s.length||r._sorted,m=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,x=s;else{x=or(s[t])?this.parseArrayData(r,s,t,i):Hn(s[t])?this.parseObjectData(r,s,t,i):this.parsePrimitiveData(r,s,t,i);const M=()=>null===w[d]||m&&w[d]<m[d];for(_=0;_<i;++_)r._parsed[_+t]=w=x[_],f&&(M()&&(f=!1),m=w);r._sorted=f}l&&kY(this,x)}parsePrimitiveData(t,i,r,s){const{iScale:o,vScale:l}=t,d=o.axis,f=l.axis,m=o.getLabels(),_=o===l,w=new Array(s);let x,M,k;for(x=0,M=s;x<M;++x)k=x+r,w[x]={[d]:_||o.parse(m[k],k),[f]:l.parse(i[k],k)};return w}parseArrayData(t,i,r,s){const{xScale:o,yScale:l}=t,d=new Array(s);let f,m,_,w;for(f=0,m=s;f<m;++f)_=f+r,w=i[_],d[f]={x:o.parse(w[0],_),y:l.parse(w[1],_)};return d}parseObjectData(t,i,r,s){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,m=new Array(s);let _,w,x,M;for(_=0,w=s;_<w;++_)x=_+r,M=i[x],m[_]={x:o.parse(Dm(M,d),x),y:l.parse(Dm(M,f),x)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const o=this._cachedMeta,l=i[t.axis];return SY({keys:IY(this.chart,!0),values:i._stacks[t.axis]._visualValues},l,o.index,{mode:r})}updateRangeFromParsed(t,i,r,s){const o=r[i.axis];let l=null===o?NaN:o;const d=s&&r._stacks[i.axis];s&&d&&(s.values=d,l=SY(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,i){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,l=s.length,d=this._getOtherScale(t),f=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:IY(this.chart,!0),values:null})(i,r),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:w}=function _pe(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(d);let x,M;function k(){M=s[x];const R=M[d.axis];return!Yr(M[t.axis])||_>R||w<R}for(x=0;x<l&&(k()||(this.updateRangeFromParsed(m,t,M,f),!o));++x);if(o)for(x=l-1;x>=0;--x)if(!k()){this.updateRangeFromParsed(m,t,M,f);break}return m}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let s,o,l;for(s=0,o=i.length;s<o;++s)l=i[s][t.axis],Yr(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function ppe(n){let e,t,i,r;return Hn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:!1===n}}(An(this.options.clip,function fpe(n,e,t){if(!1===t)return!1;const i=TY(n,t),r=TY(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||s.length-d,m=this.options.drawActiveElementsOnTop;let _;for(r.dataset&&r.dataset.draw(t,o,d,f),_=d;_<d+f;++_){const w=s[_];w.hidden||(w.active&&m?l.push(w):w.draw(t,o))}for(_=0;_<l.length;++_)l[_].draw(t,o)}getStyle(t,i){const r=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=function vpe(n,e,t){return Sm(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function bpe(n,e){return Sm(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const s="active"===i,o=this._cachedDataOpts,l=t+"-"+i,d=o[l],f=this.enableOptionSharing&&Zx(r);if(d)return RY(d,f);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,t),w=s?[`${t}Hover`,"hover",t,""]:[t,""],x=m.getOptionScopes(this.getDataset(),_),M=Object.keys(Kr.elements[t]),R=m.resolveNamedOptions(x,M,()=>this.getContext(r,s,i),w);return R.$shared&&(R.$shared=f,o[l]=Object.freeze(RY(R,f))),R}_resolveAnimations(t,i,r){const s=this.chart,o=this._cachedDataOpts,l=`animation-${i}`,d=o[l];if(d)return d;let f;if(!1!==s.options.animation){const _=this.chart.config,w=_.datasetAnimationScopeKeys(this._type,i),x=_.getOptionScopes(this.getDataset(),w);f=_.createResolver(x,this.getContext(t,r,i))}const m=new DY(s,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||OB(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:l}}updateElement(t,i,r,s){OB(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!OB(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[d,f,m]of this._syncList)this[d](f,m);this._syncList=[];const s=r.length,o=i.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,r=!0){const s=this._cachedMeta,o=s.data,l=t+i;let d;const f=m=>{for(m.length+=i,d=m.length-1;d>=l;d--)m[d]=m[d-i]};for(f(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,i);r._stacked&&iD(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return vt(n,"defaults",{}),vt(n,"datasetElementType",null),vt(n,"dataElementType",null),n})();function Epe(n){const e=n.iScale,t=function Cpe(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=W8(i.sort((r,s)=>r-s))}return n._cache.$bar}(e,n.type);let r,s,o,l,i=e._length;const d=()=>{32767===o||-32768===o||(Zx(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),d();for(l=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),d();return i}function PY(n,e,t,i){return or(n)?function Tpe(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),l=Math.max(r,s);let d=o,f=l;Math.abs(o)>Math.abs(l)&&(d=l,f=o),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:r,end:s,min:o,max:l}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function OY(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),l=r===s,d=[];let f,m,_,w;for(f=t,m=t+i;f<m;++f)w=e[f],_={},_[r.axis]=l||r.parse(o[f],f),d.push(PY(w,_,s,f));return d}function NB(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Ape(n,e,t,i){let r=e.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:l,reverse:d,top:f,bottom:m}=function Spe(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}(n);"middle"===r&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=m:(s[NY(m,o,l,d)]=!0,r=f)),s[NY(r,o,l,d)]=!0,n.borderSkipped=s}function NY(n,e,t,i){return i?(n=function Mpe(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=FY(n,t,e)):n=FY(n,e,t),n}function FY(n,e,t){return"start"===n?e:"end"===n?t:n}function kpe(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}let Rpe=(()=>{class n extends Am{parsePrimitiveData(t,i,r,s){return OY(t,i,r,s)}parseArrayData(t,i,r,s){return OY(t,i,r,s)}parseObjectData(t,i,r,s){const{iScale:o,vScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,m="x"===o.axis?d:f,_="x"===l.axis?d:f,w=[];let x,M,k,R;for(x=r,M=r+s;x<M;++x)R=i[x],k={},k[o.axis]=o.parse(Dm(R,m),x),w.push(PY(Dm(R,_),k,l,x));return w}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);const o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(t),l=o._custom,d=NB(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){const o="reset"===s,{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),m=d.isHorizontal(),_=this._getRuler(),{sharedOptions:w,includeOptions:x}=this._getSharedOptions(i,s);for(let M=i;M<i+r;M++){const k=this.getParsed(M),R=o||ei(k[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(M),$=this._calculateBarIndexPixels(M,_),W=(k._stacks||{})[d.axis],ie={horizontal:m,base:R.base,enableBorderRadius:!W||NB(k._custom)||l===W._top||l===W._bottom,x:m?R.head:$.center,y:m?$.center:R.head,height:m?$.size:Math.abs(R.size),width:m?Math.abs(R.size):$.size};x&&(ie.options=w||this.resolveDataElementOptions(M,t[M].active?"active":s));const re=ie.options||t[M].options;Ape(ie,re,W,l),kpe(ie,re,_.ratio),this.updateElement(t[M],M,ie,s)}}_getStacks(t,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=r.options.stacked,l=[],d=f=>{const m=f.controller.getParsed(i),_=m&&m[f.vScale.axis];if(ei(_)||isNaN(_))return!0};for(const f of s)if((void 0===i||!d(f))&&((!1===o||-1===l.indexOf(f.stack)||void 0===o&&void 0===f.stack)&&l.push(f.stack),f.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const s=this._getStacks(t,r),o=void 0!==i?s.indexOf(i):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,s=[];let o,l;for(o=0,l=i.data.length;o<l;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const d=t.barThickness;return{min:d||Epe(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(t),m=f._custom,_=NB(m);let k,R,w=f[i.axis],x=0,M=r?this.applyStack(i,f,r):w;M!==w&&(x=M-w,M=w),_&&(w=m.barStart,M=m.barEnd-m.barStart,0!==w&&hd(w)!==hd(m.barEnd)&&(x=0),x+=w);const $=ei(o)||_?x:o;let W=i.getPixelForValue($);if(k=this.chart.getDataVisibility(t)?i.getPixelForValue(x+M):W,R=k-W,Math.abs(R)<l){R=function Ipe(n,e,t){return 0!==n?hd(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(R,i,d)*l,w===d&&(W-=R/2);const ie=i.getPixelForDecimal(0),re=i.getPixelForDecimal(1),ge=Math.min(ie,re),Ee=Math.max(ie,re);W=Math.max(Math.min(W,Ee),ge),k=W+R,r&&!_&&(f._stacks[i.axis]._visualValues[s]=i.getValueForPixel(k)-i.getValueForPixel(W))}if(W===i.getPixelForValue(d)){const ie=hd(R)*i.getLineWidthForValue(d)/2;W+=ie,R-=ie}return{size:R,base:W,head:k,center:k+R/2}}_calculateBarIndexPixels(t,i){const r=i.scale,s=this.options,o=s.skipNull,l=An(s.maxBarThickness,1/0);let d,f;if(i.grouped){const m=o?this._getStackCount(t):i.stackCount,_="flex"===s.barThickness?function Dpe(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const d=t.categoryPercentage;null===o&&(o=s-(null===l?e.end-e.start:l-s)),null===l&&(l=s+s-o);const f=s-(s-Math.min(o,l))/2*d;return{chunk:Math.abs(l-o)/2*d/i,ratio:t.barPercentage,start:f}}(t,i,s,m):function xpe(n,e,t,i){const r=t.barThickness;let s,o;return ei(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}(t,i,s,m),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);d=_.start+_.chunk*w+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else d=r.getPixelForValue(this.getParsed(t)[r.axis],t),f=Math.min(l,i.min*i.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[i.axis]&&r[o].draw(this._ctx)}}return vt(n,"id","bar"),vt(n,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),vt(n,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),n})(),Ppe=(()=>{class n extends Am{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){const o=super.parsePrimitiveData(t,i,r,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+r).radius;return o}parseArrayData(t,i,r,s){const o=super.parseArrayData(t,i,r,s);for(let l=0;l<o.length;l++)o[l]._custom=An(i[r+l][2],this.resolveDataElementOptions(l+r).radius);return o}parseObjectData(t,i,r,s){const o=super.parseObjectData(t,i,r,s);for(let l=0;l<o.length;l++){const d=i[r+l];o[l]._custom=An(d&&d.r&&+d.r,this.resolveDataElementOptions(l+r).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,l=this.getParsed(t),d=s.getLabelForValue(l.x),f=o.getLabelForValue(l.y),m=l._custom;return{label:r[t]||"",value:"("+d+", "+f+(m?", "+m:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){const o="reset"===s,{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(i,s),_=l.axis,w=d.axis;for(let x=i;x<i+r;x++){const M=t[x],k=!o&&this.getParsed(x),R={},$=R[_]=o?l.getPixelForDecimal(.5):l.getPixelForValue(k[_]),W=R[w]=o?d.getBasePixel():d.getPixelForValue(k[w]);R.skip=isNaN($)||isNaN(W),m&&(R.options=f||this.resolveDataElementOptions(x,M.active?"active":s),o&&(R.options.radius=0)),this.updateElement(M,x,R,s)}}resolveDataElementOptions(t,i){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==i&&(s.radius=0),s.radius+=An(r&&r._custom,o),s}}return vt(n,"id","bubble"),vt(n,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),vt(n,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),n})(),FB=(()=>{class n extends Am{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let l,d,o=f=>+r[f];if(Hn(r[t])){const{key:f="value"}=this._parsing;o=m=>+Dm(r[m],f)}for(l=t,d=t+i;l<d;++l)s._parsed[l]=o(l)}}_getRotation(){return nu(this.options.rotation-90)}_getCircumference(){return nu(this.options.circumference)}_getRotationExtents(){let t=ar,i=-ar;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+l)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(r.width,r.height)-l)/2,0),f=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,d),1),m=this._getRingWeight(this.index),{circumference:_,rotation:w}=this._getRotationExtents(),{ratioX:x,ratioY:M,offsetX:k,offsetY:R}=function Ope(n,e,t){let i=1,r=1,s=0,o=0;if(e<ar){const l=n,d=l+e,f=Math.cos(l),m=Math.sin(l),_=Math.cos(d),w=Math.sin(d),x=(ie,re,ge)=>Qx(ie,l,d,!0)?1:Math.max(re,re*t,ge,ge*t),M=(ie,re,ge)=>Qx(ie,l,d,!0)?-1:Math.min(re,re*t,ge,ge*t),k=x(0,f,_),R=x(Zr,m,w),$=M(Er,f,_),W=M(Er+Zr,m,w);i=(k-$)/2,r=(R-W)/2,s=-(k+$)/2,o=-(R+W)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(w,_,f),ie=Math.max(Math.min((r.width-l)/x,(r.height-l)/M)/2,0),re=N8(this.options.radius,ie),Ee=(re-Math.max(re*f,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*re,this.offsetY=R*re,s.total=this.calculateTotal(),this.outerRadius=re-Ee*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Ee*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ar)}updateElements(t,i,r,s){const o="reset"===s,l=this.chart,d=l.chartArea,_=(d.left+d.right)/2,w=(d.top+d.bottom)/2,x=o&&l.options.animation.animateScale,M=x?0:this.innerRadius,k=x?0:this.outerRadius,{sharedOptions:R,includeOptions:$}=this._getSharedOptions(i,s);let ie,W=this._getRotation();for(ie=0;ie<i;++ie)W+=this._circumference(ie,o);for(ie=i;ie<i+r;++ie){const re=this._circumference(ie,o),ge=t[ie],Ee={x:_+this.offsetX,y:w+this.offsetY,startAngle:W,endAngle:W+re,circumference:re,outerRadius:k,innerRadius:M};$&&(Ee.options=R||this.resolveDataElementOptions(ie,ge.active?"active":s)),W+=re,this.updateElement(ge,ie,Ee,s)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let s,r=0;for(s=0;s<i.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?ar*(Math.abs(t)/i):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=Jx(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0;const r=this.chart;let s,o,l,d,f;if(!t)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),t=l.data,d=l.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)f=d.resolveDataElementOptions(s),"inner"!==f.borderAlign&&(i=Math.max(i,f.borderWidth||0,f.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){const o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(An(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return vt(n,"id","doughnut"),vt(n,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),vt(n,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),vt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const d=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}}),n})(),Npe=(()=>{class n extends Am{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,l=this.chart._animationsDisabled;let{start:d,count:f}=Z8(i,s,l);this._drawStart=d,this._drawCount=f,K8(i)&&(d=0,f=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:m},t),this.updateElements(s,d,f,t)}updateElements(t,i,r,s){const o="reset"===s,{iScale:l,vScale:d,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:_,includeOptions:w}=this._getSharedOptions(i,s),x=l.axis,M=d.axis,{spanGaps:k,segment:R}=this.options,$=C0(k)?k:Number.POSITIVE_INFINITY,W=this.chart._animationsDisabled||o||"none"===s,ie=i+r,re=t.length;let ge=i>0&&this.getParsed(i-1);for(let Ee=0;Ee<re;++Ee){const Ze=t[Ee],Qe=W?Ze:{};if(Ee<i||Ee>=ie){Qe.skip=!0;continue}const gt=this.getParsed(Ee),Ut=ei(gt[M]),Jt=Qe[x]=l.getPixelForValue(gt[x],Ee),ln=Qe[M]=o||Ut?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,gt,f):gt[M],Ee);Qe.skip=isNaN(Jt)||isNaN(ln)||Ut,Qe.stop=Ee>0&&Math.abs(gt[x]-ge[x])>$,R&&(Qe.parsed=gt,Qe.raw=m.data[Ee]),w&&(Qe.options=_||this.resolveDataElementOptions(Ee,Ze.active?"active":s)),W||this.updateElement(Ze,Ee,Qe,s),ge=gt}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return vt(n,"id","line"),vt(n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),vt(n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),n})(),LY=(()=>{class n extends Am{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=Jx(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,r,s){return dY.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),d=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(t,i,r,s){const o="reset"===s,l=this.chart,f=l.options.animation,m=this._cachedMeta.rScale,_=m.xCenter,w=m.yCenter,x=m.getIndexAngle(0)-.5*Er;let k,M=x;const R=360/this.countVisibleElements();for(k=0;k<i;++k)M+=this._computeAngle(k,s,R);for(k=i;k<i+r;k++){const $=t[k];let W=M,ie=M+this._computeAngle(k,s,R),re=l.getDataVisibility(k)?m.getDistanceFromCenterForValue(this.getParsed(k).r):0;M=ie,o&&(f.animateScale&&(re=0),f.animateRotate&&(W=ie=x));const ge={x:_,y:w,innerRadius:0,outerRadius:re,startAngle:W,endAngle:ie,options:this.resolveDataElementOptions(k,$.active?"active":s)};this.updateElement($,k,ge,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?nu(this.resolveDataElementOptions(t,i).angle||r):0}}return vt(n,"id","polarArea"),vt(n,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),vt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const d=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),n})();var Fpe=Object.freeze({__proto__:null,BarController:Rpe,BubbleController:Ppe,DoughnutController:FB,LineController:Npe,PieController:(()=>{class n extends FB{}return vt(n,"id","pie"),vt(n,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),n})(),PolarAreaController:LY,RadarController:(()=>{class n extends Am{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return dY.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:l},t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){const o=this._cachedMeta.rScale,l="reset"===s;for(let d=i;d<i+r;d++){const f=t[d],m=this.resolveDataElementOptions(d,f.active?"active":s),_=o.getPointPositionForValue(d,this.getParsed(d).r),w=l?o.xCenter:_.x,x=l?o.yCenter:_.y,M={x:w,y:x,angle:_.angle,skip:isNaN(w)||isNaN(x),options:m};this.updateElement(f,d,M,s)}}}return vt(n,"id","radar"),vt(n,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),vt(n,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),n})(),ScatterController:(()=>{class n extends Am{getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,l=this.getParsed(t),d=s.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:r[t]||"",value:"("+d+", "+f+")"}}update(t){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:o,count:l}=Z8(i,r,s);if(this._drawStart=o,this._drawCount=l,K8(i)&&(o=0,l=r.length),this.options.showLine){const{dataset:d,_dataset:f}=i;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!f._decimated,d.points=r;const m=this.resolveDatasetElementOptions(t);m.segment=this.options.segment,this.updateElement(d,void 0,{animated:!s,options:m},t)}this.updateElements(r,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,s){const o="reset"===s,{iScale:l,vScale:d,_stacked:f,_dataset:m}=this._cachedMeta,_=this.resolveDataElementOptions(i,s),w=this.getSharedOptions(_),x=this.includeOptions(s,w),M=l.axis,k=d.axis,{spanGaps:R,segment:$}=this.options,W=C0(R)?R:Number.POSITIVE_INFINITY,ie=this.chart._animationsDisabled||o||"none"===s;let re=i>0&&this.getParsed(i-1);for(let ge=i;ge<i+r;++ge){const Ee=t[ge],Ze=this.getParsed(ge),Qe=ie?Ee:{},gt=ei(Ze[k]),Ut=Qe[M]=l.getPixelForValue(Ze[M],ge),Jt=Qe[k]=o||gt?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,Ze,f):Ze[k],ge);Qe.skip=isNaN(Ut)||isNaN(Jt)||gt,Qe.stop=ge>0&&Math.abs(Ze[M]-re[M])>W,$&&(Qe.parsed=Ze,Qe.raw=m.data[ge]),x&&(Qe.options=w||this.resolveDataElementOptions(ge,Ee.active?"active":s)),ie||this.updateElement(Ee,ge,Qe,s),re=Ze}this.updateSharedOptions(w,s,_)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let d=0;for(let f=i.length-1;f>=0;--f)d=Math.max(d,i[f].size(this.resolveDataElementOptions(f))/2);return d>0&&d}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,l)/2}}return vt(n,"id","scatter"),vt(n,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),vt(n,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),n})()});function Ty(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class LB{static override(e){Object.assign(LB.prototype,e)}constructor(e){vt(this,"options",void 0),this.options=e||{}}init(){}formats(){return Ty()}parse(){return Ty()}format(){return Ty()}add(){return Ty()}diff(){return Ty()}startOf(){return Ty()}endOf(){return Ty()}}var Lpe__date=LB;function Vpe(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,l=r._cachedMeta.iScale;if(l&&e===l.axis&&"r"!==e&&o&&s.length){const d=l._reversePixels?rfe:Jh;if(!i)return d(s,e,t);if(r._sharedOptions){const f=s[0],m="function"==typeof f.getRange&&f.getRange(e);if(m){const _=d(s,e,t-m),w=d(s,e,t+m);return{lo:_.lo,hi:w.hi}}}}return{lo:0,hi:s.length-1}}function rD(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,d=s.length;l<d;++l){const{index:f,data:m}=s[l],{lo:_,hi:w}=Vpe(s[l],e,o,r);for(let x=_;x<=w;++x){const M=m[x];M.skip||i(M,f,x)}}}function VB(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||rD(n,t,e,function(l,d,f){!r&&!ef(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:d,index:f})},!0),s}function BB(n,e,t,i,r,s){return s||n.isPointInArea(e)?"r"!==t||i?function Hpe(n,e,t,i,r,s){let o=[];const l=function Bpe(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let d=Number.POSITIVE_INFINITY;return rD(n,t,e,function f(m,_,w){const x=m.inRange(e.x,e.y,r);if(i&&!x)return;const M=m.getCenterPoint(r);if(!s&&!n.isPointInArea(M)&&!x)return;const R=l(e,M);R<d?(o=[{element:m,datasetIndex:_,index:w}],d=R):R===d&&o.push({element:m,datasetIndex:_,index:w})}),o}(n,e,t,i,r,s):function Upe(n,e,t,i){let r=[];return rD(n,t,e,function s(o,l,d){const{startAngle:f,endAngle:m}=o.getProps(["startAngle","endAngle"],i),{angle:_}=j8(o,{x:e.x,y:e.y});Qx(_,f,m)&&r.push({element:o,datasetIndex:l,index:d})}),r}(n,e,t,r):[]}function VY(n,e,t,i,r){const s=[],o="x"===t?"inXRange":"inYRange";let l=!1;return rD(n,t,e,(d,f,m)=>{d[o](e[t],r)&&(s.push({element:d,datasetIndex:f,index:m}),l=l||d.inRange(e.x,e.y,r))}),i&&!l?[]:s}var zpe={evaluateInteractionItems:rD,modes:{index(n,e,t,i){const r=xy(e,n),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?VB(n,r,s,i,o):BB(n,r,s,!1,i,o),d=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const m=l[0].index,_=f.data[m];_&&!_.skip&&d.push({element:_,datasetIndex:f.index,index:m})}),d):[]},dataset(n,e,t,i){const r=xy(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?VB(n,r,s,i,o):BB(n,r,s,!1,i,o);if(l.length>0){const d=l[0].datasetIndex,f=n.getDatasetMeta(d).data;l=[];for(let m=0;m<f.length;++m)l.push({element:f[m],datasetIndex:d,index:m})}return l},point:(n,e,t,i)=>VB(n,xy(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>BB(n,xy(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>VY(n,xy(e,n),"x",t.intersect,i),y:(n,e,t,i)=>VY(n,xy(e,n),"y",t.intersect,i)}};const BY=["left","top","right","bottom"];function sD(n,e){return n.filter(t=>t.pos===e)}function UY(n,e){return n.filter(t=>-1===BY.indexOf(t.pos)&&t.box.axis===e)}function oD(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function HY(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function zY(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function qpe(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Hn(r)){t.size&&(n[r]-=t.size);const _=i[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?s.height:s.width),t.size=_.size/_.count,n[r]+=t.size}s.getPadding&&zY(o,s.getPadding());const l=Math.max(0,e.outerWidth-HY(o,n,"left","right")),d=Math.max(0,e.outerHeight-HY(o,n,"top","bottom")),f=l!==n.w,m=d!==n.h;return n.w=l,n.h=d,t.horizontal?{same:f,other:m}:{same:m,other:f}}function Zpe(n,e){const t=e.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function aD(n,e,t,i){const r=[];let s,o,l,d,f,m;for(s=0,o=n.length,f=0;s<o;++s){l=n[s],d=l.box,d.update(l.width||e.w,l.height||e.h,Zpe(l.horizontal,e));const{same:_,other:w}=qpe(e,t,l,i);f|=_&&r.length,m=m||w,d.fullSize||r.push(l)}return f&&aD(r,e,t,i)||m}function Y1(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function jY(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const l of n){const d=l.box,f=i[l.stack]||{count:1,placed:0,weight:1},m=l.stackWeight/f.weight||1;if(l.horizontal){const _=e.w*m,w=f.size||d.height;Zx(f.start)&&(o=f.start),d.fullSize?Y1(d,r.left,o,t.outerWidth-r.right-r.left,w):Y1(d,e.left+f.placed,o,_,w),f.start=o,f.placed+=_,o=d.bottom}else{const _=e.h*m,w=f.size||d.width;Zx(f.start)&&(s=f.start),d.fullSize?Y1(d,s,r.top,w,t.outerHeight-r.bottom-r.top):Y1(d,s,e.top+f.placed,w,_),f.start=s,f.placed+=_,s=d.right}}e.x=s,e.y=o}var jo={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=zo(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),l=function Wpe(n){const e=function jpe(n){const e=[];let t,i,r,s,o,l;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],({position:s,options:{stack:o,stackWeight:l=1}}=r),e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return e}(n),t=oD(e.filter(f=>f.box.fullSize),!0),i=oD(sD(e,"left"),!0),r=oD(sD(e,"right")),s=oD(sD(e,"top"),!0),o=oD(sD(e,"bottom")),l=UY(e,"x"),d=UY(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(d).concat(o).concat(l),chartArea:sD(e,"chartArea"),vertical:i.concat(r).concat(d),horizontal:s.concat(o).concat(l)}}(n.boxes),d=l.vertical,f=l.horizontal;vi(n.boxes,k=>{"function"==typeof k.beforeLayout&&k.beforeLayout()});const m=d.reduce((k,R)=>R.box.options&&!1===R.box.options.display?k:k+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/m,hBoxMaxHeight:o/2}),w=Object.assign({},r);zY(w,zo(i));const x=Object.assign({maxPadding:w,w:s,h:o,x:r.left,y:r.top},r),M=function $pe(n,e){const t=function Gpe(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!BY.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,l;for(s=0,o=n.length;s<o;++s){l=n[s];const{fullSize:d}=l.box,f=t[l.stack],m=f&&l.stackWeight/f.weight;l.horizontal?(l.width=m?m*i:d&&e.availableWidth,l.height=r):(l.width=i,l.height=m?m*r:d&&e.availableHeight)}return t}(d.concat(f),_);aD(l.fullSize,x,_,M),aD(d,x,_,M),aD(f,x,_,M)&&aD(d,x,_,M),function Ype(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(x),jY(l.leftAndTop,x,_,M),x.x+=x.w,x.y+=x.h,jY(l.rightAndBottom,x,_,M),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},vi(l.chartArea,k=>{const R=k.box;Object.assign(R,n.chartArea),R.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class GY{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Kpe extends GY{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Z1="$chartjs",Qpe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$Y=n=>null===n||""===n,WY=!!Qfe&&{passive:!0};function eme(n,e,t){n.canvas.removeEventListener(e,t,WY)}function K1(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function nme(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||K1(l.addedNodes,i),o=o&&!K1(l.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function ime(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||K1(l.removedNodes,i),o=o&&!K1(l.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const lD=new Map;let qY=0;function YY(){const n=window.devicePixelRatio;n!==qY&&(qY=n,lD.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function ome(n,e,t){const i=n.canvas,r=i&&RB(i);if(!r)return;const s=Y8((l,d)=>{const f=r.clientWidth;t(l,d),f<r.clientWidth&&t()},window),o=new ResizeObserver(l=>{const d=l[0],f=d.contentRect.width,m=d.contentRect.height;0===f&&0===m||s(f,m)});return o.observe(r),function rme(n,e){lD.size||window.addEventListener("resize",YY),lD.set(n,e)}(n,s),o}function UB(n,e,t){t&&t.disconnect(),"resize"===e&&function sme(n){lD.delete(n),lD.size||window.removeEventListener("resize",YY)}(n)}function ame(n,e,t){const i=n.canvas,r=Y8(s=>{null!==n.ctx&&t(function tme(n,e){const t=Qpe[n.type]||n.type,{x:i,y:r}=xy(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function Jpe(n,e,t){n.addEventListener(e,t,WY)}(i,e,r),r}class lme extends GY{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function Xpe(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Z1]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",$Y(r)){const s=mY(n,"width");void 0!==s&&(n.width=s)}if($Y(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=mY(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Z1])return!1;const i=t[Z1].initial;["height","width"].forEach(s=>{const o=i[s];ei(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Z1],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:nme,detach:ime,resize:ome}[t]||ame)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];r&&(({attach:UB,detach:UB,resize:UB}[t]||eme)(e,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return function Kfe(n,e,t,i){const r=W1(n),s=Ey(r,"margin"),o=$1(r.maxWidth,n,"clientWidth")||V1,l=$1(r.maxHeight,n,"clientHeight")||V1,d=function Zfe(n,e,t){let i,r;if(void 0===e||void 0===t){const s=RB(n);if(s){const o=s.getBoundingClientRect(),l=W1(s),d=Ey(l,"border","width"),f=Ey(l,"padding");e=o.width-f.width-d.width,t=o.height-f.height-d.height,i=$1(l.maxWidth,s,"clientWidth"),r=$1(l.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||V1,maxHeight:r||V1}}(n,e,t);let{width:f,height:m}=d;if("content-box"===r.boxSizing){const w=Ey(r,"border","width"),x=Ey(r,"padding");f-=x.width+w.width,m-=x.height+w.height}return f=Math.max(0,f-s.width),m=Math.max(0,i?f/i:m-s.height),f=q1(Math.min(f,o,d.maxWidth)),m=q1(Math.min(m,l,d.maxHeight)),f&&!m&&(m=q1(f/2)),(void 0!==e||void 0!==t)&&i&&d.height&&m>d.height&&(m=d.height,f=q1(Math.floor(m*i))),{width:f,height:m}}(e,t,i,r)}isAttached(e){const t=RB(e);return!(!t||!t.isConnected)}}class iu{constructor(){vt(this,"x",void 0),vt(this,"y",void 0),vt(this,"active",!1),vt(this,"options",void 0),vt(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return C0(this.x)&&C0(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function Q1(n,e,t,i,r){const s=An(i,0),o=Math.min(An(r,n.length),n.length);let d,f,m,l=0;for(t=Math.ceil(t),r&&(d=r-i,t=d/Math.floor(d/t)),m=s;m<0;)l++,m=Math.round(s+l*t);for(f=Math.max(s,0);f<o;f++)f===m&&(e.push(n[f]),l++,m=Math.round(s+l*t))}vt(iu,"defaults",{}),vt(iu,"defaultRoutes",void 0);const gme=n=>"left"===n?"right":"right"===n?"left":n,ZY=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,KY=(n,e)=>Math.min(e||n,n);function QY(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function _me(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,l=1e-6;let f,d=n.getPixelForTick(r);if(!(t&&(f=1===i?Math.max(d-s,o-d):0===e?(n.getPixelForTick(1)-d)/2:(d-n.getPixelForTick(r-1))/2,d+=r<e?f:-f,d<s-l||d>o+l)))return d}function cD(n){return n.drawTicks?n.tickLength:0}function XY(n,e){if(!n.display)return 0;const t=Os(n.font,e),i=zo(n.padding);return(or(n.text)?n.text.length:1)*t.lineHeight+i.height}function wme(n,e,t){let i=CB(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=gme(i)),i}class Iy extends iu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=yl(e,Number.POSITIVE_INFINITY),t=yl(t,Number.NEGATIVE_INFINITY),i=yl(i,Number.POSITIVE_INFINITY),r=yl(r,Number.NEGATIVE_INFINITY),{min:yl(e,i),max:yl(t,r),minDefined:Yr(e),maxDefined:Yr(t)}}getMinMax(e){let o,{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let d=0,f=l.length;d<f;++d)o=l[d].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:yl(t,yl(i,t)),max:yl(i,yl(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wi(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Sfe(n,e,t){const{min:i,max:r}=n,s=N8(e,(r-i)/2),o=(l,d)=>t&&0===l?0:l+d;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?QY(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function ume(n,e){const t=n.options.ticks,i=function dme(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?function fme(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],o=s.length,l=s[0],d=s[o-1],f=[];if(o>r)return function pme(n,e,t,i){let o,r=0,s=t[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}(e,f,s,o/r),f;const m=function hme(n,e,t){const i=function mme(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=e.length/t;if(!i)return Math.max(r,1);const s=function efe(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}(i);for(let o=0,l=s.length-1;o<l;o++){const d=s[o];if(d>r)return d}return Math.max(r,1)}(s,e,r);if(o>0){let _,w;const x=o>1?Math.round((d-l)/(o-1)):null;for(Q1(e,f,m,ei(x)?0:l-x,l),_=0,w=o-1;_<w;_++)Q1(e,f,m,s[_],s[_+1]);return Q1(e,f,m,d,ei(x)?e.length:d+x),f}return Q1(e,f,m),f}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wi(this.options.afterUpdate,[this])}beforeSetDimensions(){Wi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Wi(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Wi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=KY(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let l,d,f,o=r;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const m=this._getLabelSizes(),_=m.widest.width,w=m.highest.height,x=eo(this.chart.width-_,0,this.maxWidth);l=e.offset?this.maxWidth/i:x/(i-1),_+6>l&&(l=x/(i-(e.offset?.5:1)),d=this.maxHeight-cD(e.grid)-t.padding-XY(e.title,this.chart.options.font),f=Math.sqrt(_*_+w*w),o=bB(Math.min(Math.asin(eo((m.highest.height+6)/l,-1,1)),Math.asin(eo(d/f,-1,1))-Math.asin(eo(w/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Wi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const d=XY(r,t.options.font);if(l?(e.width=this.maxWidth,e.height=cD(s)+d):(e.height=this.maxHeight,e.width=cD(s)+d),i.display&&this.ticks.length){const{first:f,last:m,widest:_,highest:w}=this._getLabelSizes(),x=2*i.padding,M=nu(this.labelRotation),k=Math.cos(M),R=Math.sin(M);l?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:R*_.width+k*w.height)+x):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:k*_.width+R*w.height)+x),this._calculatePadding(f,m,R,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:l}=this.options,d=0!==this.labelRotation,f="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,x=0;d?f?(w=r*e.width,x=i*t.height):(w=i*e.height,x=r*t.width):"start"===s?x=t.width:"end"===s?w=e.width:"inner"!==s&&(w=e.width/2,x=t.width/2),this.paddingLeft=Math.max((w-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-_+o)*this.width/(this.width-_),0)}else{let m=t.height/2,_=e.height/2;"start"===s?(m=0,_=e.height):"end"===s&&(m=t.height,_=0),this.paddingTop=m+o,this.paddingBottom=_+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)ei(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=QY(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],d=Math.floor(t/KY(t,i));let _,w,x,M,k,R,$,W,ie,re,ge,f=0,m=0;for(_=0;_<t;_+=d){if(M=e[_].label,k=this._resolveTickFontOptions(_),r.font=R=k.string,$=s[R]=s[R]||{data:{},gc:[]},W=k.lineHeight,ie=re=0,ei(M)||or(M)){if(or(M))for(w=0,x=M.length;w<x;++w)ge=M[w],!ei(ge)&&!or(ge)&&(ie=H1(r,$.data,$.gc,ie,ge),re+=W)}else ie=H1(r,$.data,$.gc,ie,M),re=W;o.push(ie),l.push(re),f=Math.max(ie,f),m=Math.max(re,m)}!function yme(n,e){vi(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}(s,t);const Ee=o.indexOf(f),Ze=l.indexOf(m),Qe=gt=>({width:o[gt]||0,height:l[gt]||0});return{first:Qe(0),last:Qe(t-1),widest:Qe(Ee),highest:Qe(Ze),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function ife(n){return eo(n,-32768,32767)}(this._alignToPixels?vy(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function vme(n,e,t){return Sm(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function bme(n,e){return Sm(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=nu(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,d=s?s.highest.height+o:0;return this.isHorizontal()?d*i>l*r?l/i:d/r:d*r<l*i?d/i:l/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,d=s.offset,f=this.isHorizontal(),_=this.ticks.length+(d?1:0),w=cD(s),x=[],M=l.setContext(this.getContext()),k=M.display?M.width:0,R=k/2,$=function(ut){return vy(i,ut,k)};let W,ie,re,ge,Ee,Ze,Qe,gt,Ut,Jt,ln,Xn;if("top"===o)W=$(this.bottom),Ze=this.bottom-w,gt=W-R,Jt=$(e.top)+R,Xn=e.bottom;else if("bottom"===o)W=$(this.top),Jt=e.top,Xn=$(e.bottom)-R,Ze=W+R,gt=this.top+w;else if("left"===o)W=$(this.right),Ee=this.right-w,Qe=W-R,Ut=$(e.left)+R,ln=e.right;else if("right"===o)W=$(this.left),Ut=e.left,ln=$(e.right)-R,Ee=W+R,Qe=this.left+w;else if("x"===t){if("center"===o)W=$((e.top+e.bottom)/2+.5);else if(Hn(o)){const ut=Object.keys(o)[0];W=$(this.chart.scales[ut].getPixelForValue(o[ut]))}Jt=e.top,Xn=e.bottom,Ze=W+R,gt=Ze+w}else if("y"===t){if("center"===o)W=$((e.left+e.right)/2);else if(Hn(o)){const ut=Object.keys(o)[0];W=$(this.chart.scales[ut].getPixelForValue(o[ut]))}Ee=W-R,Qe=Ee-w,Ut=e.left,ln=e.right}const Qr=An(r.ticks.maxTicksLimit,_),Mn=Math.max(1,Math.ceil(_/Qr));for(ie=0;ie<_;ie+=Mn){const ut=this.getContext(ie),ot=s.setContext(ut),St=l.setContext(ut),Wt=ot.lineWidth,zn=ot.color,Or=St.dash||[],$n=St.dashOffset,lr=ot.tickWidth,fn=ot.tickColor,wi=ot.tickBorderDash||[],Ba=ot.tickBorderDashOffset;re=_me(this,ie,d),void 0!==re&&(ge=vy(i,re,Wt),f?Ee=Qe=Ut=ln=ge:Ze=gt=Jt=Xn=ge,x.push({tx1:Ee,ty1:Ze,tx2:Qe,ty2:gt,x1:Ut,y1:Jt,x2:ln,y2:Xn,width:Wt,color:zn,borderDash:Or,borderDashOffset:$n,tickWidth:lr,tickColor:fn,tickBorderDash:wi,tickBorderDashOffset:Ba}))}return this._ticksLength=_,this._borderValue=W,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:f,padding:m,mirror:_}=s,w=cD(i.grid),x=w+m,M=_?-m:x,k=-nu(this.labelRotation),R=[];let $,W,ie,re,ge,Ee,Ze,Qe,gt,Ut,Jt,ln,Xn="middle";if("top"===r)Ee=this.bottom-M,Ze=this._getXAxisLabelAlignment();else if("bottom"===r)Ee=this.top+M,Ze=this._getXAxisLabelAlignment();else if("left"===r){const Mn=this._getYAxisLabelAlignment(w);Ze=Mn.textAlign,ge=Mn.x}else if("right"===r){const Mn=this._getYAxisLabelAlignment(w);Ze=Mn.textAlign,ge=Mn.x}else if("x"===t){if("center"===r)Ee=(e.top+e.bottom)/2+x;else if(Hn(r)){const Mn=Object.keys(r)[0];Ee=this.chart.scales[Mn].getPixelForValue(r[Mn])+x}Ze=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)ge=(e.left+e.right)/2-x;else if(Hn(r)){const Mn=Object.keys(r)[0];ge=this.chart.scales[Mn].getPixelForValue(r[Mn])}Ze=this._getYAxisLabelAlignment(w).textAlign}"y"===t&&("start"===d?Xn="top":"end"===d&&(Xn="bottom"));const Qr=this._getLabelSizes();for($=0,W=l.length;$<W;++$){ie=l[$],re=ie.label;const Mn=s.setContext(this.getContext($));Qe=this.getPixelForTick($)+s.labelOffset,gt=this._resolveTickFontOptions($),Ut=gt.lineHeight,Jt=or(re)?re.length:1;const ut=Jt/2,ot=Mn.color,St=Mn.textStrokeColor,Wt=Mn.textStrokeWidth;let Or,zn=Ze;if(o?(ge=Qe,"inner"===Ze&&(zn=$===W-1?this.options.reverse?"left":"right":0===$?this.options.reverse?"right":"left":"center"),ln="top"===r?"near"===f||0!==k?-Jt*Ut+Ut/2:"center"===f?-Qr.highest.height/2-ut*Ut+Ut:Ut/2-Qr.highest.height:"near"===f||0!==k?Ut/2:"center"===f?Qr.highest.height/2-ut*Ut:Qr.highest.height-Jt*Ut,_&&(ln*=-1),0!==k&&!Mn.showLabelBackdrop&&(ge+=Ut/2*Math.sin(k))):(Ee=Qe,ln=(1-Jt)*Ut/2),Mn.showLabelBackdrop){const $n=zo(Mn.backdropPadding),lr=Qr.heights[$],fn=Qr.widths[$];let wi=ln-$n.top,Ba=0-$n.left;switch(Xn){case"middle":wi-=lr/2;break;case"bottom":wi-=lr}switch(Ze){case"center":Ba-=fn/2;break;case"right":Ba-=fn}Or={left:Ba,top:wi,width:fn+$n.width,height:lr+$n.height,color:Mn.backdropColor}}R.push({label:re,font:gt,textOffset:ln,options:{rotation:k,color:ot,strokeColor:St,strokeWidth:Wt,textAlign:zn,textBaseline:Xn,translation:[ge,Ee],backdrop:Or}})}return R}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-nu(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,l=e+s,d=this._getLabelSizes().widest.width;let f,m;return"left"===t?r?(m=this.right+s,"near"===i?f="left":"center"===i?(f="center",m+=d/2):(f="right",m+=d)):(m=this.right-l,"near"===i?f="right":"center"===i?(f="center",m-=d/2):(f="left",m=this.left)):"right"===t?r?(m=this.left+s,"near"===i?f="right":"center"===i?(f="center",m-=d/2):(f="left",m-=d)):(m=this.left+l,"near"===i?f="left":"center"===i?(f="center",m+=d/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(d,f,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const d=r[s];t.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,m,_,w;this.isHorizontal()?(f=vy(e,this.left,o)-o/2,m=vy(e,this.right,l)+l/2,_=w=d):(_=vy(e,this.top,o)-o/2,w=vy(e,this.bottom,l)+l/2,f=m=d),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,_),t.lineTo(m,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&z1(i,r);const s=this.getLabelItems(e);for(const o of s)wy(i,o.label,0,o.textOffset,o.font,o.options);r&&j1(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Os(i.font),o=zo(i.padding),l=i.align;let d=s.lineHeight/2;"bottom"===t||"center"===t||Hn(t)?(d+=o.bottom,or(i.text)&&(d+=s.lineHeight*(i.text.length-1))):d+=o.top;const{titleX:f,titleY:m,maxWidth:_,rotation:w}=function Cme(n,e,t,i){const{top:r,left:s,bottom:o,right:l,chart:d}=n,{chartArea:f,scales:m}=d;let w,x,M,_=0;const k=o-r,R=l-s;if(n.isHorizontal()){if(x=Ho(i,s,l),Hn(t)){const $=Object.keys(t)[0];M=m[$].getPixelForValue(t[$])+k-e}else M="center"===t?(f.bottom+f.top)/2+k-e:ZY(n,t,e);w=l-s}else{if(Hn(t)){const $=Object.keys(t)[0];x=m[$].getPixelForValue(t[$])-R+e}else x="center"===t?(f.left+f.right)/2-R+e:ZY(n,t,e);M=Ho(i,o,r),_="left"===t?-Zr:Zr}return{titleX:x,titleY:M,maxWidth:w,rotation:_}}(this,d,t,l);wy(e,i.text,0,0,s,{color:i.color,maxWidth:_,rotation:w,textAlign:wme(l,t,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=An(e.grid&&e.grid.z,-1),r=An(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Iy.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){return Os(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class X1{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function Dme(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function Eme(n,e,t){const i=qx(Object.create(null),[t?Kr.get(t):{},Kr.get(e),n.defaults]);Kr.set(e,i),n.defaultRoutes&&function xme(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),l=o.pop(),d=o.join(".");Kr.route(s,r,d,l)})}(e,n.defaultRoutes),n.descriptors&&Kr.describe(e,n.descriptors)}(e,o,i),this.override&&Kr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Kr[r]&&(delete Kr[r][i],this.override&&delete by[i])}}class Tme{constructor(){this.controllers=new X1(Am,"datasets",!0),this.elements=new X1(iu,"elements"),this.plugins=new X1(Object,"plugins"),this.scales=new X1(Iy,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):vi(r,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,i){const r=yB(e);Wi(i["before"+r],[],i),t[e](i),Wi(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var fd=new Tme;class Ime{constructor(){this._init=[]}notify(e,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin;if(!1===Wi(o[i],[t,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){ei(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=An(i.options&&i.options.plugins,{}),s=function Sme(n){const e={},t=[],i=Object.keys(fd.plugins.items);for(let s=0;s<i.length;s++)t.push(fd.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==r||t?function Mme(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const l of e){const d=l.id,f=Ame(i[d],r);null!==f&&s.push({plugin:l,options:kme(n.config,{plugin:l,local:t[d]},f,o)})}return s}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(d=>l.plugin.id===d.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function Ame(n,e){return e||!1!==n?!0===n?{}:n:null}function kme(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function HB(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Kr.datasets[n]||{}).indexAxis||"x"}function JY(n){if("x"===n||"y"===n||"r"===n)return n}function Ome(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function zB(n,...e){if(JY(n))return n;for(const t of e){const i=t.axis||Ome(t.position)||n.length>1&&JY(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function eZ(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function tZ(n){const e=n.options||(n.options={});e.plugins=An(e.plugins,{}),e.scales=function Fme(n,e){const t=by[n.type]||{scales:{}},i=e.scales||{},r=HB(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!Hn(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=zB(o,l,function Nme(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return eZ(n,"x",t[0])||eZ(n,"y",t[0])}return{}}(o,n),Kr.scales[l.type]),f=function Pme(n,e){return n===e?"_index_":"_value_"}(d,r),m=t.scales||{};s[o]=Yx(Object.create(null),[{axis:d},l,m[d],m[f]])}),n.data.datasets.forEach(o=>{const l=o.type||n.type,d=o.indexAxis||HB(l,e),m=(by[l]||{}).scales||{};Object.keys(m).forEach(_=>{const w=function Rme(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(_,d),x=o[w+"AxisID"]||w;s[x]=s[x]||Object.create(null),Yx(s[x],[{axis:w},i[x],m[_]])})}),Object.keys(s).forEach(o=>{const l=s[o];Yx(l,[Kr.scales[l.type],Kr.scale])}),s}(n,e)}function nZ(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const iZ=new Map,rZ=new Set;function J1(n,e){let t=iZ.get(n);return t||(t=e(),iZ.set(n,t),rZ.add(t)),t}const uD=(n,e,t)=>{const i=Dm(e,t);void 0!==i&&n.add(i)};class Vme{constructor(e){this._config=function Lme(n){return(n=n||{}).data=nZ(n.data),tZ(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nZ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tZ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return J1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return J1(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return J1(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return J1(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),l=o.get(t);if(l)return l;const d=new Set;t.forEach(m=>{e&&(d.add(e),m.forEach(_=>uD(d,e,_))),m.forEach(_=>uD(d,r,_)),m.forEach(_=>uD(d,by[s]||{},_)),m.forEach(_=>uD(d,Kr,_)),m.forEach(_=>uD(d,DB,_))});const f=Array.from(d);return 0===f.length&&f.push(Object.create(null)),rZ.has(t)&&o.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,by[t]||{},Kr.datasets[t]||{},{type:t},Kr,DB]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=sZ(this._resolverCache,e,r);let d=o;(function Ume(n,e){const{isScriptable:t,isIndexable:i}=sY(n);for(const r of e){const s=t(r),o=i(r),l=(o||s)&&n[r];if(s&&(Tm(l)||Bme(l))||o&&or(l))return!0}return!1})(o,t)&&(s.$shared=!1,d=E0(o,i=Tm(i)?i():i,this.createResolver(e,i,l)));for(const f of t)s[f]=d[f];return s}createResolver(e,t,i=[""],r){const{resolver:s}=sZ(this._resolverCache,e,i);return Hn(t)?E0(s,t,void 0,r):s}}function sZ(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:AB(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Bme=n=>Hn(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Tm(n[t]),!1),zme=["top","bottom","left","right","chartArea"];function oZ(n,e){return"top"===n||"bottom"===n||-1===zme.indexOf(n)&&"x"===e}function aZ(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function lZ(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wi(t&&t.onComplete,[n],e)}function jme(n){const e=n.chart,t=e.options.animation;Wi(t&&t.onProgress,[n],e)}function cZ(n){return fY()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ek={},uZ=n=>{const e=cZ(n);return Object.values(ek).filter(t=>t.canvas===e).pop()};function Gme(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}let jB=(()=>{class n{static register(...t){fd.add(...t),dZ()}static unregister(...t){fd.remove(...t),dZ()}constructor(t,i){const r=this.config=new Vme(i),s=cZ(t),o=uZ(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function cme(n){return!fY()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Kpe:lme}(s)),this.platform.updateConfig(r);const d=this.platform.acquireContext(s,l.aspectRatio),f=d&&d.canvas,m=f&&f.height,_=f&&f.width;this.id=$he(),this.ctx=d,this.canvas=f,this.width=_,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ime,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function afe(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(w=>this.update(w),l.resizeDelay||0),this._dataChanges=[],ek[this.id]=this,d&&f?(tf.listen(this,"complete",lZ),tf.listen(this,"progress",jme),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return ei(t)?i&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return fd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pY(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nY(this.canvas,this.ctx),this}stop(){return tf.stop(this),this}resize(t,i){tf.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const r=this.options,l=this.platform.getMaximumSize(this.canvas,t,i,r.maintainAspectRatio&&this.aspectRatio),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,pY(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Wi(r.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){vi(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,i=t.scales,r=this.scales,s=Object.keys(r).reduce((l,d)=>(l[d]=!1,l),{});let o=[];i&&(o=o.concat(Object.keys(i).map(l=>{const d=i[l],f=zB(l,d),m="r"===f,_="x"===f;return{options:d,dposition:m?"chartArea":_?"bottom":"left",dtype:m?"radialLinear":_?"category":"linear"}}))),vi(o,l=>{const d=l.options,f=d.id,m=zB(f,d),_=An(d.type,l.dtype);(void 0===d.position||oZ(d.position,m)!==oZ(l.dposition))&&(d.position=l.dposition),s[f]=!0;let w=null;f in r&&r[f].type===_?w=r[f]:(w=new(fd.getScale(_))({id:f,type:_,ctx:this.ctx,chart:this}),r[w.id]=w),w.init(d,t)}),vi(s,(l,d)=>{l||delete r[d]}),vi(r,l=>{jo.configure(this,l,l.options),jo.addBox(this,l)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(aZ("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,s)=>{0===i.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){const o=i[r];let l=this.getDatasetMeta(r);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=d,l.indexAxis=o.indexAxis||HB(d,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const f=fd.getController(d),{datasetElementType:m,dataElementType:_}=Kr.datasets[d];Object.assign(f,{dataElementType:fd.getElement(_),datasetElementType:m&&fd.getElement(m)}),l.controller=new f(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){vi(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,_=this.data.datasets.length;m<_;m++){const{controller:w}=this.getDatasetMeta(m),x=!s&&-1===o.indexOf(w);w.buildOrUpdateElements(x),l=Math.max(+w.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||vi(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(aZ("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){vi(this.scales,t=>{jo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!V8(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of i)Gme(t,s,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!V8(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;jo.update(this,this.width,this.height,t);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],vi(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Tm(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(tf.has(this)?this.attached&&!tf.running(this)&&tf.start(this):(this.draw(),lZ({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,r=[];let s,o;for(s=0,o=i.length;s<o;++s){const l=i[s];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,r=t._clip,s=!r.disabled,o=function Wme(n){const{xScale:e,yScale:t}=n;if(e&&t)return{left:e.left,right:e.right,top:t.top,bottom:t.bottom}}(t)||this.chartArea,l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(s&&z1(i,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&j1(i),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return ef(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,s){const o=zpe.modes[i];return"function"==typeof o?o(this,t,r,s):[]}getDatasetMeta(t){const i=this.data.datasets[t],r=this._metasets;let s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Sm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(t,i){this.getDatasetMeta(t).hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){const s=r?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Zx(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(o,{visible:r}),this.update(d=>d.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),tf.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),nY(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete ek[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,r=(o,l)=>{i.addEventListener(this,o,l),t[o]=l},s=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};vi(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,r=(f,m)=>{i.addEventListener(this,f,m),t[f]=m},s=(f,m)=>{t[f]&&(i.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let l;const d=()=>{s("attach",d),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",d)},i.isAttached(this.canvas)?d():l()}unbindEvents(){vi(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},vi(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){const s=r?"set":"remove";let o,l,d,f;for("dataset"===i&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],r=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!F1(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter(i=>i.plugin.id===t).length}_updateHoverStyles(t,i,r){const s=this.options.hover,o=(f,m)=>f.filter(_=>!m.some(w=>_.datasetIndex===w.datasetIndex&&_.index===w.index)),l=o(i,t),d=r?t:o(t,i);l.length&&this.updateHoverStyle(l,s.mode,!1),d.length&&s.mode&&this.updateHoverStyle(d,s.mode,!0)}_eventHandler(t,i){const r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){const{_active:s=[],options:o}=this,d=this._getActiveElements(t,s,r,i),f=function Qhe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),m=function $me(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(t,this._lastEvent,r,f);r&&(this._lastEvent=null,Wi(o.onHover,[t,d,this],this),f&&Wi(o.onClick,[t,d,this],this));const _=!F1(d,s);return(_||i)&&(this._active=d,this._updateHoverStyles(d,s,i)),this._lastEvent=m,_}_getActiveElements(t,i,r,s){if("mouseout"===t.type)return[];if(!r)return i;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return vt(n,"defaults",Kr),vt(n,"instances",ek),vt(n,"overrides",by),vt(n,"registry",fd),vt(n,"version","4.3.0"),vt(n,"getChart",uZ),n})();function dZ(){return vi(jB.instances,n=>n._plugins.invalidate())}function T0(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function tk(n,e,t,i,r,s){const{x:o,y:l,startAngle:d,pixelMargin:f,innerRadius:m}=e,_=Math.max(e.outerRadius+i+t-f,0),w=m>0?m+i+t+f:0;let x=0;const M=r-d;if(i){const ot=((m>0?m-i:0)+(_>0?_-i:0))/2;x=(M-(0!==ot?M*ot/(ot+i):M))/2}const R=(M-Math.max(.001,M*_-t/Er)/_)/2,$=d+R+x,W=r-R-x,{outerStart:ie,outerEnd:re,innerStart:ge,innerEnd:Ee}=function Zme(n,e,t,i){const r=function Yme(n){return SB(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),l=d=>{const f=(t-Math.min(s,d))*i/2;return eo(d,0,Math.min(s,f))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:eo(r.innerStart,0,o),innerEnd:eo(r.innerEnd,0,o)}}(e,w,_,W-$),Ze=_-ie,Qe=_-re,gt=$+ie/Ze,Ut=W-re/Qe,Jt=w+ge,ln=w+Ee,Xn=$+ge/Jt,Qr=W-Ee/ln;if(n.beginPath(),s){const Mn=(gt+Ut)/2;if(n.arc(o,l,_,gt,Mn),n.arc(o,l,_,Mn,Ut),re>0){const Wt=T0(Qe,Ut,o,l);n.arc(Wt.x,Wt.y,re,Ut,W+Zr)}const ut=T0(ln,W,o,l);if(n.lineTo(ut.x,ut.y),Ee>0){const Wt=T0(ln,Qr,o,l);n.arc(Wt.x,Wt.y,Ee,W+Zr,Qr+Math.PI)}const ot=(W-Ee/w+($+ge/w))/2;if(n.arc(o,l,w,W-Ee/w,ot,!0),n.arc(o,l,w,ot,$+ge/w,!0),ge>0){const Wt=T0(Jt,Xn,o,l);n.arc(Wt.x,Wt.y,ge,Xn+Math.PI,$-Zr)}const St=T0(Ze,$,o,l);if(n.lineTo(St.x,St.y),ie>0){const Wt=T0(Ze,gt,o,l);n.arc(Wt.x,Wt.y,ie,$-Zr,gt)}}else{n.moveTo(o,l);const Mn=Math.cos(gt)*_+o,ut=Math.sin(gt)*_+l;n.lineTo(Mn,ut);const ot=Math.cos(Ut)*_+o,St=Math.sin(Ut)*_+l;n.lineTo(ot,St)}n.closePath()}class dD extends iu{constructor(e){super(),vt(this,"circumference",void 0),vt(this,"endAngle",void 0),vt(this,"fullCircles",void 0),vt(this,"innerRadius",void 0),vt(this,"outerRadius",void 0),vt(this,"pixelMargin",void 0),vt(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=j8(r,{x:e,y:t}),{startAngle:l,endAngle:d,innerRadius:f,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=(this.options.spacing+this.options.borderWidth)/2,M=An(_,d-l)>=ar||Qx(s,l,d),k=Xh(o,f+w,m+w);return M&&k}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,m=(r+s)/2,_=(o+l+f+d)/2;return{x:t+Math.cos(m)*_,y:i+Math.sin(m)*_}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>ar?Math.floor(i/ar):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const f=r*(1-Math.sin(Math.min(Er,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function Kme(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:l}=e;let d=e.endAngle;if(s){tk(n,e,t,i,d,r);for(let f=0;f<s;++f)n.fill();isNaN(l)||(d=o+(l%ar||ar))}tk(n,e,t,i,d,r),n.fill()}(e,this,f,s,o),function Qme(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:l,options:d}=e,{borderWidth:f,borderJoinStyle:m,borderDash:_,borderDashOffset:w}=d,x="inner"===d.borderAlign;if(!f)return;n.setLineDash(_||[]),n.lineDashOffset=w,x?(n.lineWidth=2*f,n.lineJoin=m||"round"):(n.lineWidth=f,n.lineJoin=m||"bevel");let M=e.endAngle;if(s){tk(n,e,t,i,M,r);for(let k=0;k<s;++k)n.stroke();isNaN(l)||(M=o+(l%ar||ar))}x&&function qme(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:d}=e;let f=r/l;n.beginPath(),n.arc(s,o,l,i-f,t+f),d>r?(f=r/d,n.arc(s,o,d,t+f,i-f,!0)):n.arc(s,o,r,t+Zr,i-Zr),n.closePath(),n.clip()}(n,e,M),s||(tk(n,e,t,i,M,r),n.stroke())}(e,this,f,s,o),e.restore()}}function hZ(n,e,t=e){n.lineCap=An(t.borderCapStyle,e.borderCapStyle),n.setLineDash(An(t.borderDash,e.borderDash)),n.lineDashOffset=An(t.borderDashOffset,e.borderDashOffset),n.lineJoin=An(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=An(t.borderWidth,e.borderWidth),n.strokeStyle=An(t.borderColor,e.borderColor)}function Xme(n,e,t){n.lineTo(t.x,t.y)}function fZ(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:l}=e,d=Math.max(r,o),f=Math.min(s,l);return{count:i,start:d,loop:e.loop,ilen:f<d&&!(r<o&&s<o||r>l&&s>l)?i+f-d:f-d}}function ege(n,e,t,i){const{points:r,options:s}=e,{count:o,start:l,loop:d,ilen:f}=fZ(r,t,i),m=function Jme(n){return n.stepped?bfe:n.tension||"monotone"===n.cubicInterpolationMode?vfe:Xme}(s);let x,M,k,{move:_=!0,reverse:w}=i||{};for(x=0;x<=f;++x)M=r[(l+(w?f-x:x))%o],!M.skip&&(_?(n.moveTo(M.x,M.y),_=!1):m(n,k,M,w,s.stepped),k=M);return d&&(M=r[(l+(w?f:0))%o],m(n,k,M,w,s.stepped)),!!d}function tge(n,e,t,i){const r=e.points,{count:s,start:o,ilen:l}=fZ(r,t,i),{move:d=!0,reverse:f}=i||{};let w,x,M,k,R,$,m=0,_=0;const W=re=>(o+(f?l-re:re))%s,ie=()=>{k!==R&&(n.lineTo(m,R),n.lineTo(m,k),n.lineTo(m,$))};for(d&&(x=r[W(0)],n.moveTo(x.x,x.y)),w=0;w<=l;++w){if(x=r[W(w)],x.skip)continue;const re=x.x,ge=x.y,Ee=0|re;Ee===M?(ge<k?k=ge:ge>R&&(R=ge),m=(_*m+re)/++_):(ie(),n.lineTo(re,ge),M=Ee,_=0,k=R=ge),$=ge}ie()}function GB(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?ege:tge}vt(dD,"id","arc"),vt(dD,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),vt(dD,"defaultRoutes",{backgroundColor:"backgroundColor"}),vt(dD,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n});const sge="function"==typeof Path2D;let nk=(()=>{class n extends iu{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(Gfe(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function spe(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:l}=function ipe(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}(t,r,s,i);return function CY(n,e,t,i){return i&&i.setContext&&t?function ope(n,e,t,i){const r=n._chart.getContext(),s=EY(n.options),{_datasetIndex:o,options:{spanGaps:l}}=n,d=t.length,f=[];let m=s,_=e[0].start,w=_;function x(M,k,R,$){const W=l?-1:1;if(M!==k){for(M+=d;t[M%d].skip;)M-=W;for(;t[k%d].skip;)k+=W;M%d!=k%d&&(f.push({start:M%d,end:k%d,loop:R,style:$}),m=$,_=k%d)}}for(const M of e){_=l?_:M.start;let R,k=t[_%d];for(w=_+1;w<=M.end;w++){const $=t[w%d];R=EY(i.setContext(Sm(r,{type:"segment",p0:k,p1:$,p0DataIndex:(w-1)%d,p1DataIndex:w%d,datasetIndex:o}))),ape(R,m)&&x(_,w-1,M.loop,m),k=$,m=R}_<w-1&&x(_,w-1,M.loop,m)}return f}(n,e,t,i):e}(n,!0===i?[{start:o,end:l,loop:s}]:function rpe(n,e,t,i){const r=n.length,s=[];let d,o=e,l=n[e];for(d=e+1;d<=t;++d){const f=n[d%r];f.skip||f.stop?l.skip||(s.push({start:e%r,end:(d-1)%r,loop:i=!1}),e=o=f.stop?d:null):(o=d,l.skip&&(e=d)),l=f}return null!==o&&s.push({start:e%r,end:o%r,loop:i}),s}(t,o,l<o?l+r:l,!!n._fullLoop&&0===o&&l===r-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,i){const r=this.options,s=t[i],o=this.points,l=wY(this,{property:i,start:s,end:s});if(!l.length)return;const d=[],f=function nge(n){return n.stepped?Xfe:n.tension||"monotone"===n.cubicInterpolationMode?Jfe:Dy}(r);let m,_;for(m=0,_=l.length;m<_;++m){const{start:w,end:x}=l[m],M=o[w],k=o[x];if(M===k){d.push(M);continue}const $=f(M,k,Math.abs((s-M[i])/(k[i]-M[i])),r.stepped);$[i]=t[i],d.push($)}return 1===d.length?d[0]:d}pathSegment(t,i,r){return GB(this)(t,this,i,r)}path(t,i,r){const s=this.segments,o=GB(this);let l=this._loop;i=i||0,r=r||this.points.length-i;for(const d of s)l&=o(t,this,d,{start:i,end:i+r-1});return!!l}draw(t,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function oge(n,e,t,i){sge&&!e.options.segment?function ige(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),hZ(n,e.options),n.stroke(r)}(n,e,t,i):function rge(n,e,t,i){const{segments:r,options:s}=e,o=GB(e);for(const l of r)hZ(n,s,l.style),n.beginPath(),o(n,e,l,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return vt(n,"id","line"),vt(n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),vt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),vt(n,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e}),n})();function pZ(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}let age=(()=>{class n extends iu{constructor(t){super(),vt(this,"parsed",void 0),vt(this,"skip",void 0),vt(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return pZ(this,t,"x",i)}inYRange(t,i){return pZ(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!ef(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,IB(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return vt(n,"id","point"),vt(n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),vt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),n})();function mZ(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let l,d,f,m,_;return n.horizontal?(_=o/2,l=Math.min(t,r),d=Math.max(t,r),f=i-_,m=i+_):(_=s/2,l=t-_,d=t+_,f=Math.min(i,r),m=Math.max(i,r)),{left:l,top:f,right:d,bottom:m}}function Mm(n,e,t,i){return n?0:eo(e,t,i)}function $B(n,e,t,i){const r=null===e,s=null===t,l=n&&!(r&&s)&&mZ(n,i);return l&&(r||Xh(e,l.left,l.right))&&(s||Xh(t,l.top,l.bottom))}function hge(n,e){n.rect(e.x,e.y,e.w,e.h)}function WB(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-r),radius:n.radius}}class ik extends iu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=function uge(n){const e=mZ(n),t=e.right-e.left,i=e.bottom-e.top,r=function lge(n,e,t){const r=n.borderSkipped,s=rY(n.options.borderWidth);return{t:Mm(r.top,s.top,0,t),r:Mm(r.right,s.right,0,e),b:Mm(r.bottom,s.bottom,0,t),l:Mm(r.left,s.left,0,e)}}(n,t/2,i/2),s=function cge(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Cy(r),o=Math.min(e,t),l=n.borderSkipped,d=i||Hn(r);return{topLeft:Mm(!d||l.top||l.left,s.topLeft,0,o),topRight:Mm(!d||l.top||l.right,s.topRight,0,o),bottomLeft:Mm(!d||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:Mm(!d||l.bottom||l.right,s.bottomRight,0,o)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function dge(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?tD:hge;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),l(e,WB(o,t,s)),e.clip(),l(e,WB(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,WB(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return $B(this,e,t,i)}inXRange(e,t){return $B(this,e,null,t)}inYRange(e,t){return $B(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}vt(ik,"id","bar"),vt(ik,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),vt(ik,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var fge=Object.freeze({__proto__:null,ArcElement:dD,BarElement:ik,LineElement:nk,PointElement:age});const qB=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],gZ=qB.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function _Z(n){return qB[n%qB.length]}function yZ(n){return gZ[n%gZ.length]}function bZ(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var bge={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!t.forceOverride&&(bZ(i)||function yge(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&bZ(s)))return;const o=function _ge(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof FB?e=function mge(n,e){return n.backgroundColor=n.data.map(()=>_Z(e++)),e}(t,e):r instanceof LY?e=function gge(n,e){return n.backgroundColor=n.data.map(()=>yZ(e++)),e}(t,e):r&&(e=function pge(n,e){return n.borderColor=_Z(e),n.backgroundColor=yZ(e),++e}(t,e))}}(n);i.forEach(o)}};function vZ(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function wZ(n){n.data.datasets.forEach(e=>{vZ(e)})}var Ege={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void wZ(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:l}=r,d=n.getDatasetMeta(s),f=o||r.data;if("y"===nD([l,n.options.indexAxis])||!d.controller.supportsDecimation)return;const m=n.scales[d.xAxisID];if("linear"!==m.type&&"time"!==m.type||n.options.parsing)return;let M,{start:_,count:w}=function Cge(n,e){const t=e.length;let r,i=0;const{iScale:s}=n,{min:o,max:l,minDefined:d,maxDefined:f}=s.getUserBounds();return d&&(i=eo(Jh(e,s.axis,o).lo,0,t-1)),r=f?eo(Jh(e,s.axis,l).hi+1,i,t)-i:t-i,{start:i,count:r}}(d,f);if(w<=(t.threshold||4*i))vZ(r);else{switch(ei(o)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}})),t.algorithm){case"lttb":M=function vge(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],l=(t-2)/(s-2);let d=0;const f=e+t-1;let _,w,x,M,k,m=e;for(o[d++]=n[m],_=0;_<s-2;_++){let W,R=0,$=0;const ie=Math.floor((_+1)*l)+1+e,re=Math.min(Math.floor((_+2)*l)+1,t)+e,ge=re-ie;for(W=ie;W<re;W++)R+=n[W].x,$+=n[W].y;R/=ge,$/=ge;const Ee=Math.floor(_*l)+1+e,Ze=Math.min(Math.floor((_+1)*l)+1,t)+e,{x:Qe,y:gt}=n[m];for(x=M=-1,W=Ee;W<Ze;W++)M=.5*Math.abs((Qe-R)*(n[W].y-gt)-(Qe-n[W].x)*($-gt)),M>x&&(x=M,w=n[W],k=W);o[d++]=w,m=k}return o[d++]=n[f],o}(f,_,w,i,t);break;case"min-max":M=function wge(n,e,t,i){let o,l,d,f,m,_,w,x,M,k,r=0,s=0;const R=[],W=n[e].x,re=n[e+t-1].x-W;for(o=e;o<e+t;++o){l=n[o],d=(l.x-W)/re*i,f=l.y;const ge=0|d;if(ge===m)f<M?(M=f,_=o):f>k&&(k=f,w=o),r=(s*r+l.x)/++s;else{const Ee=o-1;if(!ei(_)&&!ei(w)){const Ze=Math.min(_,w),Qe=Math.max(_,w);Ze!==x&&Ze!==Ee&&R.push({...n[Ze],x:r}),Qe!==x&&Qe!==Ee&&R.push({...n[Qe],x:r})}o>0&&Ee!==x&&R.push(n[Ee]),R.push(l),m=ge,s=0,M=k=f,_=w=x=o}}return R}(f,_,w,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=M}})},destroy(n){wZ(n)}};function YB(n,e,t,i){if(i)return;let r=e[n],s=t[n];return"angle"===n&&(r=bl(r),s=bl(s)),{property:n,start:r,end:s}}function ZB(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function CZ(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function EZ(n,e){let t=[],i=!1;return or(n)?(i=!0,t=n):t=function Dge(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:l})=>{l=ZB(o,l,r);const d=r[o],f=r[l];null!==i?(s.push({x:d.x,y:i}),s.push({x:f.x,y:i})):null!==t&&(s.push({x:t,y:d.y}),s.push({x:t,y:f.y}))}),s}(n,e),t.length?new nk({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function xZ(n){return n&&!1!==n.fill}function Tge(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Yr(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Ige(n,e,t){const i=function kge(n){const e=n.options,t=e.fill;let i=An(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Hn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Yr(r)&&Math.floor(r)===r?function Sge(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Oge(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:l,point:d}=Nge(s,e,"x");if(!(!d||o&&l))if(o)i.unshift(d);else if(n.push(d),!l)break}n.push(...i)}function Nge(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let l=!1,d=!1;for(let f=0;f<s.length;f++){const m=s[f],_=o[m.start][t],w=o[m.end][t];if(Xh(r,_,w)){l=r===_,d=r===w;break}}return{first:l,last:d,point:i}}class DZ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return e.arc(r,s,o,(t=t||{start:0,end:ar}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function KB(n,e,t){const i=function Fge(n){const{chart:e,fill:t,line:i}=n;if(Yr(t))return function Lge(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function Rge(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,l=function Pge(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);l.push(EZ({x:null,y:e.bottom},i));for(let d=0;d<s.length;d++){const f=s[d];for(let m=f.start;m<=f.end;m++)Oge(r,o[m],l)}return new nk({points:r,options:{}})}(n);if("shape"===t)return!0;const r=function Vge(n){return(n.scale||{}).getPointPositionForValue?function Uge(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=function Mge(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Hn(n)?n.value:e.getBaseValue(),i}(t,e,s),l=[];if(i.grid.circular){const d=e.getPointPositionForValue(0,s);return new DZ({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(o)})}for(let d=0;d<r;++d)l.push(e.getPointPositionForValue(d,o));return l}(n):function Bge(n){const{scale:e={},fill:t}=n,i=function Age(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Hn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(Yr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof DZ?r:EZ(r,i)}(e),{line:r,scale:s,axis:o}=e,l=r.options,d=l.fill,f=l.backgroundColor,{above:m=f,below:_=f}=d||{};i&&r.points.length&&(z1(n,t),function Hge(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:l}=e,d=t._loop?"angle":e.axis;n.save(),"x"===d&&s!==r&&(TZ(n,i,o.top),IZ(n,{line:t,target:i,color:r,scale:l,property:d}),n.restore(),n.save(),TZ(n,i,o.bottom)),IZ(n,{line:t,target:i,color:s,scale:l,property:d}),n.restore()}(n,{line:r,target:i,above:m,below:_,area:t,scale:s,axis:o}),j1(n))}function TZ(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const l of i){const{start:d,end:f}=l,m=r[d],_=r[ZB(d,f,r)];s?(n.moveTo(m.x,m.y),s=!1):(n.lineTo(m.x,t),n.lineTo(m.x,m.y)),o=!!e.pathSegment(n,l,{move:o}),o?n.closePath():n.lineTo(_.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function IZ(n,e){const{line:t,target:i,property:r,color:s,scale:o}=e,l=function xge(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const l of i){let{start:d,end:f}=l;f=ZB(d,f,r);const m=YB(t,r[d],r[f],l.loop);if(!e.segments){o.push({source:l,target:m,start:r[d],end:r[f]});continue}const _=wY(e,m);for(const w of _){const x=YB(t,s[w.start],s[w.end],w.loop),M=vY(l,r,x);for(const k of M)o.push({source:k,target:w,start:{[t]:CZ(m,x,"start",Math.max)},end:{[t]:CZ(m,x,"end",Math.min)}})}}return o}(t,i,r);for(const{source:d,target:f,start:m,end:_}of l){const{style:{backgroundColor:w=s}={}}=d,x=!0!==i;n.save(),n.fillStyle=w,zge(n,o,x&&YB(r,m,_)),n.beginPath();const M=!!t.pathSegment(n,d);let k;if(x){M?n.closePath():SZ(n,i,_,r);const R=!!i.pathSegment(n,f,{move:M,reverse:!0});k=M&&R,k||SZ(n,i,m,r)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function zge(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:l}=t||{};"x"===s&&(n.beginPath(),n.rect(o,i,l-o,r-i),n.clip())}function SZ(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var jge={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,l,d;for(o=0;o<i;++o)s=n.getDatasetMeta(o),l=s.dataset,d=null,l&&l.options&&l instanceof nk&&(d={visible:n.isDatasetVisible(o),index:o,fill:Ige(l,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=d,r.push(d);for(o=0;o<i;++o)d=r[o],d&&!1!==d.fill&&(d.fill=Tge(r,o,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&KB(n.ctx,l,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;xZ(s)&&KB(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!xZ(i)||"beforeDatasetDraw"!==t.drawTime||KB(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const AZ=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class MZ extends iu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Wi(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,r=Os(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=AZ(i,s);let f,m;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(o,s,l,d)+10):(m=this.maxHeight,f=this._fitCols(o,r,l,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+l;let _=e;s.textAlign="left",s.textBaseline="middle";let w=-1,x=-m;return this.legendItems.forEach((M,k)=>{const R=i+t/2+s.measureText(M.text).width;(0===k||f[f.length-1]+R+2*l>o)&&(_+=m,f[f.length-(k>0?0:1)]=0,x+=m,w++),d[k]={left:0,top:x,row:w,width:R,height:r},f[f.length-1]+=R+l}),_}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],m=o-e;let _=l,w=0,x=0,M=0,k=0;return this.legendItems.forEach((R,$)=>{const{itemWidth:W,itemHeight:ie}=function $ge(n,e,t,i,r){const s=function Wge(n,e,t,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}(i,n,e,t),o=function qge(n,e,t){let i=n;return"string"!=typeof e.text&&(i=kZ(e,t)),i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(i,t,s,R,r);$>0&&x+ie+2*l>m&&(_+=w+l,f.push({width:w,height:x}),M+=w+l,k++,w=x=0),d[$]={left:M,top:x,col:k,width:W,height:ie},w=Math.max(w,W),x+=ie+l}),_+=w,f.push({width:w,height:x}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=D0(s,this.left,this.width);if(this.isHorizontal()){let l=0,d=Ho(i,this.left+r,this.right-this.lineWidths[l]);for(const f of t)l!==f.row&&(l=f.row,d=Ho(i,this.left+r,this.right-this.lineWidths[l])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(d),f.width),d+=f.width+r}else{let l=0,d=Ho(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const f of t)f.col!==l&&(l=f.col,d=Ho(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),f.top=d,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;z1(e,this),this._draw(),j1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,l=Kr.color,d=D0(e.rtl,this.left,this.width),f=Os(o.font),{padding:m}=o,_=f.size,w=_/2;let x;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:M,boxHeight:k,itemHeight:R}=AZ(o,_),ie=this.isHorizontal(),re=this._computeTitleHeight();x=ie?{x:Ho(s,this.left+m,this.right-i[0]),y:this.top+m+re,line:0}:{x:this.left+m,y:Ho(s,this.top+re+m,this.bottom-t[0].height),line:0},gY(this.ctx,e.textDirection);const ge=R+m;this.legendItems.forEach((Ee,Ze)=>{r.strokeStyle=Ee.fontColor,r.fillStyle=Ee.fontColor;const Qe=r.measureText(Ee.text).width,gt=d.textAlign(Ee.textAlign||(Ee.textAlign=o.textAlign)),Ut=M+w+Qe;let Jt=x.x,ln=x.y;d.setWidth(this.width),ie?Ze>0&&Jt+Ut+m>this.right&&(ln=x.y+=ge,x.line++,Jt=x.x=Ho(s,this.left+m,this.right-i[x.line])):Ze>0&&ln+ge>this.bottom&&(Jt=x.x=Jt+t[x.line].width+m,x.line++,ln=x.y=Ho(s,this.top+re+m,this.bottom-t[x.line].height)),function(Ee,Ze,Qe){if(isNaN(M)||M<=0||isNaN(k)||k<0)return;r.save();const gt=An(Qe.lineWidth,1);if(r.fillStyle=An(Qe.fillStyle,l),r.lineCap=An(Qe.lineCap,"butt"),r.lineDashOffset=An(Qe.lineDashOffset,0),r.lineJoin=An(Qe.lineJoin,"miter"),r.lineWidth=gt,r.strokeStyle=An(Qe.strokeStyle,l),r.setLineDash(An(Qe.lineDash,[])),o.usePointStyle){const Ut={radius:k*Math.SQRT2/2,pointStyle:Qe.pointStyle,rotation:Qe.rotation,borderWidth:gt},Jt=d.xPlus(Ee,M/2);iY(r,Ut,Jt,Ze+w,o.pointStyleWidth&&M)}else{const Ut=Ze+Math.max((_-k)/2,0),Jt=d.leftForLtr(Ee,M),ln=Cy(Qe.borderRadius);r.beginPath(),Object.values(ln).some(Xn=>0!==Xn)?tD(r,{x:Jt,y:Ut,w:M,h:k,radius:ln}):r.rect(Jt,Ut,M,k),r.fill(),0!==gt&&r.stroke()}r.restore()}(d.x(Jt),ln,Ee),Jt=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(gt,Jt+M+w,ie?Jt+Ut:this.right,e.rtl),function(Ee,Ze,Qe){wy(r,Qe.text,Ee,Ze+R/2,f,{strikethrough:Qe.hidden,textAlign:d.textAlign(Qe.textAlign)})}(d.x(Jt),ln,Ee),ie?x.x+=Ut+m:x.y+="string"!=typeof Ee.text?kZ(Ee,f.lineHeight):ge}),_Y(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Os(t.font),r=zo(t.padding);if(!t.display)return;const s=D0(e.rtl,this.left,this.width),o=this.ctx,l=t.position,f=r.top+i.size/2;let m,_=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),m=this.top+f,_=Ho(e.align,_,this.right-w);else{const M=this.columnSizes.reduce((k,R)=>Math.max(k,R.height),0);m=f+Ho(e.align,this.top,this.bottom-M-e.labels.padding-this._computeTitleHeight())}const x=Ho(l,_,_+w);o.textAlign=s.textAlign(CB(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,wy(o,t.text,x,m,i)}_computeTitleHeight(){const e=this.options.title,t=Os(e.font),i=zo(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Xh(e,this.left,this.right)&&Xh(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Xh(e,r.left,r.left+r.width)&&Xh(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function Yge(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(r,i);r&&!s&&Wi(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Wi(t.onHover,[e,i,this],this)}else i&&Wi(t.onClick,[e,i,this],this)}}function kZ(n,e){return e*(n.text?n.text.length+.5:0)}var Zge={id:"legend",_element:MZ,start(n,e,t){const i=n.legend=new MZ({ctx:n.ctx,options:t,chart:n});jo.configure(n,i,t),jo.addBox(n,i)},stop(n){jo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;jo.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),m=zo(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(l||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class QB extends iu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=or(i.text)?i.text.length:1;this._padding=zo(i.padding);const s=r*Os(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,l=o.align;let f,m,_,d=0;return this.isHorizontal()?(m=Ho(l,i,s),_=t+e,f=s-i):("left"===o.position?(m=i+e,_=Ho(l,r,t),d=-.5*Er):(m=s-e,_=Ho(l,t,r),d=.5*Er),f=r-t),{titleX:m,titleY:_,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Os(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:d,rotation:f}=this._drawArgs(s);wy(e,t.text,0,0,i,{color:t.color,maxWidth:d,rotation:f,textAlign:CB(t.align),textBaseline:"middle",translation:[o,l]})}}var Qge={id:"title",_element:QB,start(n,e,t){!function Kge(n,e){const t=new QB({ctx:n.ctx,options:e,chart:n});jo.configure(n,t,e),jo.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){jo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;jo.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rk=new WeakMap;var Xge={id:"subtitle",start(n,e,t){const i=new QB({ctx:n.ctx,options:t,chart:n});jo.configure(n,i,t),jo.addBox(n,i),rk.set(n,i)},stop(n){jo.removeBox(n,rk.get(n)),rk.delete(n)},beforeUpdate(n,e,t){const i=rk.get(n);jo.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hD={average(n){if(!n.length)return!1;let e,t,i=0,r=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i+=l.x,r+=l.y,++s}}return{x:i/s,y:r/s}},nearest(n,e){if(!n.length)return!1;let s,o,l,t=e.x,i=e.y,r=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const d=n[s].element;if(d&&d.hasValue()){const m=vB(e,d.getCenterPoint());m<r&&(r=m,l=d)}}if(l){const d=l.tooltipPosition();t=d.x,i=d.y}return{x:t,y:i}}};function pd(n,e){return e&&(or(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function nf(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Jge(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function RZ(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:l}=e,d=Os(e.bodyFont),f=Os(e.titleFont),m=Os(e.footerFont),_=s.length,w=r.length,x=i.length,M=zo(e.padding);let k=M.height,R=0,$=i.reduce((re,ge)=>re+ge.before.length+ge.lines.length+ge.after.length,0);$+=n.beforeBody.length+n.afterBody.length,_&&(k+=_*f.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),$&&(k+=x*(e.displayColors?Math.max(l,d.lineHeight):d.lineHeight)+($-x)*d.lineHeight+($-1)*e.bodySpacing),w&&(k+=e.footerMarginTop+w*m.lineHeight+(w-1)*e.footerSpacing);let W=0;const ie=function(re){R=Math.max(R,t.measureText(re).width+W)};return t.save(),t.font=f.string,vi(n.title,ie),t.font=d.string,vi(n.beforeBody.concat(n.afterBody),ie),W=e.displayColors?o+2+e.boxPadding:0,vi(i,re=>{vi(re.before,ie),vi(re.lines,ie),vi(re.after,ie)}),W=0,t.font=m.string,vi(n.footer,ie),t.restore(),R+=M.width,{width:R,height:k}}function n_e(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:l,right:d}}=n;let f="center";return"center"===i?f=r<=(l+d)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),function t_e(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if("left"===n&&r+s+o>e.width||"right"===n&&r-s-o<0)return!0}(f,n,e,t)&&(f="center"),f}function PZ(n,e,t){const i=t.yAlign||e.yAlign||function e_e(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||n_e(n,e,t,i),yAlign:i}}function OZ(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:l,yAlign:d}=t,f=r+s,{topLeft:m,topRight:_,bottomLeft:w,bottomRight:x}=Cy(o);let M=function i_e(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,l);const k=function r_e(n,e,t){let{y:i,height:r}=n;return"top"===e?i+=t:i-="bottom"===e?r+t:r/2,i}(e,d,f);return"center"===d?"left"===l?M+=f:"right"===l&&(M-=f):"left"===l?M-=Math.max(m,w)+r:"right"===l&&(M+=Math.max(_,x)+r),{x:eo(M,0,i.width-e.width),y:eo(k,0,i.height-e.height)}}function sk(n,e,t){const i=zo(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function NZ(n){return pd([],nf(n))}function FZ(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const LZ={beforeTitle:Qh,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Qh,beforeBody:Qh,beforeLabel:Qh,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ei(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Qh,afterBody:Qh,beforeFooter:Qh,footer:Qh,afterFooter:Qh};function La(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?LZ[e].call(t,i):r}let VZ=(()=>{class n extends iu{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new DY(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function s_e(n,e,t){return Sm(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,s=La(r,"beforeTitle",this,t),o=La(r,"title",this,t),l=La(r,"afterTitle",this,t);let d=[];return d=pd(d,nf(s)),d=pd(d,nf(o)),d=pd(d,nf(l)),d}getBeforeBody(t,i){return NZ(La(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:r}=i,s=[];return vi(t,o=>{const l={before:[],lines:[],after:[]},d=FZ(r,o);pd(l.before,nf(La(d,"beforeLabel",this,o))),pd(l.lines,La(d,"label",this,o)),pd(l.after,nf(La(d,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,i){return NZ(La(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:r}=i,s=La(r,"beforeFooter",this,t),o=La(r,"footer",this,t),l=La(r,"afterFooter",this,t);let d=[];return d=pd(d,nf(s)),d=pd(d,nf(o)),d=pd(d,nf(l)),d}_createItems(t){const i=this._active,r=this.chart.data,s=[],o=[],l=[];let f,m,d=[];for(f=0,m=i.length;f<m;++f)d.push(Jge(this.chart,i[f]));return t.filter&&(d=d.filter((_,w,x)=>t.filter(_,w,x,r))),t.itemSort&&(d=d.sort((_,w)=>t.itemSort(_,w,r))),vi(d,_=>{const w=FZ(t.callbacks,_);s.push(La(w,"labelColor",this,_)),o.push(La(w,"labelPointStyle",this,_)),l.push(La(w,"labelTextColor",this,_))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,i){const r=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(s.length){const d=hD[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const f=this._size=RZ(this,r),m=Object.assign({},d,f),_=PZ(this.chart,r,m),w=OZ(r,m,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:w.x,y:w.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){const o=this.getCaretPosition(t,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:d}=r,{topLeft:f,topRight:m,bottomLeft:_,bottomRight:w}=Cy(d),{x,y:M}=t,{width:k,height:R}=i;let $,W,ie,re,ge,Ee;return"center"===o?(ge=M+R/2,"left"===s?($=x,W=$-l,re=ge+l,Ee=ge-l):($=x+k,W=$+l,re=ge-l,Ee=ge+l),ie=$):(W="left"===s?x+Math.max(f,_)+l:"right"===s?x+k-Math.max(m,w)-l:this.caretX,"top"===o?(re=M,ge=re-l,$=W-l,ie=W+l):(re=M+R,ge=re+l,$=W+l,ie=W-l),Ee=re),{x1:$,x2:W,x3:ie,y1:re,y2:ge,y3:Ee}}drawTitle(t,i,r){const s=this.title,o=s.length;let l,d,f;if(o){const m=D0(r.rtl,this.x,this.width);for(t.x=sk(this,r.titleAlign,r),i.textAlign=m.textAlign(r.titleAlign),i.textBaseline="middle",l=Os(r.titleFont),d=r.titleSpacing,i.fillStyle=r.titleColor,i.font=l.string,f=0;f<o;++f)i.fillText(s[f],m.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===o&&(t.y+=r.titleMarginBottom-d)}}_drawColorBox(t,i,r,s,o){const l=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:f,boxWidth:m}=o,_=Os(o.bodyFont),w=sk(this,"left",o),x=s.x(w),k=i.y+(f<_.lineHeight?(_.lineHeight-f)/2:0);if(o.usePointStyle){const R={radius:Math.min(m,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},$=s.leftForLtr(x,m)+m/2,W=k+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,IB(t,R,$,W),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,IB(t,R,$,W)}else{t.lineWidth=Hn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const R=s.leftForLtr(x,m),$=s.leftForLtr(s.xPlus(x,1),m-2),W=Cy(l.borderRadius);Object.values(W).some(ie=>0!==ie)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,tD(t,{x:R,y:k,w:m,h:f,radius:W}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),tD(t,{x:$,y:k+1,w:m-2,h:f-2,radius:W}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(R,k,m,f),t.strokeRect(R,k,m,f),t.fillStyle=l.backgroundColor,t.fillRect($,k+1,m-2,f-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:m,boxPadding:_}=r,w=Os(r.bodyFont);let x=w.lineHeight,M=0;const k=D0(r.rtl,this.x,this.width),R=function(gt){i.fillText(gt,k.x(t.x+M),t.y+x/2),t.y+=x+o},$=k.textAlign(l);let W,ie,re,ge,Ee,Ze,Qe;for(i.textAlign=l,i.textBaseline="middle",i.font=w.string,t.x=sk(this,$,r),i.fillStyle=r.bodyColor,vi(this.beforeBody,R),M=d&&"right"!==$?"center"===l?m/2+_:m+2+_:0,ge=0,Ze=s.length;ge<Ze;++ge){for(W=s[ge],ie=this.labelTextColors[ge],i.fillStyle=ie,vi(W.before,R),re=W.lines,d&&re.length&&(this._drawColorBox(i,t,ge,k,r),x=Math.max(w.lineHeight,f)),Ee=0,Qe=re.length;Ee<Qe;++Ee)R(re[Ee]),x=w.lineHeight;vi(W.after,R)}M=0,x=w.lineHeight,vi(this.afterBody,R),t.y-=o}drawFooter(t,i,r){const s=this.footer,o=s.length;let l,d;if(o){const f=D0(r.rtl,this.x,this.width);for(t.x=sk(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=f.textAlign(r.footerAlign),i.textBaseline="middle",l=Os(r.footerFont),i.fillStyle=r.footerColor,i.font=l.string,d=0;d<o;++d)i.fillText(s[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){const{xAlign:o,yAlign:l}=this,{x:d,y:f}=t,{width:m,height:_}=r,{topLeft:w,topRight:x,bottomLeft:M,bottomRight:k}=Cy(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(d+w,f),"top"===l&&this.drawCaret(t,i,r,s),i.lineTo(d+m-x,f),i.quadraticCurveTo(d+m,f,d+m,f+x),"center"===l&&"right"===o&&this.drawCaret(t,i,r,s),i.lineTo(d+m,f+_-k),i.quadraticCurveTo(d+m,f+_,d+m-k,f+_),"bottom"===l&&this.drawCaret(t,i,r,s),i.lineTo(d+M,f+_),i.quadraticCurveTo(d,f+_,d,f+_-M),"center"===l&&"left"===o&&this.drawCaret(t,i,r,s),i.lineTo(d,f+w),i.quadraticCurveTo(d,f,d+w,f),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const l=hD[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=RZ(this,t),f=Object.assign({},l,this._size),m=PZ(i,t,f),_=OZ(t,f,m,i);(s._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=zo(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,i),gY(t,i.textDirection),o.y+=l.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),_Y(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,s=t.map(({datasetIndex:d,index:f})=>{const m=this.chart.getDatasetMeta(d);if(!m)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:m.data[f],index:f}}),o=!F1(r,s),l=this._positionChanged(s,i);(o||l)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,i,r),d=this._positionChanged(l,t),f=i||!F1(l,o)||d;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),f}_getActiveElements(t,i,r,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return i;const l=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(t,i){const{caretX:r,caretY:s,options:o}=this,l=hD[o.position].call(this,t,i);return!1!==l&&(r!==l.x||s!==l.y)}}return vt(n,"positioners",hD),n})();var o_e={id:"tooltip",_element:VZ,positioners:hD,afterInit(n,e,t){t&&(n.tooltip=new VZ({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:LZ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},a_e=Object.freeze({__proto__:null,Colors:bge,Decimation:Ege,Filler:jge,Legend:Zge,SubTitle:Xge,Title:Qge,Tooltip:o_e});function BZ(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}let d_e=(()=>{class n extends Iy{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(ei(t))return null;const r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:function c_e(n,e,t,i){const r=n.indexOf(e);return-1===r?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):r!==n.lastIndexOf(e)?t:r}(r,t,An(i,t),this._addedLabels),((n,e)=>null===n?null:eo(Math.round(n),0,e))(i,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,i=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=0===t&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=i;l++)s.push({value:l});return s}getLabelForValue(t){return BZ.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return vt(n,"id","category"),vt(n,"defaults",{ticks:{callback:BZ}}),n})();function UZ(n,e,{horizontal:t,minRotation:i}){const r=nu(i),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(e/s,.75*e*(""+n).length)}class ok extends Iy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ei(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=d=>r=t?r:d,l=d=>s=i?s:d;if(e){const d=hd(r),f=hd(s);d<0&&f<0?l(0):d>0&&f>0&&o(0)}if(r===s){let d=0===s?1:Math.abs(.05*s);l(s+d),e||o(r-d)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=e;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function h_e(n,e){const t=[],{bounds:r,step:s,min:o,max:l,precision:d,count:f,maxTicks:m,maxDigits:_,includeBounds:w}=n,x=s||1,M=m-1,{min:k,max:R}=e,$=!ei(o),W=!ei(l),ie=!ei(f),re=(R-k)/(_+1);let Ee,Ze,Qe,gt,ge=U8((R-k)/M/x)*x;if(ge<1e-14&&!$&&!W)return[{value:k},{value:R}];gt=Math.ceil(R/ge)-Math.floor(k/ge),gt>M&&(ge=U8(gt*ge/M/x)*x),ei(d)||(Ee=Math.pow(10,d),ge=Math.ceil(ge*Ee)/Ee),"ticks"===r?(Ze=Math.floor(k/ge)*ge,Qe=Math.ceil(R/ge)*ge):(Ze=k,Qe=R),$&&W&&s&&function tfe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((l-o)/s,ge/1e3)?(gt=Math.round(Math.min((l-o)/ge,m)),ge=(l-o)/gt,Ze=o,Qe=l):ie?(Ze=$?o:Ze,Qe=W?l:Qe,gt=f-1,ge=(Qe-Ze)/gt):(gt=(Qe-Ze)/ge,gt=Kx(gt,Math.round(gt),ge/1e3)?Math.round(gt):Math.ceil(gt));const Ut=Math.max(z8(ge),z8(Ze));Ee=Math.pow(10,ei(d)?Ut:d),Ze=Math.round(Ze*Ee)/Ee,Qe=Math.round(Qe*Ee)/Ee;let Jt=0;for($&&(w&&Ze!==o?(t.push({value:o}),Ze<o&&Jt++,Kx(Math.round((Ze+Jt*ge)*Ee)/Ee,o,UZ(o,re,n))&&Jt++):Ze<o&&Jt++);Jt<gt;++Jt){const ln=Math.round((Ze+Jt*ge)*Ee)/Ee;if(W&&ln>l)break;t.push({value:ln})}return W&&w&&Qe!==l?t.length&&Kx(t[t.length-1].value,l,UZ(l,re,n))?t[t.length-1].value=l:t.push({value:l}):(!W||Qe===l)&&t.push({value:Qe}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&H8(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Jx(e,this.chart.options.locale,this.options.ticks.format)}}class XB extends ok{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yr(e)?e:0,this.max=Yr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=nu(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}vt(XB,"id","linear"),vt(XB,"defaults",{ticks:{callback:U1.formatters.numeric}});const fD=n=>Math.floor(Im(n)),Sy=(n,e)=>Math.pow(10,fD(n)+e);function HZ(n){return n/Math.pow(10,fD(n))==1}function zZ(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}class JB extends Iy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=ok.prototype.parse.apply(this,[e,t]);if(0!==i)return Yr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yr(e)?Math.max(0,e):null,this.max=Yr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Yr(this._userMin)&&(this.min=e===Sy(this.min,0)?Sy(this.min,-1):Sy(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=e?i:l,o=l=>r=t?r:l;i===r&&(i<=0?(s(1),o(10)):(s(Sy(i,-1)),o(Sy(r,1)))),i<=0&&s(Sy(r,-1)),r<=0&&o(Sy(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,i=function p_e(n,{min:e,max:t}){e=yl(n.min,e);const i=[],r=fD(e);let s=function f_e(n,e){let i=fD(e-n);for(;zZ(n,e,i)>10;)i++;for(;zZ(n,e,i)<10;)i--;return Math.min(i,fD(n))}(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),d=r>s?Math.pow(10,r):0,f=Math.round((e-d)*o)/o,m=Math.floor((e-d)/l/10)*l*10;let _=Math.floor((f-m)/Math.pow(10,s)),w=yl(n.min,Math.round((d+m+_*Math.pow(10,s))*o)/o);for(;w<t;)i.push({value:w,major:HZ(w),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(s++,_=2,o=s>=0?1:o),w=Math.round((d+m+_*Math.pow(10,s))*o)/o;const x=yl(n.max,w);return i.push({value:x,major:HZ(x),significand:_}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&H8(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":Jx(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Im(e),this._valueRange=Im(this.max)-Im(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Im(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function eU(n){const e=n.ticks;if(e.display&&n.display){const t=zo(e.backdropPadding);return An(e.font&&e.font.size,Kr.font.size)+t.height}return 0}function m_e(n,e,t){return t=or(t)?t:[t],{w:yfe(n,e.string,t),h:t.length*e.lineHeight}}function jZ(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function __e(n,e,t,i,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let l=0,d=0;i.start<e.l?(l=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+l)),r.start<e.t?(d=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-d)):r.end>e.b&&(d=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+d))}function y_e(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=t,d=n.getPointPosition(e,i+r+o,s),f=Math.round(bB(bl(d.angle+Zr))),m=function E_e(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(d.y,l.h,f),_=function w_e(n){return 0===n||180===n?"center":n<180?"left":"right"}(f),w=function C_e(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(d.x,l.w,_);return{visible:!0,x:d.x,y:m,textAlign:_,left:w,top:m,right:w+l.w,bottom:m+l.h}}function b_e(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(ef({x:t,y:i},e)||ef({x:t,y:s},e)||ef({x:r,y:i},e)||ef({x:r,y:s},e))}function x_e(n,e,t){const{left:i,top:r,right:s,bottom:o}=t,{backdropColor:l}=e;if(!ei(l)){const d=Cy(e.borderRadius),f=zo(e.backdropPadding);n.fillStyle=l;const m=i-f.left,_=r-f.top,w=s-i+f.width,x=o-r+f.height;Object.values(d).some(M=>0!==M)?(n.beginPath(),tD(n,{x:m,y:_,w,h:x,radius:d}),n.fill()):n.fillRect(m,_,w,x)}}function GZ(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,ar);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}vt(JB,"id","logarithmic"),vt(JB,"defaults",{ticks:{callback:U1.formatters.logarithmic,major:{enabled:!0}}});class pD extends ok{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=zo(eU(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Yr(e)&&!isNaN(e)?e:0,this.max=Yr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/eU(this.options))}generateTickLabels(e){ok.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=Wi(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function g_e(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,l=o.centerPointLabels?Er/s:0;for(let d=0;d<s;d++){const f=o.setContext(n.getPointLabelContext(d));r[d]=f.padding;const m=n.getPointPosition(d,n.drawingArea+r[d],l),_=Os(f.font),w=m_e(n.ctx,_,n._pointLabels[d]);i[d]=w;const x=bl(n.getIndexAngle(d)+l),M=Math.round(bB(x));__e(t,e,x,jZ(M,m.x,w.w,0,180),jZ(M,m.y,w.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function v_e(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:l}=s.pointLabels,d={extra:eU(s)/2,additionalAngle:o?Er/r:0};let f;for(let m=0;m<r;m++){d.padding=t[m],d.size=e[m];const _=y_e(n,m,d);i.push(_),"auto"===l&&(_.visible=b_e(_,f),_.visible&&(f=_))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){return bl(e*(ar/(this._pointLabels.length||1))+nu(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ei(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ei(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function I_e(n,e,t){return Sm(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-Zr+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),GZ(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length;let l,d,f;if(t.pointLabels.display&&function D_e(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(r));x_e(t,o,s);const l=Os(o.font),{x:d,y:f,textAlign:m}=s;wy(t,n._pointLabels[r],d,f+l.lineHeight/2,l,{color:o.color,textAlign:m,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((m,_)=>{if(0!==_){d=this.getDistanceFromCenterForValue(m.value);const w=this.getContext(_),x=r.setContext(w),M=s.setContext(w);!function T_e(n,e,t,i,r){const s=n.ctx,o=e.circular,{color:l,lineWidth:d}=e;!o&&!i||!l||!d||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=d,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),GZ(n,t,o,i),s.closePath(),s.stroke(),s.restore())}(this,x,d,o,M)}}),i.display){for(e.save(),l=o-1;l>=0;l--){const m=i.setContext(this.getPointLabelContext(l)),{color:_,lineWidth:w}=m;!w||!_||(e.lineWidth=w,e.strokeStyle=_,e.setLineDash(m.borderDash),e.lineDashOffset=m.borderDashOffset,d=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),f=this.getPointPosition(l,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,d)=>{if(0===d&&!t.reverse)return;const f=i.setContext(this.getContext(d)),m=Os(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){e.font=m.string,o=e.measureText(l.label).width,e.fillStyle=f.backdropColor;const _=zo(f.backdropPadding);e.fillRect(-o/2-_.left,-s-m.size/2-_.top,o+_.width,m.size+_.height)}wy(e,l.label,0,-s,m,{color:f.color})}),e.restore()}drawTitle(){}}vt(pD,"id","radialLinear"),vt(pD,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:U1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}}),vt(pD,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),vt(pD,"descriptors",{angleLines:{_fallback:"grid"}});const ak={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Va=Object.keys(ak);function S_e(n,e){return n-e}function $Z(n,e){if(ei(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof i&&(o=i(o)),Yr(o)||(o="string"==typeof i?t.parse(o,i):t.parse(o)),null===o?null:(r&&(o="week"!==r||!C0(s)&&!0!==s?t.startOf(o,r):t.startOf(o,"isoWeek",s)),+o)}function WZ(n,e,t,i){const r=Va.length;for(let s=Va.indexOf(n);s<r-1;++s){const o=ak[Va[s]];if(o.common&&Math.ceil((t-e)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=i)return Va[s]}return Va[r-1]}function qZ(n,e,t){if(t){if(t.length){const{lo:i,hi:r}=wB(t,e);n[t[i]>=e?t[i]:t[r]]=!0}}else n[e]=!0}function YZ(n,e,t){const i=[],r={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],r[l]=o,i.push({value:l,major:!1});return 0!==s&&t?function k_e(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let l,d;for(l=s;l<=o;l=+r.add(l,1,i))d=t[l],d>=0&&(e[d].major=!0);return e}(n,i,r,t):i}let tU=(()=>{class n extends Iy{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const r=t.time||(t.time={}),s=this._adapter=new Lpe__date(t.adapters.date);s.init(i),Yx(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:$Z(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(m){!l&&!isNaN(m.min)&&(s=Math.min(s,m.min)),!d&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!l||!d)&&(f(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&f(this.getMinMax(!1))),s=Yr(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Yr(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,d=function sfe(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,o,this.max);return this._unit=i.unit||(r.autoSkip?WZ(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function A_e(n,e,t,i,r){for(let s=Va.length-1;s>=Va.indexOf(t);s--){const o=Va[s];if(ak[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Va[t?Va.indexOf(t):0]}(this,d.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function M_e(n){for(let e=Va.indexOf(n)+1,t=Va.length;e<t;++e)if(ak[Va[e]].common)return Va[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&d.reverse(),YZ(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,i=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),i=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),r=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;i=eo(i,0,l),r=eo(r,0,l),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,l=o.unit||WZ(o.minUnit,i,r,this._getLabelCapacity(i)),d=An(s.ticks.stepSize,1),f="week"===l&&o.isoWeekday,m=C0(f)||!0===f,_={};let x,M,w=i;if(m&&(w=+t.startOf(w,"isoWeek",f)),w=+t.startOf(w,m?"day":l),t.diff(r,i,l)>1e5*d)throw new Error(i+" and "+r+" are too far apart with stepSize of "+d+" "+l);const k="data"===s.ticks.source&&this.getDataTimestamps();for(x=w,M=0;x<r;x=+t.add(x,d,l),M++)qZ(_,x,k);return(x===r||"ticks"===s.bounds||1===M)&&qZ(_,x,k),Object.keys(_).sort((R,$)=>R-$).map(R=>+R)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(t,i){return this._adapter.format(t,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,i,r,s){const o=this.options,l=o.ticks.callback;if(l)return Wi(l,[t,i,r],this);const d=o.time.displayFormats,f=this._unit,m=this._majorUnit,w=m&&d[m],x=r[i];return this._adapter.format(t,s||(m&&w&&x&&x.major?w:f&&d[f]))}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,s=nu(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),l=Math.sin(s),d=this._resolveTickFontOptions(0).size;return{w:r*o+d*l,h:r*l+d*o}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,YZ(this,[t],this._majorUnit),s),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let i,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push($Z(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return W8(t.sort(S_e))}}return vt(n,"id","time"),vt(n,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),n})();function lk(n,e,t){let s,o,l,d,i=0,r=n.length-1;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Jh(n,"pos",e)),({pos:s,time:l}=n[i]),({pos:o,time:d}=n[r])):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Jh(n,"time",e)),({time:s,pos:l}=n[i]),({time:o,pos:d}=n[r]));const f=o-s;return f?l+(d-l)*(e-s)/f:l}class nU extends tU{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=lk(t,this.min),this._tableRange=lk(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,l,d,f,m;for(o=0,l=e.length;o<l;++o)f=e[o],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)m=r[o+1],d=r[o-1],f=r[o],Math.round((m+d)/2)!==f&&s.push({time:f,pos:o/(l-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(lk(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return lk(this._table,i*this._tableRange+this._minPos,!0)}}vt(nU,"id","timeseries"),vt(nU,"defaults",tU.defaults),jB.register(Fpe,fge,a_e,Object.freeze({__proto__:null,CategoryScale:d_e,LinearScale:XB,LogarithmicScale:JB,RadialLinearScale:pD,TimeScale:tU,TimeSeriesScale:nU}));const iU=jB;let O_e=(()=>{class n{constructor(t){this.database=t,this.labelsD=["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.labelsH=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"],p_(Wu(this.database,"reservations/"),i=>{this.reservaciones=[],this.reservacionesAux=[],i.forEach(r=>{this.reservaciones.push(r.val()),this.reservacionesAux.push(r.key)}),this.crearGraficas()})}crearGraficas(){this.diaVal={Lunes:0,Martes:0,Miercoles:0,Jueves:0,Viernes:0,Sabado:0},this.hrsVal={"8:00":0,"9:00":0,"10:00":0,"11:00":0,"12:00":0,"13:00":0,"14:00":0,"15:00":0,"16:00":0,"17:00":0,"18:00":0,"19:00":0,"20:00":0,"21:00":0,"22:00":0},this.obtenerV();const t=document.getElementById("barChartDay"),i=document.getElementById("barChartHrs");iU.defaults.color="#fff",new iU(t,{type:"bar",data:{datasets:[{label:"Numero de reservaciones por dia",data:this.diaVal,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,grid:{color:"rgba(161, 158, 158, 0.849)"}},x:{grid:{color:"rgba(161, 158, 158, 0.849)"}}}}}),new iU(i,{type:"bar",data:{datasets:[{label:"Numero de reservaciones por hora",data:this.hrsVal,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,grid:{color:"rgba(161, 158, 158, 0.849)"}},x:{grid:{color:"rgba(161, 158, 158, 0.849)"}}}}})}obtenerV(){for(let t of this.reservaciones){switch(t.dia){case"lunes":this.diaVal.Lunes++;break;case"martes":this.diaVal.Martes++;break;case"miercoles":this.diaVal.Miercoles++;break;case"jueves":this.diaVal.Jueves++;break;case"viernes":this.diaVal.Viernes++;break;case"sabado":this.diaVal.Sabado++}switch(t.hora){case 8:this.hrsVal["8:00"]++;break;case 9:this.hrsVal["9:00"]++;break;case 10:this.hrsVal["10:00"]++;break;case 11:this.hrsVal["11:00"]++;break;case 12:this.hrsVal["12:00"]++;break;case 13:this.hrsVal["13:00"]++;break;case 14:this.hrsVal["14:00"]++;break;case 15:this.hrsVal["15:00"]++;break;case 16:this.hrsVal["16:00"]++;break;case 17:this.hrsVal["17:00"]++;break;case 18:this.hrsVal["18:00"]++;break;case 19:this.hrsVal["19:00"]++;break;case 20:this.hrsVal["20:00"]++;break;case 21:this.hrsVal["21:00"]++;break;case 22:this.hrsVal["22:00"]++}}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-bar-chart"]],decls:3,vars:0,consts:[[1,"contenedor"],["id","barChartDay"],["id","barChartHrs"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"canvas",1)(2,"canvas",2),a.qZA())},styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-align:center}canvas[_ngcontent-%COMP%]{width:75%;margin:2rem auto}"]}),n})();const rf=function(n){return{collapsed:n}},sf=function(n){return{display:n}},N_e=[{path:"home",component:wee},{path:"menu",component:Mee},{path:"about",component:kee},{path:"reservar",component:uae},{path:"reporte",component:yhe},{path:"noticias",component:pae},{path:"faq",component:(()=>{class n{constructor(){this.accordionCtrl1=!1,this.accordionCtrl2=!1,this.accordionCtrl3=!1,this.accordionCtrl4=!1,this.accordionCtrl5=!1,this.accordionCtrl6=!1,this.accordionCtrl7=!1,this.accordionCtrl8=!1,this.accordionCtrl9=!1}collapse(t){switch(t){case 1:this.accordionCtrl1=!this.accordionCtrl1,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 2:this.accordionCtrl2=!this.accordionCtrl2,(this.accordionCtrl1||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl1=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 3:this.accordionCtrl3=!this.accordionCtrl3,(this.accordionCtrl2||this.accordionCtrl1||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl1=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 4:this.accordionCtrl4=!this.accordionCtrl4,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl1||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl1=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 5:this.accordionCtrl5=!this.accordionCtrl5,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl1||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl1=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 6:this.accordionCtrl6=!this.accordionCtrl6,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl1||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl1=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 7:this.accordionCtrl7=!this.accordionCtrl7,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl1||this.accordionCtrl8||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl1=this.accordionCtrl8=this.accordionCtrl9=!1);break;case 8:this.accordionCtrl8=!this.accordionCtrl8,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl1||this.accordionCtrl9)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl1=this.accordionCtrl9=!1);break;case 8:this.accordionCtrl9=!this.accordionCtrl9,(this.accordionCtrl2||this.accordionCtrl3||this.accordionCtrl4||this.accordionCtrl5||this.accordionCtrl6||this.accordionCtrl7||this.accordionCtrl8||this.accordionCtrl1)&&(this.accordionCtrl2=this.accordionCtrl3=this.accordionCtrl4=this.accordionCtrl5=this.accordionCtrl6=this.accordionCtrl7=this.accordionCtrl8=this.accordionCtrl1=!1)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-faq"]],decls:67,vars:63,consts:[[1,"contenedor"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","heading1",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1","aria-controls","collapse1",1,"btn-secondary","accordion-button",3,"ngClass","click"],["id","collapse1","aria-labelledby","heading1","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],[1,"accordion-body"],["id","heading2",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2","aria-controls","collapse2",1,"accordion-button",3,"ngClass","click"],["id","collapse2","aria-labelledby","heading2","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading3",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse3","aria-controls","collapse3",1,"accordion-button",3,"ngClass","click"],["id","collapse3","aria-labelledby","heading3","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading4",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse4","aria-controls","collapse4",1,"accordion-button",3,"ngClass","click"],["id","collapse4","aria-labelledby","heading4","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading5",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse5","aria-controls","collapse5",1,"accordion-button",3,"ngClass","click"],["id","collapse5","aria-labelledby","heading5","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading6",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse6","aria-controls","collapse6",1,"accordion-button",3,"ngClass","click"],["id","collapse6","aria-labelledby","heading6","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading7",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse7","aria-controls","collapse7",1,"accordion-button",3,"ngClass","click"],["id","collapse7","aria-labelledby","heading7","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading8",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse8","aria-controls","collapse8",1,"accordion-button",3,"ngClass","click"],["id","collapse8","aria-labelledby","heading8","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"],["id","heading9",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse9","aria-controls","collapse9",1,"accordion-button",3,"ngClass","click"],["id","collapse9","aria-labelledby","heading9","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngStyle"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Prequntas Frecuentes"),a.qZA(),a.TgZ(3,"div",1)(4,"div",2)(5,"h2",3)(6,"button",4),a.NdJ("click",function(){return i.collapse(1)}),a._uU(7," Me gustar\xeda hacer una reservaci\xf3n \xbfQu\xe9 debo hacer? "),a.qZA()(),a.TgZ(8,"div",5)(9,"div",6),a._uU(10," Para realizar una reservaci\xf3n es necesario tener una cuenta registrada, si cumple con ese requisito, inicie sesi\xf3n y despu\xe9s entre en la opci\xf3n de \u201cReservar\u201d en la barra de navegaci\xf3n, en el caso de no tener una cuenta registrada, favor de registrarse y continuar con el proceso anteriormente mencionado. "),a.qZA()()(),a.TgZ(11,"div",2)(12,"h2",7)(13,"button",8),a.NdJ("click",function(){return i.collapse(2)}),a._uU(14," \xbfCu\xe1ndo puedo hacer una reserva? "),a.qZA()(),a.TgZ(15,"div",9)(16,"div",6),a._uU(17," Cualquier d\xeda y hora que este disponible. "),a.qZA()()(),a.TgZ(18,"div",2)(19,"h2",10)(20,"button",11),a.NdJ("click",function(){return i.collapse(3)}),a._uU(21," \xbfLos ni\xf1os est\xe1n incluidos en el n\xfamero de personas de la reserva? "),a.qZA()(),a.TgZ(22,"div",12)(23,"div",6),a._uU(24," Si, ni\xf1os deber\xe1n ser considerados al momento de ingresar el n\xfamero de visitantes. "),a.qZA()()(),a.TgZ(25,"div",2)(26,"h2",13)(27,"button",14),a.NdJ("click",function(){return i.collapse(4)}),a._uU(28," \xbfPuedo cambiar el n\xfamero de personas en mi reserva despu\xe9s de completar la reserva? "),a.qZA()(),a.TgZ(29,"div",15)(30,"div",6),a._uU(31," No, una vez que se hace la reservaci\xf3n no se pueden generar cambios. "),a.qZA()()(),a.TgZ(32,"div",2)(33,"h2",16)(34,"button",17),a.NdJ("click",function(){return i.collapse(5)}),a._uU(35," \xbfPuedo cancelar mi reserva? "),a.qZA()(),a.TgZ(36,"div",18)(37,"div",6),a._uU(38," Es posible cancelar una reservaci\xf3n, dentro de la opci\xf3n \u201cReporte de Reservaciones\u201d se encontrar\xe1(n) su(s) reservaci\xf3n(es), ah\xed tendr\xe1 la oportunidad de cancelarla. En caso de tener m\xfaltiples reservaciones tener cuidado de cancelar la correcta. "),a.qZA()()(),a.TgZ(39,"div",2)(40,"h2",19)(41,"button",20),a.NdJ("click",function(){return i.collapse(6)}),a._uU(42," \xbfTiene sillas para beb\xe9s? "),a.qZA()(),a.TgZ(43,"div",21)(44,"div",6),a._uU(45," El establecimiento tiene sillas para bebes disponibles, aunque limitadas. "),a.qZA()()(),a.TgZ(46,"div",2)(47,"h2",22)(48,"button",23),a.NdJ("click",function(){return i.collapse(7)}),a._uU(49," \xbfPuedes fumar? "),a.qZA()(),a.TgZ(50,"div",24)(51,"div",6),a._uU(52," No, fumar esta estrictamente prohibido dentro del establecimiento. "),a.qZA()()(),a.TgZ(53,"div",2)(54,"h2",25)(55,"button",26),a.NdJ("click",function(){return i.collapse(8)}),a._uU(56," \xbfPuedo llevar a mi mascota conmigo? "),a.qZA()(),a.TgZ(57,"div",27)(58,"div",6),a._uU(59," Si, aunque no podr\xe1 acompa\xf1arle en la mesa y tendr\xe1 que estar dentro del \xe1rea de mascotas disponible en el establecimiento. "),a.qZA()()(),a.TgZ(60,"div",2)(61,"h2",28)(62,"button",29),a.NdJ("click",function(){return i.collapse(9)}),a._uU(63," \xbfPuedo llegar al establecimiento sin reservaci\xf3n? "),a.qZA()(),a.TgZ(64,"div",30)(65,"div",6),a._uU(66," Es posible que haya otras mesas disponibles al presentarse sin reservaci\xf3n, pero tener una reservaci\xf3n es la \xfanica manera de garantizar un espacio. "),a.qZA()()()()()),2&t&&(a.xp6(6),a.Q6J("ngClass",a.VKq(27,rf,!i.accordionCtrl1)),a.uIk("aria-expanded",i.accordionCtrl1),a.xp6(2),a.Q6J("ngStyle",a.VKq(29,sf,i.accordionCtrl1?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(31,rf,!i.accordionCtrl2)),a.uIk("aria-expanded",i.accordionCtrl2),a.xp6(2),a.Q6J("ngStyle",a.VKq(33,sf,i.accordionCtrl2?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(35,rf,!i.accordionCtrl3)),a.uIk("aria-expanded",i.accordionCtrl3),a.xp6(2),a.Q6J("ngStyle",a.VKq(37,sf,i.accordionCtrl3?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(39,rf,!i.accordionCtrl4)),a.uIk("aria-expanded",i.accordionCtrl4),a.xp6(2),a.Q6J("ngStyle",a.VKq(41,sf,i.accordionCtrl4?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(43,rf,!i.accordionCtrl5)),a.uIk("aria-expanded",i.accordionCtrl5),a.xp6(2),a.Q6J("ngStyle",a.VKq(45,sf,i.accordionCtrl5?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(47,rf,!i.accordionCtrl6)),a.uIk("aria-expanded",i.accordionCtrl6),a.xp6(2),a.Q6J("ngStyle",a.VKq(49,sf,i.accordionCtrl6?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(51,rf,!i.accordionCtrl7)),a.uIk("aria-expanded",i.accordionCtrl7),a.xp6(2),a.Q6J("ngStyle",a.VKq(53,sf,i.accordionCtrl7?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(55,rf,!i.accordionCtrl8)),a.uIk("aria-expanded",i.accordionCtrl8),a.xp6(2),a.Q6J("ngStyle",a.VKq(57,sf,i.accordionCtrl8?"block":"none")),a.xp6(5),a.Q6J("ngClass",a.VKq(59,rf,!i.accordionCtrl9)),a.uIk("aria-expanded",i.accordionCtrl9),a.xp6(2),a.Q6J("ngStyle",a.VKq(61,sf,i.accordionCtrl9?"block":"none")))},dependencies:[V,la],styles:[".contenedor[_ngcontent-%COMP%]{width:90%;background-color:#faebd73b;margin:2.5% auto 0;padding:2%;color:#fff;text-shadow:.1rem .2rem black;text-align:center}.accordion[_ngcontent-%COMP%]{width:85%;margin:auto}.accordion-header[_ngcontent-%COMP%]{margin:0}.accordion-button[_ngcontent-%COMP%], .accordion-body[_ngcontent-%COMP%]{background-color:#3c3e3f;color:#fff;text-shadow:.1rem .2rem black}.accordion-body[_ngcontent-%COMP%]{text-align:justify}"]}),n})()},{path:"busqueda/:item",component:_ae},{path:"login",component:vae},{path:"registro",component:ghe},{path:"products",component:vhe},{path:"graficas",component:O_e},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let F_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[$H.forRoot(N_e,{scrollPositionRestoration:"enabled"}),$H]}),n})();const L_e=["signInModal"],V_e=["regModal"];function B_e(n,e){1&n&&(a.TgZ(0,"a",66),a._uU(1,"Reservar"),a.qZA())}function U_e(n,e){1&n&&(a.TgZ(0,"a",67),a._uU(1,"Reporte de Reservaciones"),a.qZA())}function H_e(n,e){1&n&&(a.ynx(0),a.TgZ(1,"li",8)(2,"a",68),a._uU(3,"Gr\xe1ficas"),a.qZA()(),a.TgZ(4,"li",8)(5,"a",69),a._uU(6,"Avanzado"),a.qZA()(),a.BQk())}function z_e(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",70),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.logout())}),a._uU(1,"Cerrar Sesi\xf3n"),a.qZA()}}function j_e(n,e){1&n&&(a.TgZ(0,"button",71),a._uU(1,"Iniciar Sesi\xf3n"),a.qZA())}function G_e(n,e){1&n&&(a.TgZ(0,"button",72),a._uU(1,"Registrarse"),a.qZA())}function $_e(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function W_e(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este no es un formato valido"),a.qZA())}function q_e(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,$_e,2,0,"span",15),a.YNc(2,W_e,2,0,"span",15),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.mailGroup.get("email"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.mailGroup.get("email"))||null==r.errors?null:r.errors.email)}}function Y_e(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function Z_e(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*La contrase\xf1a tiene al menos 8 caracteres"),a.qZA())}function K_e(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,Y_e,2,0,"span",15),a.YNc(2,Z_e,2,0,"span",15),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.mailGroup.get("password"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.mailGroup.get("password"))||null==r.errors?null:r.errors.minlength)}}function Q_e(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function X_e(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,Q_e,2,0,"span",15),a.qZA()),2&n){const t=a.oxw();let i;a.xp6(1),a.Q6J("ngIf",null==(i=t.phoneGroup.get("phone"))||null==i.errors?null:i.errors.required)}}function J_e(n,e){1&n&&(a.TgZ(0,"div",73),a._uU(1," *Este campo es obligatorio "),a.qZA())}function eye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function tye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este no es un formato valido"),a.qZA())}function nye(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,eye,2,0,"span",15),a.YNc(2,tye,2,0,"span",15),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.userForm.get("email"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.userForm.get("email"))||null==r.errors?null:r.errors.email)}}function iye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function rye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Su contrase\xf1a requiere al menos 8 caracteres que contengan al menos un numero, una minuscula, una mayuscula y un simbolo especial"),a.qZA())}function sye(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,iye,2,0,"span",15),a.YNc(2,rye,2,0,"span",15),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.userForm.get("password"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.userForm.get("password"))||null==r.errors?null:r.errors.pattern)}}function oye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function aye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Su contrase\xf1a requiere al menos 8 caracteres que contengan al menos un numero, una minuscula, una mayuscula y un simbolo especial"),a.qZA())}function lye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Las contrase\xf1as no coinciden"),a.qZA())}function cye(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,oye,2,0,"span",15),a.YNc(2,aye,2,0,"span",15),a.YNc(3,lye,2,0,"span",15),a.qZA()),2&n){const t=a.oxw();let i,r,s;a.xp6(1),a.Q6J("ngIf",null==(i=t.userForm.get("cPassword"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.userForm.get("cPassword"))||null==r.errors?null:r.errors.pattern),a.xp6(1),a.Q6J("ngIf",null==(s=t.userForm.get("cPassword"))||null==s.errors?null:s.errors.match)}}function uye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"*Este campo es obligatorio"),a.qZA())}function dye(n,e){if(1&n&&(a.TgZ(0,"span",75),a._uU(1,"*Este no es un formato valido"),a.qZA()),2&n){const t=a.oxw(2);let i;a.Q6J("hidden",null==(i=t.userForm.get("phone"))||null==i.errors?null:i.errors.required)}}function hye(n,e){if(1&n&&(a.TgZ(0,"div",73),a.YNc(1,uye,2,0,"span",15),a.YNc(2,dye,2,1,"span",74),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.userForm.get("phone"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.userForm.get("phone"))||null==r.errors?null:r.errors.longitud)}}const ZZ=function(n){return{collapsed:n}},KZ=function(n){return{show:n}},km=function(n){return{"mb-3":n}};let fye=(()=>{class n{static longitud(t){return 10==t.value?.toString().length?null:{longitud:!0}}constructor(t,i,r,s){this.buscarService=t,this.authService=i,this.router=r,this.database=s,this.usuarios=[],this.usuariosAux=[],this.showRE=!0,this.accordionCtrl1=!1,this.accordionCtrl2=!0,this.showLI=!0,this.codeHidden=!0,this.passwordError=!1,this.loginError=!1,this.errorMessage="",this.phoneGroup=new nd({phone:new No("",[Ui.required,n.longitud])}),this.mailGroup=new nd({email:new No("",[Ui.required,Ui.email]),password:new No("",[Ui.required,Ui.minLength(8)])}),this.userForm=new nd({name:new No("",[Ui.required]),email:new No("",[Ui.required,Ui.email]),password:new No("",[Ui.required,Ui.pattern(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&^_-]).{8,}/)]),cPassword:new No("",[Ui.required,Ui.pattern(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&^_-]).{8,}/)]),phone:new No("",[Ui.required,n.longitud])}),p_(Wu(this.database,"users/"),o=>{null!=o.val()&&(this.usuarios=[],this.usuariosAux=[],o.forEach(l=>{this.usuarios.push(l.val()),this.usuariosAux.push(l.key)}))}),this.userForm.controls.cPassword.addValidators(this.match(this.userForm.controls.password,this.userForm.controls.cPassword))}match(t,i){return()=>t.value!==i.value?{match:!0}:null}logout(){this.authService.signOut()}signIn(){this.authService.signIn(this.mailGroup.value.email,this.mailGroup.value.password).then(()=>{this.loginError=!1,this.authService.isLoggedIn()?(Ys.set("notifier","position","top-center"),Ys.success("Inicio de sesi\xf3n exitoso"),this.signInModal.nativeElement.dispatchEvent(new MouseEvent("click")),this.router.navigate(["/"])):(this.loginError=!0,Ys.set("notifier","position","top-center"),Ys.error("Error al iniciar sesi\xf3n. Por favor, int\xe9ntalo de nuevo."))}).catch(t=>{console.log(t)})}revisarExistencia(){if("alex.flores6651@gmail.com"===this.userForm.value.email)return!0;for(let t of this.usuarios)if(t.correo===this.userForm.value.email)return!0;return!1}submitForm(){this.revisarExistencia()?(Ys.set("notifier","position","top-center"),Ys.error("Ya existe una cuenta con ese correo")):(JI(Wu(this.database,"users"),{nombre:this.userForm.value.name,correo:this.userForm.value.email,telefono:this.userForm.value.phone}),this.authService.signUp(this.userForm.value.email,this.userForm.value.password).then(()=>{Ys.set("notifier","position","top-center"),Ys.success("Cuenta registrada, Bienvenid@"),this.regModal.nativeElement.dispatchEvent(new MouseEvent("click")),this.router.navigate(["/"])}).catch(t=>{console.log("Error al registrarse",t)})),this.userForm.reset({name:"",email:"",password:"",phone:""})}loginPhone(){}verify(){}passwordLI(){this.showLI=!this.showLI}passwordRE(){this.showRE=!this.showRE}collapse(t){1==t?1==this.accordionCtrl2?(this.accordionCtrl1=!this.accordionCtrl1,this.accordionCtrl2=!this.accordionCtrl2):this.accordionCtrl1=!this.accordionCtrl1:2==t&&(1==this.accordionCtrl1?(this.accordionCtrl1=!this.accordionCtrl1,this.accordionCtrl2=!this.accordionCtrl2):this.accordionCtrl2=!this.accordionCtrl2),this.resetForms()}resetForms(){this.mailGroup.reset({email:"",password:""}),this.phoneGroup.reset({phone:""})}buscar(){const t=document.getElementById("buscar").value.toLowerCase().trim();this.buscarService.buscando(t)||(Ys.set("notifier","position","top-center"),Ys.error("No existe ningun platillo con ese nombre")),document.getElementById("buscar").value=""}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(K5),a.Y36(cL),a.Y36(Ws),a.Y36(bh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],viewQuery:function(t,i){if(1&t&&(a.Gf(L_e,5),a.Gf(V_e,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.signInModal=r.first),a.iGM(r=a.CRH())&&(i.regModal=r.first)}},decls:145,vars:65,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["src","assets/img/Logo.png","alt",""],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/menu",1,"nav-link"],["routerLink","/about",1,"nav-link"],["class","nav-link","routerLink","/reservar",4,"ngIf"],["class","nav-link","routerLink","/reporte",4,"ngIf"],["routerLink","/noticias",1,"nav-link"],["routerLink","/faq",1,"nav-link"],[4,"ngIf"],["role","search",1,"d-flex"],["id","buscar","autocomplete","off","type","search","placeholder","Buscar Platillo","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-success","data-bs-toggle","modal","data-bs-target","#exampleModalLI",4,"ngIf"],["type","button","class","btn btn-success","data-bs-toggle","modal","data-bs-target","#exampleModalRE",4,"ngIf"],["id","exampleModalLI","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["signInModal",""],[1,"modal-body","acc"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-controls","collapseTwo",1,"accordion-button",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-envelope"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngClass"],[1,"accordion-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group",3,"ngClass"],["id","basic-addon1",1,"input-group-text"],["type","text","formControlName","email","aria-label","Correo","aria-describedby","basic-addon1",1,"form-control"],["class","text-danger small err",4,"ngIf"],["formControlName","password","aria-label","Contrase\xf1a","aria-describedby","basic-addon1",1,"form-control",3,"type"],[1,"mb-3","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input",3,"click"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-controls","collapseOne",1,"accordion-button",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-mobile"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"ngClass"],["type","number","formControlName","phone","aria-label","Telefono","aria-describedby","basic-addon1",1,"form-control"],["type","submit","id","captcha",1,"btn","btn-primary",3,"disabled"],[1,"code",3,"hidden"],[1,"input-group","mb-3"],["id","basic-addonC",1,"input-group-text"],["type","number","aria-label","Codigo","aria-describedby","basic-addonC",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["id","exampleModalRE","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["regModal",""],[1,"modal-body"],["type","text","formControlName","name","aria-label","Nombre","aria-describedby","basic-addon1",1,"form-control"],["formControlName","cPassword","aria-label","Contrase\xf1a","aria-describedby","basic-addon1",1,"form-control",3,"type"],["type","checkbox","id","exampleCheck2",1,"form-check-input",3,"click"],["for","exampleCheck2",1,"form-check-label"],["routerLink","/reservar",1,"nav-link"],["routerLink","/reporte",1,"nav-link"],["routerLink","/graficas",1,"nav-link"],["routerLink","/products",1,"nav-link"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModalLI",1,"btn","btn-success"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModalRE",1,"btn","btn-success"],[1,"text-danger","small","err"],[3,"hidden",4,"ngIf"],[3,"hidden"]],template:function(t,i){if(1&t&&(a.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"button",4),a._UZ(5,"span",5),a.qZA(),a.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),a._uU(10,"Men\xfa"),a.qZA()(),a.TgZ(11,"li",8)(12,"a",10),a._uU(13,"Sobre Nosotros"),a.qZA()(),a.TgZ(14,"li",8),a.YNc(15,B_e,2,0,"a",11),a.qZA(),a.TgZ(16,"li",8),a.YNc(17,U_e,2,0,"a",12),a.qZA(),a.TgZ(18,"li",8)(19,"a",13),a._uU(20,"Musica"),a.qZA()(),a.TgZ(21,"li",8)(22,"a",14),a._uU(23,"Preguntas Frecuentes"),a.qZA()(),a.YNc(24,H_e,7,0,"ng-container",15),a.qZA(),a.TgZ(25,"form",16),a._UZ(26,"input",17),a.TgZ(27,"button",18),a.NdJ("click",function(){return i.buscar()}),a._uU(28,"Buscar"),a.qZA()(),a.TgZ(29,"span"),a._uU(30," | "),a.qZA(),a.TgZ(31,"span"),a._uU(32," | "),a.qZA(),a.YNc(33,z_e,2,0,"button",19),a.YNc(34,j_e,2,0,"button",20),a.TgZ(35,"span"),a._uU(36," | "),a.qZA(),a.TgZ(37,"span"),a._uU(38," | "),a.qZA(),a.YNc(39,G_e,2,0,"button",21),a.qZA()()(),a.TgZ(40,"div",22)(41,"div",23)(42,"div",24)(43,"div",25)(44,"h1",26),a._uU(45,"Iniciar sesi\xf3n"),a.qZA(),a._UZ(46,"button",27,28),a.qZA(),a.TgZ(48,"div",29)(49,"div",30)(50,"div",31)(51,"h2",32)(52,"button",33),a.NdJ("click",function(){return i.collapse(2)}),a._UZ(53,"i",34),a._uU(54,"Iniciar Sesion con Correo "),a.qZA()(),a.TgZ(55,"div",35)(56,"div",36)(57,"form",37),a.NdJ("ngSubmit",function(){return i.signIn()}),a.TgZ(58,"div",38)(59,"div",39)(60,"span",40),a._uU(61,"Correo"),a.qZA(),a._UZ(62,"input",41),a.qZA(),a.YNc(63,q_e,3,2,"div",42),a.qZA(),a.TgZ(64,"div",38)(65,"div",39)(66,"span",40),a._uU(67,"Contrase\xf1a"),a.qZA(),a._UZ(68,"input",43),a.qZA(),a.YNc(69,K_e,3,2,"div",42),a.TgZ(70,"div",44)(71,"input",45),a.NdJ("click",function(){return i.passwordLI()}),a.qZA(),a.TgZ(72,"label",46),a._uU(73),a.qZA()()(),a.TgZ(74,"button",47),a._uU(75,"Iniciar sesion"),a.qZA()()()()(),a.TgZ(76,"div",31)(77,"h2",48)(78,"button",49),a.NdJ("click",function(){return i.collapse(1)}),a._UZ(79,"i",50),a._uU(80,"Iniciar Sesion a traves de SMS "),a.qZA()(),a.TgZ(81,"div",51)(82,"div",36)(83,"form",37),a.NdJ("ngSubmit",function(){return i.loginPhone()}),a.TgZ(84,"div",38)(85,"div",39)(86,"span",40),a._uU(87,"Telefono"),a.qZA(),a._UZ(88,"input",52),a.qZA(),a.YNc(89,X_e,2,1,"div",42),a.qZA(),a.TgZ(90,"button",53),a._uU(91,"Enviar Codigo"),a.qZA()(),a.TgZ(92,"div",54)(93,"div",55)(94,"span",56),a._uU(95,"Codigo de Verificacion"),a.qZA(),a.TgZ(96,"input",57),a.NdJ("ngModelChange",function(s){return i.codeCheck=s}),a.qZA()(),a.TgZ(97,"button",58),a.NdJ("click",function(){return i.verify()}),a._uU(98,"Verificar"),a.qZA()()()()()()()()()(),a.TgZ(99,"div",59)(100,"div",23)(101,"div",24)(102,"div",25)(103,"h1",26),a._uU(104,"Registrar Usuario"),a.qZA(),a._UZ(105,"button",27,60),a.qZA(),a.TgZ(107,"div",61)(108,"form",37),a.NdJ("ngSubmit",function(){return i.submitForm()}),a.TgZ(109,"div",38)(110,"div",39)(111,"span",40),a._uU(112,"Nombre"),a.qZA(),a._UZ(113,"input",62),a.qZA(),a.YNc(114,J_e,2,0,"div",42),a.qZA(),a.TgZ(115,"div",38)(116,"div",39)(117,"span",40),a._uU(118,"Correo"),a.qZA(),a._UZ(119,"input",41),a.qZA(),a.YNc(120,nye,3,2,"div",42),a.qZA(),a.TgZ(121,"div",38)(122,"div",39)(123,"span",40),a._uU(124,"Contrase\xf1a"),a.qZA(),a._UZ(125,"input",43),a.qZA(),a.YNc(126,sye,3,2,"div",42),a.qZA(),a.TgZ(127,"div",38)(128,"div",39)(129,"span",40),a._uU(130,"Comprobar Contrase\xf1a"),a.qZA(),a._UZ(131,"input",63),a.qZA(),a.YNc(132,cye,4,3,"div",42),a.TgZ(133,"div",44)(134,"input",64),a.NdJ("click",function(){return i.passwordRE()}),a.qZA(),a.TgZ(135,"label",65),a._uU(136),a.qZA()()(),a.TgZ(137,"div",38)(138,"div",39)(139,"span",40),a._uU(140,"Telefono"),a.qZA(),a._UZ(141,"input",52),a.qZA(),a.YNc(142,hye,3,2,"div",42),a.qZA(),a.TgZ(143,"button",47),a._uU(144,"Registrar Usuario"),a.qZA()()()()()()),2&t){let r,s,o,l,d,f,m,_,w,x,M,k,R,$,W,ie;a.xp6(15),a.Q6J("ngIf",i.authService.isLoggedIn()),a.xp6(2),a.Q6J("ngIf",i.authService.isLoggedIn()),a.xp6(7),a.Q6J("ngIf",i.authService.isAdmin()),a.xp6(9),a.Q6J("ngIf",i.authService.isLoggedIn()),a.xp6(1),a.Q6J("ngIf",!i.authService.isLoggedIn()),a.xp6(5),a.Q6J("ngIf",!i.authService.isLoggedIn()),a.xp6(13),a.Q6J("ngClass",a.VKq(41,ZZ,!i.accordionCtrl2)),a.uIk("aria-expanded",i.accordionCtrl2),a.xp6(3),a.Q6J("ngClass",a.VKq(43,KZ,i.accordionCtrl2)),a.xp6(2),a.Q6J("formGroup",i.mailGroup),a.xp6(2),a.Q6J("ngClass",a.VKq(45,km,!(null!=(r=i.mailGroup.get("email"))&&r.invalid))),a.xp6(4),a.Q6J("ngIf",null==(s=i.mailGroup.get("email"))?null:s.invalid),a.xp6(2),a.Q6J("ngClass",a.VKq(47,km,!(null!=(o=i.mailGroup.get("password"))&&o.invalid))),a.xp6(3),a.Q6J("type",i.showLI?"password":"text"),a.xp6(1),a.Q6J("ngIf",null==(l=i.mailGroup.get("password"))?null:l.invalid),a.xp6(4),a.hij("",i.showLI?"Ver":"Ocultar"," Contrase\xf1a"),a.xp6(1),a.Q6J("disabled",i.mailGroup.invalid),a.xp6(4),a.Q6J("ngClass",a.VKq(49,ZZ,!i.accordionCtrl1)),a.uIk("aria-expanded",i.accordionCtrl1),a.xp6(3),a.Q6J("ngClass",a.VKq(51,KZ,i.accordionCtrl1)),a.xp6(2),a.Q6J("formGroup",i.phoneGroup),a.xp6(2),a.Q6J("ngClass",a.VKq(53,km,!(null!=(d=i.phoneGroup.get("phone"))&&d.invalid))),a.xp6(4),a.Q6J("ngIf",null==(f=i.phoneGroup.get("phone"))?null:f.invalid),a.xp6(1),a.Q6J("disabled",i.phoneGroup.invalid),a.xp6(2),a.Q6J("hidden",i.codeHidden),a.xp6(4),a.Q6J("ngModel",i.codeCheck),a.xp6(12),a.Q6J("formGroup",i.userForm),a.xp6(2),a.Q6J("ngClass",a.VKq(55,km,!(null!=(m=i.userForm.get("name"))&&m.invalid))),a.xp6(4),a.Q6J("ngIf",null==(_=i.userForm.get("name"))?null:_.invalid),a.xp6(2),a.Q6J("ngClass",a.VKq(57,km,!(null!=(w=i.userForm.get("email"))&&w.invalid))),a.xp6(4),a.Q6J("ngIf",null==(x=i.userForm.get("email"))?null:x.invalid),a.xp6(2),a.Q6J("ngClass",a.VKq(59,km,!(null!=(M=i.userForm.get("password"))&&M.invalid))),a.xp6(3),a.Q6J("type",i.showRE?"password":"text"),a.xp6(1),a.Q6J("ngIf",null==(k=i.userForm.get("password"))?null:k.invalid),a.xp6(2),a.Q6J("ngClass",a.VKq(61,km,!(null!=(R=i.userForm.get("cPassword"))&&R.invalid))),a.xp6(3),a.Q6J("type",i.showRE?"password":"text"),a.xp6(1),a.Q6J("ngIf",null==($=i.userForm.get("cPassword"))?null:$.invalid),a.xp6(4),a.hij("",i.showRE?"Ver":"Ocultar"," Contrase\xf1a"),a.xp6(2),a.Q6J("ngClass",a.VKq(63,km,!(null!=(W=i.userForm.get("phone"))&&W.invalid))),a.xp6(4),a.Q6J("ngIf",null==(ie=i.userForm.get("phone"))?null:ie.invalid),a.xp6(1),a.Q6J("disabled",i.userForm.invalid)}},dependencies:[V,at,XC,AE,Fh,HA,G_,EE,Tv,W_,rm,ME],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}img[_ngcontent-%COMP%]{width:10vw}.nav-link[_ngcontent-%COMP%]{text-align:center}.acc[_ngcontent-%COMP%]{padding:0}i[_ngcontent-%COMP%]{margin-right:.25rem}.fa-mobile[_ngcontent-%COMP%]{font-size:1.5rem}.fa-envelope[_ngcontent-%COMP%]{font-size:1rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:smaller;font-family:Comic Sans MS,cursive,sans-serif}"]}),n})(),QZ=(()=>{class n{constructor(t){this.http=t,this.apiUrl="https://emailapi-production-abac.up.railway.app/formulario"}sendMessage(t){return this.http.post(this.apiUrl,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pye=["closeModalButton"];function mye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"El nombre es obligatorio. "),a.qZA())}function gye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"El nombre debe tener al menos 3 caracteres."),a.qZA())}function _ye(n,e){if(1&n&&(a.TgZ(0,"span",27),a.YNc(1,mye,2,0,"span",28),a.YNc(2,gye,2,0,"span",28),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.contactForm.get("nombre"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.contactForm.get("nombre"))||null==r.errors?null:r.errors.minlength)}}function yye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"El correo electr\xf3nico es obligatorio. "),a.qZA())}function bye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"El correo electr\xf3nico debe tener un formato v\xe1lido."),a.qZA())}function vye(n,e){if(1&n&&(a.TgZ(0,"span",27),a.YNc(1,yye,2,0,"span",28),a.YNc(2,bye,2,0,"span",28),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.contactForm.get("email"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.contactForm.get("email"))||null==r.errors?null:r.errors.email)}}function wye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"El mensaje es obligatorio. "),a.qZA())}function Cye(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"El mensaje debe tener al menos 25 caracteres."),a.qZA())}function Eye(n,e){if(1&n&&(a.TgZ(0,"span",27),a.YNc(1,wye,2,0,"span",28),a.YNc(2,Cye,2,0,"span",28),a.qZA()),2&n){const t=a.oxw();let i,r;a.xp6(1),a.Q6J("ngIf",null==(i=t.contactForm.get("mensaje"))||null==i.errors?null:i.errors.required),a.xp6(1),a.Q6J("ngIf",null==(r=t.contactForm.get("mensaje"))||null==r.errors?null:r.errors.minlength)}}let xye=(()=>{class n{constructor(t,i){this.fb=t,this.emailService=i,this.mensajeEnviado=!1,this.contactForm=new nd({}),this.mensajes=[],this.formSubmitted=!1;const r=localStorage.getItem("mensajes");this.mensajes=r?JSON.parse(r):[]}ngOnInit(){this.contactForm=this.fb.group({nombre:["",[Ui.required,Ui.minLength(3)]],email:["",[Ui.required,Ui.email]],mensaje:["",[Ui.required,Ui.minLength(25)]]})}submitForm(t){this.mensajes.push({nombre:this.contactForm.value.nombre,correo:this.contactForm.value.email,texto:this.contactForm.value.mensaje}),this.emailService.sendMessage(t).subscribe(()=>{this.mensajeEnviado=!0}),this.mensajeEnviado&&console.log("Mensaje enviado"),localStorage.setItem("mensajes",JSON.stringify(this.mensajes)),Ys.set("notifier","position","top-center"),Ys.success("Su mensaje ha sido enviado, Gracias "+this.contactForm.value.name),this.closeModalButton.nativeElement.dispatchEvent(new MouseEvent("click")),this.contactForm.reset({nombre:"",apellido:"",correo:""})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Gne),a.Y36(QZ))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],viewQuery:function(t,i){if(1&t&&a.Gf(pye,5),2&t){let r;a.iGM(r=a.CRH())&&(i.closeModalButton=r.first)}},decls:45,vars:9,consts:[["src","assets/img/Logo.png","alt",""],[1,"contenedor"],[1,"contacto"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal2",1,"btn","btn-dark","enviar"],[1,"redes"],["aria-hidden","true",1,"fa","fa-facebook-official"],["aria-hidden","true",1,"fa","fa-instagram"],["aria-hidden","true",1,"fa","fa-twitter-square"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"container","mt-5",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"form-group"],["type","text","formControlName","nombre","nombre","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger small",4,"ngIf"],["type","email","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","mensaje","nombre","mensaje",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"hidden"],["closeModalButton",""],[1,"text-danger","small"],[4,"ngIf"]],template:function(t,i){if(1&t){const r=a.EpF();a.TgZ(0,"footer"),a._UZ(1,"img",0),a.TgZ(2,"div",1)(3,"div",2)(4,"button",3),a._uU(5," Contactanos "),a.qZA()(),a.TgZ(6,"div",4)(7,"i",5),a._uU(8,"DonburiDojo"),a.qZA(),a.TgZ(9,"i",6),a._uU(10,"Donburi_Dojo"),a.qZA(),a.TgZ(11,"i",7),a._uU(12,"DonburiDojo_Oficial"),a.qZA()()()(),a.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"h1",12),a._uU(18,"Contactanos"),a.qZA(),a._UZ(19,"button",13),a.qZA(),a.TgZ(20,"div",14)(21,"form",15,16),a.NdJ("ngSubmit",function(){a.CHM(r);const o=a.MAs(22);return a.KtG(i.submitForm(o.value))}),a.TgZ(23,"div",17)(24,"div",18)(25,"div",19)(26,"label"),a._uU(27,"Nombre:"),a.qZA(),a.TgZ(28,"input",20),a.NdJ("ngModelChange",function(o){return i.contactForm.value.nombre=o}),a.qZA(),a.YNc(29,_ye,3,2,"span",21),a.qZA(),a.TgZ(30,"div",19)(31,"label"),a._uU(32,"Correo electr\xf3nico:"),a.qZA(),a.TgZ(33,"input",22),a.NdJ("ngModelChange",function(o){return i.contactForm.value.email=o}),a.qZA(),a.YNc(34,vye,3,2,"span",21),a.qZA(),a.TgZ(35,"div",19)(36,"label"),a._uU(37,"Mensaje:"),a.qZA(),a.TgZ(38,"textarea",23),a.NdJ("ngModelChange",function(o){return i.contactForm.value.mensaje=o}),a.qZA(),a.YNc(39,Eye,3,2,"span",21),a.qZA(),a.TgZ(40,"button",24),a._uU(41,"Enviar"),a.qZA(),a.TgZ(42,"button",25,26),a._uU(44,"Close"),a.qZA()()()()()()()()}if(2&t){let r,s,o;a.xp6(21),a.Q6J("formGroup",i.contactForm),a.xp6(7),a.Q6J("ngModel",i.contactForm.value.nombre),a.xp6(1),a.Q6J("ngIf",(null==(r=i.contactForm.get("nombre"))?null:r.invalid)&&((null==(r=i.contactForm.get("nombre"))?null:r.dirty)||(null==(r=i.contactForm.get("nombre"))?null:r.touched))),a.xp6(4),a.Q6J("ngModel",i.contactForm.value.email),a.xp6(1),a.Q6J("ngIf",(null==(s=i.contactForm.get("email"))?null:s.invalid)&&((null==(s=i.contactForm.get("email"))?null:s.dirty)||(null==(s=i.contactForm.get("email"))?null:s.touched))),a.xp6(4),a.Q6J("ngModel",i.contactForm.value.mensaje),a.xp6(1),a.Q6J("ngIf",(null==(o=i.contactForm.get("mensaje"))?null:o.invalid)&&((null==(o=i.contactForm.get("mensaje"))?null:o.dirty)||(null==(o=i.contactForm.get("mensaje"))?null:o.touched))),a.xp6(1),a.Q6J("disabled",i.contactForm.invalid),a.xp6(2),a.Q6J("hidden",!0)}},dependencies:[at,AE,Fh,G_,EE,rm,ME],styles:["footer[_ngcontent-%COMP%]{padding-bottom:2%;background-color:#212529;color:#ffffff8c;text-align:center}img[_ngcontent-%COMP%]{width:15vw;margin:auto}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.redes[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;font-size:1.5rem}.enviar[_ngcontent-%COMP%]{font-size:2.25rem}"]}),n})(),Dye=(()=>{class n{constructor(){this.title="MiniProyectoII"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&a._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[$C,fye,xye]}),n})();function XZ(n){return new a.vHH(3e3,!1)}function obe(){return typeof window<"u"&&typeof window.document<"u"}function rU(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rm(n){switch(n.length){case 0:return new kE;case 1:return n[0];default:return new B4(n)}}function JZ(n,e,t,i,r=new Map,s=new Map){const o=[],l=[];let d=-1,f=null;if(i.forEach(m=>{const _=m.get("offset"),w=_==d,x=w&&f||new Map;m.forEach((M,k)=>{let R=k,$=M;if("offset"!==k)switch(R=e.normalizePropertyName(R,o),$){case IF:$=r.get(k);break;case Vh:$=s.get(k);break;default:$=e.normalizeStyleValue(k,R,$,o)}x.set(R,$)}),w||l.push(x),f=x,d=_}),o.length)throw function Yye(n){return new a.vHH(3502,!1)}();return l}function sU(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&oU(t,"start",n)));break;case"done":n.onDone(()=>i(t&&oU(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&oU(t,"destroy",n)))}}function oU(n,e,t){const s=aU(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function aU(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function vl(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function e9(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let lU=(n,e)=>!1,t9=(n,e,t)=>[],n9=null;function cU(n){const e=n.parentNode||n.host;return e===n9?null:e}(rU()||typeof Element<"u")&&(obe()?(n9=(()=>document.documentElement)(),lU=(n,e)=>{for(;e;){if(e===n)return!0;e=cU(e)}return!1}):lU=(n,e)=>n.contains(e),t9=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ay=null,r9=!1;const s9=lU,o9=t9;let a9=(()=>{class n{validateStyleProperty(t){return function lbe(n){Ay||(Ay=function cbe(){return typeof document<"u"?document.body:null}()||{},r9=!!Ay.style&&"WebkitAppearance"in Ay.style);let e=!0;return Ay.style&&!function abe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ay.style,!e&&r9&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ay.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return s9(t,i)}getParentElement(t){return cU(t)}query(t,i,r){return o9(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,l=[],d){return new kE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),uU=(()=>{class n{}return n.NOOP=new a9,n})();const ube=1e3,dU="ng-enter",ck="ng-leave",uk="ng-trigger",dk=".ng-trigger",c9="ng-animating",hU=".ng-animating";function af(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fU(parseFloat(e[1]),e[2])}function fU(n,e){return"s"===e?n*ube:n}function hk(n,e,t){return n.hasOwnProperty("duration")?n:function hbe(n,e,t){let r,s=0,o="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(XZ()),{duration:0,delay:0,easing:""};r=fU(parseFloat(l[1]),l[2]);const d=l[3];null!=d&&(s=fU(parseFloat(d),l[4]));const f=l[5];f&&(o=f)}else r=n;if(!t){let l=!1,d=e.length;r<0&&(e.push(function Tye(){return new a.vHH(3100,!1)}()),l=!0),s<0&&(e.push(function Iye(){return new a.vHH(3101,!1)}()),l=!0),l&&e.splice(d,0,XZ())}return{duration:r,delay:s,easing:o}}(n,e,t)}function mD(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function u9(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Pm(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function h9(n,e,t){return t?e+":"+t+";":""}function f9(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=h9(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=h9(0,gbe(t),n.style[t]));n.setAttribute("style",e)}function md(n,e,t){n.style&&(e.forEach((i,r)=>{const s=mU(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),rU()&&f9(n))}function My(n,e){n.style&&(e.forEach((t,i)=>{const r=mU(i);n.style[r]=""}),rU()&&f9(n))}function gD(n){return Array.isArray(n)?1==n.length?n[0]:F4(n):n}const pU=new RegExp("{{\\s*(.+?)\\s*}}","g");function p9(n){let e=[];if("string"==typeof n){let t;for(;t=pU.exec(n);)e.push(t[1]);pU.lastIndex=0}return e}function _D(n,e,t){const i=n.toString(),r=i.replace(pU,(s,o)=>{let l=e[o];return null==l&&(t.push(function Aye(n){return new a.vHH(3003,!1)}()),l=""),l.toString()});return r==i?n:r}function fk(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const mbe=/-+([a-z0-9])/g;function mU(n){return n.replace(mbe,(...e)=>e[1].toUpperCase())}function gbe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Mye(n){return new a.vHH(3004,!1)}()}}function m9(n,e){return window.getComputedStyle(n)[e]}const gk="*";function Cbe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ebe(n,e,t){if(":"==n[0]){const d=function xbe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Gye(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof d)return void e.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function jye(n){return new a.vHH(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(g9(r,o));"<"==s[0]&&!(r==gk&&o==gk)&&e.push(g9(o,r))}(i,t,e)):t.push(n),t}const _k=new Set(["true","1"]),yk=new Set(["false","0"]);function g9(n,e){const t=_k.has(n)||yk.has(n),i=_k.has(e)||yk.has(e);return(r,s)=>{let o=n==gk||n==r,l=e==gk||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?_k.has(n):yk.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?_k.has(e):yk.has(e)),o&&l}}const Dbe=new RegExp("s*:selfs*,?","g");function gU(n,e,t,i){return new Tbe(n).build(e,t,i)}class Tbe{constructor(e){this._driver=e}build(e,t,i){const r=new Abe(t);return this._resetContextStyleTimingState(r),wl(this,gD(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Rye(){return new a.vHH(3006,!1)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,s.push(this.visitState(d,t))}),d.name=f}else if(1==l.type){const d=this.visitTransition(l,t);i+=d.queryCount,r+=d.depCount,o.push(d)}else t.errors.push(function Pye(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{p9(d).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}),s.size&&(fk(s.values()),t.errors.push(function Oye(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=wl(this,gD(e.animation),t);return{type:1,matchers:Cbe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ky(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>wl(this,i,t)),options:ky(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const l=wl(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:3,steps:s,options:ky(e.options)}}visitAnimate(e,t){const i=function kbe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return _U(hk(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=_U(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=hk(t,e);return _U(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:ks({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const f={};i.easing&&(f.easing=i.easing),o=ks(f)}t.currentTime+=i.duration+i.delay;const d=this.visitStyle(o,t);d.isEmptyStep=l,r=d}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)"string"==typeof l?l===Vh?i.push(l):t.errors.push(new a.vHH(3002,!1)):i.push(u9(l));let s=!1,o=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(o=l.get("easing"),l.delete("easing")),!s))for(let d of l.values())if(d.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,d)=>{const f=t.collectedStyles.get(t.currentQuerySelector),m=f.get(d);let _=!0;m&&(s!=r&&s>=m.startTime&&r<=m.endTime&&(t.errors.push(function Fye(n,e,t,i,r){return new a.vHH(3010,!1)}()),_=!1),s=m.startTime),_&&f.set(d,{startTime:s,endTime:r}),t.options&&function pbe(n,e,t){const i=e.params||{},r=p9(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Sye(n){return new a.vHH(3001,!1)}())})}(l,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Lye(){return new a.vHH(3011,!1)}()),i;let s=0;const o=[];let l=!1,d=!1,f=0;const m=e.steps.map($=>{const W=this._makeStyleAst($,t);let ie=null!=W.offset?W.offset:function Mbe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(W.styles),re=0;return null!=ie&&(s++,re=W.offset=ie),d=d||re<0||re>1,l=l||re<f,f=re,o.push(re),W});d&&t.errors.push(function Vye(){return new a.vHH(3012,!1)}()),l&&t.errors.push(function Bye(){return new a.vHH(3200,!1)}());const _=e.steps.length;let w=0;s>0&&s<_?t.errors.push(function Uye(){return new a.vHH(3202,!1)}()):0==s&&(w=1/(_-1));const x=_-1,M=t.currentTime,k=t.currentAnimateTimings,R=k.duration;return m.forEach(($,W)=>{const ie=w>0?W==x?1:w*W:o[W],re=ie*R;t.currentTime=M+k.delay+re,k.duration=re,this._validateStyleAst($,t),$.offset=ie,i.styles.push($)}),i}visitReference(e,t){return{type:8,animation:wl(this,gD(e.animation),t),options:ky(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ky(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ky(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Ibe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Dbe,"")),n=n.replace(/@\*/g,dk).replace(/@\w+/g,t=>dk+"-"+t.slice(1)).replace(/:animating/g,hU),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,vl(t.collectedStyles,t.currentQuerySelector,new Map);const l=wl(this,gD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:ky(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Hye(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hk(e.timings,t.errors,!0);return{type:12,animation:wl(this,gD(e.animation),t),timings:i,options:null}}}class Abe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ky(n){return n?(n=mD(n)).params&&(n.params=function Sbe(n){return n?mD(n):null}(n.params)):n={},n}function _U(n,e,t){return{duration:n,delay:e,easing:t}}function yU(n,e,t,i,r,s,o=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class bk{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Obe=new RegExp(":enter","g"),Fbe=new RegExp(":leave","g");function bU(n,e,t,i,r,s=new Map,o=new Map,l,d,f=[]){return(new Lbe).buildKeyframes(n,e,t,i,r,s,o,l,d,f)}class Lbe{buildKeyframes(e,t,i,r,s,o,l,d,f,m=[]){f=f||new bk;const _=new vU(e,t,f,r,s,m,[]);_.options=d;const w=d.delay?af(d.delay):0;_.currentTimeline.delayNextStep(w),_.currentTimeline.setStyles([o],null,_.errors,d),wl(this,i,_);const x=_.timelines.filter(M=>M.containsAnimation());if(x.length&&l.size){let M;for(let k=x.length-1;k>=0;k--){const R=x[k];if(R.element===t){M=R;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([l],null,_.errors,d)}return x.length?x.map(M=>M.buildKeyframes()):[yU(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:af(_D(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?af(i.duration):null,l=null!=i.delay?af(i.delay):null;return 0!==o&&e.forEach(d=>{const f=t.appendInstructionToTimeline(d,o,l);s=Math.max(s,f.duration+f.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),wl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vk);const o=af(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>wl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?af(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),wl(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hk(t.params?_D(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{l.forwardTime((d.offset||0)*s),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?af(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vk);let o=i;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((f,m)=>{t.currentQueryIndex=m;const _=t.createSubContext(e.options,f);s&&_.delayNextStep(s),f===t.element&&(d=_.currentTimeline),wl(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,_.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let d=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime}const m=t.currentTimeline;d&&m.delayNextStep(d);const _=m.currentTime;wl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}}const vk={};class vU{constructor(e,t,i,r,s,o,l,d){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new wk(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=af(i.duration)),null!=i.delay&&(r.delay=af(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=_D(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new vU(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vk,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Vbe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let l=[];if(r&&l.push(this.element),e.length>0){e=(e=e.replace(Obe,"."+this._enterClassName)).replace(Fbe,"."+this._leaveClassName);let f=this._driver.query(this.element,e,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),l.push(...f)}return!s&&0==l.length&&o.push(function zye(n){return new a.vHH(3014,!1)}()),l}}class wk{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wk(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Vh),this._currentKeyframe.set(t,Vh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function Bbe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Vh)}else Pm(r,t)}),t}(e,this._globalTimelineStyles);for(let[l,d]of o){const f=_D(d,s,i);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Vh),this._updateStyle(l,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,d)=>{const f=Pm(l,new Map,this._backFill);f.forEach((m,_)=>{m===IF?e.add(_):m===Vh&&t.add(_)}),i||f.set("offset",d/this.duration),r.push(f)});const s=e.size?fk(e.values()):[],o=t.size?fk(t.values()):[];if(i){const l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return yU(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Vbe extends wk{constructor(e,t,i,r,s,o,l=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,l=t/o,d=Pm(e[0]);d.set("offset",0),s.push(d);const f=Pm(e[0]);f.set("offset",b9(l)),s.push(f);const m=e.length-1;for(let _=1;_<=m;_++){let w=Pm(e[_]);const x=w.get("offset");w.set("offset",b9((t+x*i)/o)),s.push(w)}i=o,t=0,r="",e=s}return yU(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function b9(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wU{}const Ube=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hbe extends wU{normalizePropertyName(e,t){return mU(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Ube.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function kye(n,e){return new a.vHH(3005,!1)}())}return o+s}}function v9(n,e,t,i,r,s,o,l,d,f,m,_,w){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:m,totalTime:_,errors:w}}const CU={};class w9{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function zbe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,l,d,f,m){const _=[],w=this.ast.options&&this.ast.options.params||CU,M=this.buildStyles(i,l&&l.params||CU,_),k=d&&d.params||CU,R=this.buildStyles(r,k,_),$=new Set,W=new Map,ie=new Map,re="void"===r,ge={params:jbe(k,w),delay:this.ast.options?.delay},Ee=m?[]:bU(e,t,this.ast.animation,s,o,M,R,ge,f,_);let Ze=0;if(Ee.forEach(gt=>{Ze=Math.max(gt.duration+gt.delay,Ze)}),_.length)return v9(t,this._triggerName,i,r,re,M,R,[],[],W,ie,Ze,_);Ee.forEach(gt=>{const Ut=gt.element,Jt=vl(W,Ut,new Set);gt.preStyleProps.forEach(Xn=>Jt.add(Xn));const ln=vl(ie,Ut,new Set);gt.postStyleProps.forEach(Xn=>ln.add(Xn)),Ut!==t&&$.add(Ut)});const Qe=fk($.values());return v9(t,this._triggerName,i,r,re,M,R,Ee,Qe,W,ie,Ze)}}function jbe(n,e){const t=mD(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Gbe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=mD(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,l)=>{o&&(o=_D(o,r,t));const d=this.normalizer.normalizePropertyName(l,t);o=this.normalizer.normalizeStyleValue(l,d,o,t),i.set(l,o)})}),i}}class Wbe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Gbe(r.style,r.options&&r.options.params||{},i))}),C9(this.states,"true","1"),C9(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new w9(e,r,this.states))}),this.fallbackTransition=function qbe(n,e,t){return new w9(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function C9(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ybe=new bk;class Zbe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=gU(this._driver,t,i,r);if(i.length)throw function Zye(n){return new a.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=JZ(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const l=new Map;if(s?(o=bU(this._driver,t,s,dU,ck,new Map,new Map,i,Ybe,r),o.forEach(m=>{const _=vl(l,m.element,new Map);m.postStyleProps.forEach(w=>_.set(w,null))})):(r.push(function Kye(){return new a.vHH(3300,!1)}()),o=[]),r.length)throw function Qye(n){return new a.vHH(3504,!1)}();l.forEach((m,_)=>{m.forEach((w,x)=>{m.set(x,this._driver.computeStyle(_,x,Vh))})});const f=Rm(o.map(m=>{const _=l.get(m.element);return this._buildPlayer(m,new Map,_)}));return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Xye(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=aU(t,"","","");return sU(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const E9="ng-animate-queued",EU="ng-animate-disabled",eve=[],x9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tve={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tc="__ng_removed";class xU{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function sve(n){return n??null}(i?e.value:e),i){const s=mD(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const yD="void",DU=new xU(yD);class nve{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,nc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Jye(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function ebe(n){return new a.vHH(3303,!1)}();if(!function ove(n){return"start"==n||"done"==n}(i))throw function tbe(n,e){return new a.vHH(3400,!1)}();const s=vl(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const l=vl(this._engine.statesByElement,e,new Map);return l.has(t)||(nc(e,uk),nc(e,uk+"-"+t),l.set(t,DU)),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(o);d>=0&&s.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function nbe(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new TU(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(nc(e,uk),nc(e,uk+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t);const f=new xU(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(t,f),d||(d=DU),f.value!==yD&&d.value===f.value){if(!function cve(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(d.params,f.params)){const k=[],R=s.matchStyles(d.value,d.params,k),$=s.matchStyles(f.value,f.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{My(e,R),md(e,$)})}return}const w=vl(this._engine.playersByElement,e,[]);w.forEach(k=>{k.namespaceId==this.id&&k.triggerName==t&&k.queued&&k.destroy()});let x=s.matchTransition(d.value,f.value,e,f.params),M=!1;if(!x){if(!r)return;x=s.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:d,toState:f,player:o,isFallbackTransition:M}),M||(nc(e,E9),o.onStart(()=>{I0(e,E9)})),o.onDone(()=>{let k=this.players.indexOf(o);k>=0&&this.players.splice(k,1);const R=this._engine.playersByElement.get(e);if(R){let $=R.indexOf(o);$>=0&&R.splice($,1)}}),this.players.push(o),w.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,dk,!0);i.forEach(r=>{if(r[tc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const l=[];if(s.forEach((d,f)=>{if(o.set(f,d.value),this._triggers.has(f)){const m=this.trigger(e,f,yD,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Rm(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const d=this._triggers.get(o).fallbackTransition,f=i.get(o)||DU,m=new xU(yD),_=new TU(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:d,fromState:f,toState:m,player:_,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[tc];(!s||s===x9)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){nc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==i.triggerName){const d=aU(s,i.triggerName,i.fromState.value,i.toState.value);d._data=e,sU(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class ive{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new nve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,l=this.driver.getParentElement(t);for(;l;){const d=r.get(l);if(d){const f=i.indexOf(d);i.splice(f+1,0,e),o=!0;break}l=this.driver.getParentElement(l)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Ck(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ck(t))return;const s=t[tc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),nc(e,EU)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),I0(e,EU))}removeNode(e,t,i,r){if(Ck(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[tc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Ck(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,dk,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,hU,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[tc];if(t&&t.setForRemoval){if(e[tc]=x9,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(EU)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)nc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Rm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function ibe(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new bk,r=[],s=new Map,o=[],l=new Map,d=new Map,f=new Map,m=new Set;this.disabledNodes.forEach(ut=>{m.add(ut);const ot=this.driver.query(ut,".ng-animate-queued",!0);for(let St=0;St<ot.length;St++)m.add(ot[St])});const _=this.bodyNode,w=Array.from(this.statesByElement.keys()),x=I9(w,this.collectedEnterElements),M=new Map;let k=0;x.forEach((ut,ot)=>{const St=dU+k++;M.set(ot,St),ut.forEach(Wt=>nc(Wt,St))});const R=[],$=new Set,W=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const ot=this.collectedLeaveElements[ut],St=ot[tc];St&&St.setForRemoval&&(R.push(ot),$.add(ot),St.hasAnimation?this.driver.query(ot,".ng-star-inserted",!0).forEach(Wt=>$.add(Wt)):W.add(ot))}const ie=new Map,re=I9(w,Array.from($));re.forEach((ut,ot)=>{const St=ck+k++;ie.set(ot,St),ut.forEach(Wt=>nc(Wt,St))}),e.push(()=>{x.forEach((ut,ot)=>{const St=M.get(ot);ut.forEach(Wt=>I0(Wt,St))}),re.forEach((ut,ot)=>{const St=ie.get(ot);ut.forEach(Wt=>I0(Wt,St))}),R.forEach(ut=>{this.processLeaveNode(ut)})});const ge=[],Ee=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(St=>{const Wt=St.player,zn=St.element;if(ge.push(Wt),this.collectedEnterElements.length){const cr=zn[tc];if(cr&&cr.setForMove){if(cr.previousTriggersValues&&cr.previousTriggersValues.has(St.triggerName)){const Xr=cr.previousTriggersValues.get(St.triggerName),Ns=this.statesByElement.get(St.element);if(Ns&&Ns.has(St.triggerName)){const Nm=Ns.get(St.triggerName);Nm.value=Xr,Ns.set(St.triggerName,Nm)}}return void Wt.destroy()}}const Or=!_||!this.driver.containsElement(_,zn),$n=ie.get(zn),lr=M.get(zn),fn=this._buildInstruction(St,i,lr,$n,Or);if(fn.errors&&fn.errors.length)return void Ee.push(fn);if(Or)return Wt.onStart(()=>My(zn,fn.fromStyles)),Wt.onDestroy(()=>md(zn,fn.toStyles)),void r.push(Wt);if(St.isFallbackTransition)return Wt.onStart(()=>My(zn,fn.fromStyles)),Wt.onDestroy(()=>md(zn,fn.toStyles)),void r.push(Wt);const wi=[];fn.timelines.forEach(cr=>{cr.stretchStartingKeyframe=!0,this.disabledNodes.has(cr.element)||wi.push(cr)}),fn.timelines=wi,i.append(zn,fn.timelines),o.push({instruction:fn,player:Wt,element:zn}),fn.queriedElements.forEach(cr=>vl(l,cr,[]).push(Wt)),fn.preStyleProps.forEach((cr,Xr)=>{if(cr.size){let Ns=d.get(Xr);Ns||d.set(Xr,Ns=new Set),cr.forEach((Nm,S0)=>Ns.add(S0))}}),fn.postStyleProps.forEach((cr,Xr)=>{let Ns=f.get(Xr);Ns||f.set(Xr,Ns=new Set),cr.forEach((Nm,S0)=>Ns.add(S0))})});if(Ee.length){const ut=[];Ee.forEach(ot=>{ut.push(function rbe(n,e){return new a.vHH(3505,!1)}())}),ge.forEach(ot=>ot.destroy()),this.reportError(ut)}const Ze=new Map,Qe=new Map;o.forEach(ut=>{const ot=ut.element;i.has(ot)&&(Qe.set(ot,ot),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,Ze))}),r.forEach(ut=>{const ot=ut.element;this._getPreviousPlayers(ot,!1,ut.namespaceId,ut.triggerName,null).forEach(Wt=>{vl(Ze,ot,[]).push(Wt),Wt.destroy()})});const gt=R.filter(ut=>A9(ut,d,f)),Ut=new Map;T9(Ut,this.driver,W,f,Vh).forEach(ut=>{A9(ut,d,f)&&gt.push(ut)});const ln=new Map;x.forEach((ut,ot)=>{T9(ln,this.driver,new Set(ut),d,IF)}),gt.forEach(ut=>{const ot=Ut.get(ut),St=ln.get(ut);Ut.set(ut,new Map([...Array.from(ot?.entries()??[]),...Array.from(St?.entries()??[])]))});const Xn=[],Qr=[],Mn={};o.forEach(ut=>{const{element:ot,player:St,instruction:Wt}=ut;if(i.has(ot)){if(m.has(ot))return St.onDestroy(()=>md(ot,Wt.toStyles)),St.disabled=!0,St.overrideTotalTime(Wt.totalTime),void r.push(St);let zn=Mn;if(Qe.size>1){let $n=ot;const lr=[];for(;$n=$n.parentNode;){const fn=Qe.get($n);if(fn){zn=fn;break}lr.push($n)}lr.forEach(fn=>Qe.set(fn,zn))}const Or=this._buildAnimation(St.namespaceId,Wt,Ze,s,ln,Ut);if(St.setRealPlayer(Or),zn===Mn)Xn.push(St);else{const $n=this.playersByElement.get(zn);$n&&$n.length&&(St.parentPlayer=Rm($n)),r.push(St)}}else My(ot,Wt.fromStyles),St.onDestroy(()=>md(ot,Wt.toStyles)),Qr.push(St),m.has(ot)&&r.push(St)}),Qr.forEach(ut=>{const ot=s.get(ut.element);if(ot&&ot.length){const St=Rm(ot);ut.setRealPlayer(St)}}),r.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<R.length;ut++){const ot=R[ut],St=ot[tc];if(I0(ot,ck),St&&St.hasAnimation)continue;let Wt=[];if(l.size){let Or=l.get(ot);Or&&Or.length&&Wt.push(...Or);let $n=this.driver.query(ot,hU,!0);for(let lr=0;lr<$n.length;lr++){let fn=l.get($n[lr]);fn&&fn.length&&Wt.push(...fn)}}const zn=Wt.filter(Or=>!Or.destroyed);zn.length?ave(this,ot,zn):this.processLeaveNode(ot)}return R.length=0,Xn.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const ot=this.players.indexOf(ut);this.players.splice(ot,1)}),ut.play()}),Xn}elementContainsData(e,t){let i=!1;const r=t[tc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const d=!s||s==yD;l.forEach(f=>{f.queued||!d&&f.triggerName!=r||o.push(f)})}}return(i||r)&&(o=o.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const d of t.timelines){const f=d.element,m=f!==s,_=vl(i,f,[]);this._getPreviousPlayers(f,m,o,l,t.toState).forEach(x=>{const M=x.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),x.destroy(),_.push(x)})}My(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const l=t.triggerName,d=t.element,f=[],m=new Set,_=new Set,w=t.timelines.map(M=>{const k=M.element;m.add(k);const R=k[tc];if(R&&R.removedBeforeQueried)return new kE(M.duration,M.delay);const $=k!==d,W=function lve(n){const e=[];return S9(n,e),e}((i.get(k)||eve).map(Ze=>Ze.getRealPlayer())).filter(Ze=>!!Ze.element&&Ze.element===k),ie=s.get(k),re=o.get(k),ge=JZ(0,this._normalizer,0,M.keyframes,ie,re),Ee=this._buildPlayer(M,ge,W);if(M.subTimeline&&r&&_.add(k),$){const Ze=new TU(e,l,k);Ze.setRealPlayer(Ee),f.push(Ze)}return Ee});f.forEach(M=>{vl(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function rve(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,M.element,M))}),m.forEach(M=>nc(M,c9));const x=Rm(w);return x.onDestroy(()=>{m.forEach(M=>I0(M,c9)),md(d,t.toStyles)}),_.forEach(M=>{vl(r,M,[]).push(x)}),x}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new kE(e.duration,e.delay)}}class TU{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new kE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>sU(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ck(n){return n&&1===n.nodeType}function D9(n,e){const t=n.style.display;return n.style.display=e??"none",t}function T9(n,e,t,i,r){const s=[];t.forEach(d=>s.push(D9(d)));const o=[];i.forEach((d,f)=>{const m=new Map;d.forEach(_=>{const w=e.computeStyle(f,_,r);m.set(_,w),(!w||0==w.length)&&(f[tc]=tve,o.push(f))}),n.set(f,m)});let l=0;return t.forEach(d=>D9(d,s[l++])),o}function I9(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(l){if(!l)return i;let d=s.get(l);if(d)return d;const f=l.parentNode;return d=t.has(f)?f:r.has(f)?i:o(f),s.set(l,d),d}return e.forEach(l=>{const d=o(l);d!==i&&t.get(d).push(l)}),t}function nc(n,e){n.classList?.add(e)}function I0(n,e){n.classList?.remove(e)}function ave(n,e,t){Rm(t).onDone(()=>n.processLeaveNode(e))}function S9(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof B4?S9(i.players,e):e.push(i)}}function A9(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Ek{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new ive(e,t,i),this._timelineEngine=new Zbe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let l=this._triggerCache[o];if(!l){const d=[],f=[],m=gU(this._driver,s,d,f);if(d.length)throw function qye(n,e){return new a.vHH(3404,!1)}();l=function $be(n,e,t){return new Wbe(n,e,t)}(r,m,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=e9(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,l]=e9(i);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let dve=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&md(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(md(this._element,this._initialStyles),this._endStyles&&(md(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(My(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(My(this._element,this._endStyles),this._endStyles=null),md(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function IU(n){let e=null;return n.forEach((t,i)=>{(function hve(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class M9{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:m9(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class fve{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return s9(e,t)}getParentElement(e){return cU(e)}query(e,t,i){return o9(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const d={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const f=new Map,m=o.filter(x=>x instanceof M9);(function _be(n,e){return 0===n||0===e})(i,r)&&m.forEach(x=>{x.currentSnapshot.forEach((M,k)=>f.set(k,M))});let _=function fbe(n){return n.length?n[0]instanceof Map?n:n.map(e=>u9(e)):[]}(t).map(x=>Pm(x));_=function ybe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(l=>o.set(l,m9(n,l)))}}return e}(e,_,f);const w=function uve(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=IU(e[0]),e.length>1&&(i=IU(e[e.length-1]))):e instanceof Map&&(t=IU(e)),t||i?new dve(n,t,i):null}(e,_);return new M9(e,_,d,w)}}let pve=(()=>{class n extends N4{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?F4(t):t;return k9(this._renderer,null,i,"register",[r]),new mve(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(j))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class mve extends sie{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new gve(this._id,e,t||{},this._renderer)}}class gve{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return k9(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function k9(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const R9="@.disabled";let _ve=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const l=o?.parentNode(s);l&&o.removeChild(l,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let m=this._rendererCache.get(s);return m||(m=new P9("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,m)),m}const o=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const d=m=>{Array.isArray(m)?m.forEach(d):this.engine.registerTrigger(o,l,t,m.name,m)};return i.data.animation.forEach(d),new yve(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(Ek),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class P9{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==R9?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yve extends P9{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==R9?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function bve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vve(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(e,t,i)}}let wve=(()=>{class n extends Ek{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j),a.LFG(uU),a.LFG(wU),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const O9=[{provide:N4,useClass:pve},{provide:wU,useFactory:function Cve(){return new Hbe}},{provide:Ek,useClass:wve},{provide:a.FYo,useFactory:function Eve(n,e,t){return new _ve(n,e,t)},deps:[is,Ek,a.R0b]}],SU=[{provide:uU,useFactory:()=>new fve},{provide:a.QbO,useValue:"BrowserAnimations"},...O9],N9=[{provide:uU,useClass:a9},{provide:a.QbO,useValue:"NoopAnimations"},...O9];let xve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?N9:SU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:SU,imports:[el]}),n})();const Om=new Di.y(nF.Z),Tve={connector:()=>new zt.x};function F9(n,e=Tve){const{connector:t}=e;return(0,Li.e)((i,r)=>{const s=t();(0,Lr.Xf)(n(function Dve(n){return new Di.y(e=>n.subscribe(e))}(s))).subscribe(r),r.add(i.subscribe(s))})}function L9(n,e){return e?t=>vh(e.pipe(si(1),function Ave(){return(0,Li.e)((n,e)=>{n.subscribe((0,ni.x)(e,nF.Z))})}()),t.pipe(L9(n))):(0,vr.z)((t,i)=>(0,Lr.Xf)(n(t,i)).pipe(si(1),lS(t)))}const bD="Service workers are disabled or not supported by this browser";class Dk{constructor(e){if(this.serviceWorker=e,e){const i=Lh(e,"controllerchange").pipe((0,Ht.U)(()=>e.controller)),s=vh(Hp(()=>Tt(e.controller)),i);this.worker=s.pipe(li(m=>!!m)),this.registration=this.worker.pipe(ii(()=>e.getRegistration()));const f=Lh(e,"message").pipe((0,Ht.U)(m=>m.data)).pipe(li(m=>m&&m.type)).pipe(function Sve(n){return n?e=>F9(n)(e):e=>function Ive(n,e){const t=(0,Br.m)(n)?n:()=>n;return(0,Br.m)(e)?F9(e,{connector:t}):i=>new Ob(i,t)}(new zt.x)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function kve(n){return Hp(()=>qu(new Error(n)))}(bD)}postMessage(e,t){return this.worker.pipe(si(1),(0,us.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(li(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(si(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(li(t=>t.nonce===e),si(1),(0,Ht.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Rve=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new zt.x,!t.isEnabled)return this.messages=Om,this.notificationClicks=Om,void(this.subscription=Om);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ht.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ht.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,Ht.U)(r=>r.pushManager));const i=this.pushManager.pipe(ii(r=>r.getSubscription()));this.subscription=(0,Hs.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(bD));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(ii(o=>o.subscribe(i)),si(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(si(1),ii(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(bD))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Dk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Pve=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Om,this.available=Om,this.activated=Om,void(this.unrecoverable=Om);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(li(i=>"VERSION_READY"===i.type),(0,Ht.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bD));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bD));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Dk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class AU{}const V9=new a.OlP("NGSW_REGISTER_SCRIPT");function Ove(n,e,t,i){return()=>{if(!vo(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[o,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":r=Tt(null);break;case"registerWithDelay":r=B9(+l[0]||0);break;case"registerWhenStable":r=l[0]?(0,Hs.T)(U9(n),B9(+l[0])):U9(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(a.R0b).runOutsideAngular(()=>r.pipe(si(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function B9(n){return Tt(null).pipe(function Mve(n,e=TA.z){const t=TF(n,e);return L9(()=>t)}(n))}function U9(n){return n.get(a.z2F).isStable.pipe(li(t=>t))}function Nve(n,e){return new Dk(vo(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Fve=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:V9,useValue:t},{provide:AU,useValue:i},{provide:Dk,useFactory:Nve,deps:[AU,a.Lbi]},{provide:a.ip1,useFactory:Ove,deps:[a.zs3,V9,AU,a.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Rve,Pve]}),n})();!function rc(n,e,t){(0,a.dwT)(n,e,t)}(wa,"es");const H9={apiKey:"AIzaSyBEQ1xlYvYPkh6r3aNiMDplV27dRSoV2J0",authDomain:"proyecto-final-9cd83.firebaseapp.com",projectId:"proyecto-final-9cd83",storageBucket:"proyecto-final-9cd83.appspot.com",messagingSenderId:"248208646105",appId:"1:248208646105:web:5758c93dfbdc9c2ca103c8"};let Lve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[Dye]}),n.\u0275inj=a.cJS({providers:[I8,QZ,{provide:a.soG,useValue:"es-mx"},{provide:"firebase-config",useValue:H9},{provide:"firebase-app",useFactory:()=>ku(H9)}],imports:[el,F_e,$ne,Wne,xve,pre,ooe,Ote,KA,Toe,Sse,g5,MA,EK,Joe,xo.hO.initializeApp(wC_firebase),UU,Fve.register("ngsw-worker.js",{enabled:!(0,a.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),jd(()=>ku(wC_firebase)),kD(()=>$k()),WI(()=>HP())]}),n})();Wm().bootstrapModule(Lve).catch(n=>console.error(n))},6959:function(tt,ee){var a;!function(L){"use strict";var B=":not(:disabled):not(.ajs-reset)",z={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39,TAB:9},G={autoReset:!0,basic:!1,closable:!0,closableByDimmer:!0,invokeOnCloseOff:!1,frameless:!1,defaultFocusOff:!1,maintainFocus:!0,maximizable:!0,modal:!0,movable:!0,moveBounded:!1,overflow:!0,padding:!0,pinnable:!0,pinned:!0,preventBodyShift:!1,resizable:!0,startMaximized:!1,transition:"pulse",transitionOff:!1,tabbable:["button","[href]","input","select","textarea",'[tabindex]:not([tabindex^="-"])'+B].join(B+","),notifier:{delay:5,position:"bottom-right",closeButton:!1,classes:{base:"alertify-notifier",prefix:"ajs-",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",center:"ajs-center",visible:"ajs-visible",hidden:"ajs-hidden",close:"ajs-close"}},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"},hooks:{preinit:function(){},postinit:function(){}}},j=[];function Z(le,ve){le.className+=" "+ve}function Q(le,ve){for(var be=le.className.split(" "),De=ve.split(" "),ue=0;ue<De.length;ue+=1){var X=be.indexOf(De[ue]);X>-1&&be.splice(X,1)}le.className=be.join(" ")}function me(){return"rtl"===L.getComputedStyle(document.body).direction}function K(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function J(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function ne(le){for(;le.lastChild;)le.removeChild(le.lastChild)}function Pe(le){if(null===le)return le;var ve;if(Array.isArray(le)){ve=[];for(var be=0;be<le.length;be+=1)ve.push(Pe(le[be]));return ve}if(le instanceof Date)return new Date(le.getTime());if(le instanceof RegExp)return(ve=new RegExp(le.source)).global=le.global,ve.ignoreCase=le.ignoreCase,ve.multiline=le.multiline,ve.lastIndex=le.lastIndex,ve;if("object"==typeof le){for(var De in ve={},le)le.hasOwnProperty(De)&&(ve[De]=Pe(le[De]));return ve}return le}function Me(le,ve){if(le.elements){var be=le.elements.root;be.parentNode.removeChild(be),delete le.elements,le.settings=Pe(le.__settings),le.__init=ve,delete le.__internal}}var Xe=!1;try{var mt=Object.defineProperty({},"passive",{get:function(){Xe=!0}});L.addEventListener("test",mt,mt),L.removeEventListener("test",mt,mt)}catch{}var pe=function(le,ve,be,De,ue){le.addEventListener(ve,be,Xe?{capture:De,passive:ue}:!0===De)},xe=function(le,ve,be,De,ue){le.removeEventListener(ve,be,Xe?{capture:De,passive:ue}:!0===De)},ke=function(){var le,ve,be=!1,De={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(le in De)if(void 0!==document.documentElement.style[le]){ve=De[le],be=!0;break}return{type:ve,supported:be}}();function Re(le,ve){return function(){if(arguments.length>0){for(var be=[],De=0;De<arguments.length;De+=1)be.push(arguments[De]);return be.push(le),ve.apply(le,be)}return ve.apply(le,[null,le])}}function Ge(le,ve){return{index:le,button:ve,cancel:!1}}function Ne(le,ve){if("function"==typeof ve.get(le))return ve.get(le).call(ve)}var Se=function(){var He,Le,le=[],be=!1,De=L.navigator.userAgent.indexOf("Safari")>-1&&L.navigator.userAgent.indexOf("Chrome")<0,ue={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},X={animationIn:"ajs-in",animationOut:"ajs-out",base:"alertify",basic:"ajs-basic",capture:"ajs-capture",closable:"ajs-closable",fixed:"ajs-fixed",frameless:"ajs-frameless",hidden:"ajs-hidden",maximize:"ajs-maximize",maximized:"ajs-maximized",maximizable:"ajs-maximizable",modeless:"ajs-modeless",movable:"ajs-movable",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",pin:"ajs-pin",pinnable:"ajs-pinnable",prefix:"ajs-",resizable:"ajs-resizable",restore:"ajs-restore",shake:"ajs-shake",unpinned:"ajs-unpinned",noTransition:"ajs-no-transition"};function we(V){if(!V.__internal){var ce;se.defaults.hooks.preinit(V),delete V.__init,V.__settings||(V.__settings=Pe(V.settings)),"function"==typeof V.setup?((ce=V.setup()).options=ce.options||{},ce.focus=ce.focus||{}):ce={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof V.hooks&&(V.hooks={});var qe=[];if(Array.isArray(ce.buttons))for(var Ye=0;Ye<ce.buttons.length;Ye+=1){var Dt=ce.buttons[Ye],Ot={};for(var Zt in Dt)Dt.hasOwnProperty(Zt)&&(Ot[Zt]=Dt[Zt]);qe.push(Ot)}var pn=V.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:qe,focus:ce.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,defaultFocusOff:void 0,pinned:void 0,movable:void 0,moveBounded:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,invokeOnCloseOff:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,transitionOff:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclosing:void 0,onclose:void 0,onfocus:void 0,onmove:void 0,onmoved:void 0,onresize:void 0,onresized:void 0,onmaximize:void 0,onmaximized:void 0,onrestore:void 0,onrestored:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0,destroy:void 0},at={};at.root=document.createElement("div"),at.root.style.display="none",at.root.className=X.base+" "+X.hidden+" ",at.root.innerHTML=ue.dimmer+ue.modal,at.dimmer=at.root.firstChild,at.modal=at.root.lastChild,at.modal.innerHTML=ue.dialog,at.dialog=at.modal.firstChild,at.dialog.innerHTML=ue.reset+ue.commands+ue.header+ue.body+ue.footer+ue.resizeHandle+ue.reset,at.reset=[],at.reset.push(at.dialog.firstChild),at.reset.push(at.dialog.lastChild),at.commands={},at.commands.container=at.reset[0].nextSibling,at.commands.pin=at.commands.container.firstChild,at.commands.maximize=at.commands.pin.nextSibling,at.commands.close=at.commands.maximize.nextSibling,at.header=at.commands.container.nextSibling,at.body=at.header.nextSibling,at.body.innerHTML=ue.content,at.content=at.body.firstChild,at.footer=at.body.nextSibling,at.footer.innerHTML=ue.buttons.auxiliary+ue.buttons.primary,at.resizeHandle=at.footer.nextSibling,at.buttons={},at.buttons.auxiliary=at.footer.firstChild,at.buttons.primary=at.buttons.auxiliary.nextSibling,at.buttons.primary.innerHTML=ue.button,at.buttonTemplate=at.buttons.primary.firstChild,at.buttons.primary.removeChild(at.buttonTemplate);for(var Kt=0;Kt<V.__internal.buttons.length;Kt+=1){var Pi=V.__internal.buttons[Kt];for(var Sr in le.indexOf(Pi.key)<0&&le.push(Pi.key),Pi.element=at.buttonTemplate.cloneNode(),Pi.element.innerHTML=Pi.text,"string"==typeof Pi.className&&""!==Pi.className&&Z(Pi.element,Pi.className),Pi.attrs)"className"!==Sr&&Pi.attrs.hasOwnProperty(Sr)&&Pi.element.setAttribute(Sr,Pi.attrs[Sr]);"auxiliary"===Pi.scope?at.buttons.auxiliary.appendChild(Pi.element):at.buttons.primary.appendChild(Pi.element)}for(var mr in V.elements=at,pn.resetHandler=Re(V,_n),pn.beginMoveHandler=Re(V,st),pn.beginResizeHandler=Re(V,ze),pn.bringToFrontHandler=Re(V,Ai),pn.modalClickHandler=Re(V,dr),pn.buttonsClickHandler=Re(V,Ci),pn.commandsClickHandler=Re(V,Fs),pn.transitionInHandler=Re(V,Dr),pn.transitionOutHandler=Re(V,Ei),pn.options)void 0!==ce.options[mr]?V.set(mr,ce.options[mr]):se.defaults.hasOwnProperty(mr)?V.set(mr,se.defaults[mr]):"title"===mr&&V.set(mr,se.defaults.glossary[mr]);"function"==typeof V.build&&V.build(),se.defaults.hooks.postinit(V)}document.body.appendChild(V.elements.root)}function $e(){L.scrollTo(He,Le)}function ct(){for(var V=0,ce=0;ce<j.length;ce+=1){var qe=j[ce];(qe.isModal()||qe.isMaximized())&&(V+=1)}0===V&&document.body.className.indexOf(X.noOverflow)>=0?(Q(document.body,X.noOverflow),Lt(!1)):V>0&&document.body.className.indexOf(X.noOverflow)<0&&(Lt(!0),Z(document.body,X.noOverflow))}var rt="",jt=0;function Lt(V){se.defaults.preventBodyShift&&(V&&document.documentElement.scrollHeight>document.documentElement.clientHeight?(jt=Le,rt=L.getComputedStyle(document.body).top,Z(document.body,X.fixed),document.body.style.top=-Le+"px"):V||(Le=jt,document.body.style.top=rt,Q(document.body,X.fixed),$e()))}function Ai(V,ce){for(var Ye=j.indexOf(ce)+1;Ye<j.length;Ye+=1)if(j[Ye].isModal())return;return document.body.lastChild!==ce.elements.root&&(document.body.appendChild(ce.elements.root),j.splice(j.indexOf(ce),1),j.push(ce),Ss(ce)),!1}function Nr(V,ce,qe,Ye,Dt){var Zt,Ot={op:void 0,items:[]};if(typeof Dt>"u"&&"string"==typeof Ye)Ot.op="get",ce.hasOwnProperty(Ye)?(Ot.found=!0,Ot.value=ce[Ye]):(Ot.found=!1,Ot.value=void 0);else if(Ot.op="set","object"==typeof Ye){var pn=Ye;for(var at in pn)ce.hasOwnProperty(at)?(ce[at]!==pn[at]&&(Zt=ce[at],ce[at]=pn[at],qe.call(V,at,Zt,pn[at])),Ot.items.push({key:at,value:pn[at],found:!0})):Ot.items.push({key:at,value:pn[at],found:!1})}else{if("string"!=typeof Ye)throw new Error("args must be a string or object");ce.hasOwnProperty(Ye)?(ce[Ye]!==Dt&&(Zt=ce[Ye],ce[Ye]=Dt,qe.call(V,Ye,Zt,Dt)),Ot.items.push({key:Ye,value:Dt,found:!0})):Ot.items.push({key:Ye,value:Dt,found:!1})}return Ot}function Jr(V){var ce;hr(V,function(qe){return ce=!0!==V.get("invokeOnCloseOff")&&!0===qe.invokeOnClose}),!ce&&V.isOpen()&&V.close()}function Fs(V,ce){switch(V.srcElement||V.target){case ce.elements.commands.pin:ce.isPinned()?oa(ce):Ls(ce);break;case ce.elements.commands.maximize:ce.isMaximized()?At(ce):Mi(ce);break;case ce.elements.commands.close:Jr(ce)}return!1}function Ls(V){V.set("pinned",!0)}function oa(V){V.set("pinned",!1)}function Mi(V){Ne("onmaximize",V),Z(V.elements.root,X.maximized),V.isOpen()&&ct(),Ne("onmaximized",V)}function At(V){Ne("onrestore",V),Q(V.elements.root,X.maximized),V.isOpen()&&ct(),Ne("onrestored",V)}function Ua(V){var ce=J();V.elements.modal.style.marginTop=K()+"px",V.elements.modal.style.marginLeft=ce+"px",V.elements.modal.style.marginRight=-ce+"px"}function ki(V){var ce=parseInt(V.elements.modal.style.marginTop,10),qe=parseInt(V.elements.modal.style.marginLeft,10);if(V.elements.modal.style.marginTop="",V.elements.modal.style.marginLeft="",V.elements.modal.style.marginRight="",V.isOpen()){var Ye=0,Dt=0;""!==V.elements.dialog.style.top&&(Ye=parseInt(V.elements.dialog.style.top,10)),V.elements.dialog.style.top=Ye+(ce-K())+"px",""!==V.elements.dialog.style.left&&(Dt=parseInt(V.elements.dialog.style.left,10)),V.elements.dialog.style.left=Dt+(qe-J())+"px"}}function ur(V){V.get("modal")||V.get("pinned")?ki(V):Ua(V)}var Pt=!1,nn=0;function dr(V,ce){if(V.timeStamp-nn>200&&(nn=V.timeStamp)&&!Pt){var qe=V.srcElement||V.target;!0===ce.get("closableByDimmer")&&qe===ce.elements.modal&&Jr(ce)}Pt=!1}var xr=0,ti=!1;function hr(V,ce){if(Date.now()-xr>200&&(xr=Date.now()))for(var qe=0;qe<V.__internal.buttons.length;qe+=1){var Ye=V.__internal.buttons[qe];if(!Ye.element.disabled&&ce(Ye)){var Dt=Ge(qe,Ye);"function"==typeof V.callback&&V.callback.apply(V,[Dt]),!1===Dt.cancel&&V.close();break}}}function Ci(V,ce){var qe=V.srcElement||V.target;hr(ce,function(Ye){return Ye.element===qe&&(ti=!0)})}function fr(V){if(!ti){var ce=j[j.length-1],qe=V.keyCode;return 0===ce.__internal.buttons.length&&qe===z.ESC&&!0===ce.get("closable")?(Jr(ce),!1):le.indexOf(qe)>-1?(hr(ce,function(Ye){return Ye.key===qe}),!1):void 0}ti=!1}function Wn(V){var ce=j[j.length-1],qe=V.keyCode;if(qe===z.LEFT||qe===z.RIGHT){for(var Ye=ce.__internal.buttons,Dt=0;Dt<Ye.length;Dt+=1)if(document.activeElement===Ye[Dt].element)switch(qe){case z.LEFT:return void Ye[(Dt||Ye.length)-1].element.focus();case z.RIGHT:return void Ye[(Dt+1)%Ye.length].element.focus()}}else if(qe<z.F12+1&&qe>z.F1-1&&le.indexOf(qe)>-1)return V.preventDefault(),V.stopPropagation(),hr(ce,function(Ot){return Ot.key===qe}),!1}function Ss(V,ce){if(ce)ce.focus();else{var qe=V.__internal.focus,Ye=qe.element;switch(typeof qe.element){case"number":V.__internal.buttons.length>qe.element&&(Ye=!0===V.get("basic")?V.elements.reset[0]:V.__internal.buttons[qe.element].element);break;case"string":Ye=V.elements.body.querySelector(qe.element);break;case"function":Ye=qe.element.call(V)}(!0===V.get("defaultFocusOff")||(typeof Ye>"u"||null===Ye)&&0===V.__internal.buttons.length)&&(Ye=V.elements.reset[0]),Ye&&Ye.focus&&(Ye.focus(),qe.select&&Ye.select&&Ye.select())}}function _n(V,ce){if(!ce)for(var qe=j.length-1;qe>-1;qe-=1)if(j[qe].isModal()){ce=j[qe];break}if(ce&&ce.isModal()){var at,Ye=ce.elements.reset[0],Dt=ce.elements.reset[1],Ot=V.relatedTarget,Zt=ce.elements.root.contains(Ot),pn=V.srcElement||V.target;if(pn===Ye&&!Zt||pn===Dt&&Ot===Ye)return;pn===Dt||pn===document.body?at=Ye:pn===Ye&&Ot===Dt?at=es(ce):pn===Ye&&Zt&&(at=es(ce,!0)),Ss(ce,at)}}function es(V,ce){var qe=[].slice.call(V.elements.dialog.querySelectorAll(G.tabbable));ce&&qe.reverse();for(var Ye=0;Ye<qe.length;Ye+=1){var Dt=qe[Ye];if(Dt.offsetParent||Dt.offsetWidth||Dt.offsetHeight||Dt.getClientRects().length)return Dt}}function Tn(V){var ce=j[j.length-1];ce&&V.shiftKey&&V.keyCode===z.TAB&&ce.elements.reset[1].focus()}function Dr(V,ce){clearTimeout(ce.__internal.timerIn),Ss(ce),ti=!1,Ne("onfocus",ce),xe(ce.elements.dialog,ke.type,ce.__internal.transitionInHandler),Q(ce.elements.root,X.animationIn)}function Ei(V,ce){clearTimeout(ce.__internal.timerOut),xe(ce.elements.dialog,ke.type,ce.__internal.transitionOutHandler),ri(ce),Mt(ce),ce.isMaximized()&&!ce.get("startMaximized")&&At(ce),"function"==typeof ce.__internal.destroy&&ce.__internal.destroy.apply(ce)}var xi=null,ui=0,Tr=0,qi="pageX",pr="pageY",oe=null,te=!1,de=null;function We(V,ce){var Ye=V[pr]-Tr;te&&(Ye-=document.body.scrollTop),ce.style.left=V[qi]-ui+"px",ce.style.top=Ye+"px"}function Te(V,ce){var Ye=V[pr]-Tr;te&&(Ye-=document.body.scrollTop),ce.style.left=Math.min(oe.maxLeft,Math.max(oe.minLeft,V[qi]-ui))+"px",ce.style.top=te?Math.min(oe.maxTop,Math.max(oe.minTop,Ye))+"px":Math.max(oe.minTop,Ye)+"px"}function st(V,ce){if(null===Rn&&!ce.isMaximized()&&ce.get("movable")){var qe,Ye=0,Dt=0;if("touchstart"===V.type?(V.preventDefault(),qe=V.targetTouches[0],qi="clientX",pr="clientY"):0===V.button&&(qe=V),qe){var Ot=ce.elements.dialog;if(Z(Ot,X.capture),Ot.style.left&&(Ye=parseInt(Ot.style.left,10)),Ot.style.top&&(Dt=parseInt(Ot.style.top,10)),ui=qe[qi]-Ye,Tr=qe[pr]-Dt,ce.isModal()?Tr+=ce.elements.modal.scrollTop:ce.isPinned()&&(Tr-=document.body.scrollTop),ce.get("moveBounded")){var Zt=Ot,pn=-Ye,at=-Dt;do{pn+=Zt.offsetLeft,at+=Zt.offsetTop}while(Zt=Zt.offsetParent);oe={maxLeft:pn,minLeft:-pn,maxTop:document.documentElement.clientHeight-Ot.clientHeight-at,minTop:-at},de=Te}else oe=null,de=We;return Ne("onmove",ce),te=!ce.isModal()&&ce.isPinned(),xi=ce,de(qe,Ot),Z(document.body,X.noSelection),!1}}}function Gt(V){var ce;xi&&("touchmove"===V.type?(V.preventDefault(),ce=V.targetTouches[0]):0===V.button&&(ce=V),ce&&de(ce,xi.elements.dialog))}function kn(){if(xi){var V=xi;xi=oe=null,Q(document.body,X.noSelection),Q(V.elements.dialog,X.capture),Ne("onmoved",V)}}function ri(V){xi=null;var ce=V.elements.dialog;ce.style.left=ce.style.top=""}var Rn=null,cn=Number.Nan,zi=0,Ir=0,_s=0;function ze(V,ce){var qe;if(!ce.isMaximized()&&("touchstart"===V.type?(V.preventDefault(),qe=V.targetTouches[0]):0===V.button&&(qe=V),qe)){Ne("onresize",ce),Rn=ce,_s=ce.elements.resizeHandle.offsetHeight/2;var Ye=ce.elements.dialog;return Z(Ye,X.capture),cn=parseInt(Ye.style.left,10),Ye.style.height=Ye.offsetHeight+"px",Ye.style.minHeight=ce.elements.header.offsetHeight+ce.elements.footer.offsetHeight+"px",Ye.style.width=(zi=Ye.offsetWidth)+"px","none"!==Ye.style.maxWidth&&(Ye.style.minWidth=(Ir=Ye.offsetWidth)+"px"),Ye.style.maxWidth="none",Z(document.body,X.noSelection),!1}}function Ce(V){var ce;Rn&&("touchmove"===V.type?(V.preventDefault(),ce=V.targetTouches[0]):0===V.button&&(ce=V),ce&&function aa(V,ce,qe){var Zt,pn,Ye=ce,Dt=0,Ot=0;do{Dt+=Ye.offsetLeft,Ot+=Ye.offsetTop}while(Ye=Ye.offsetParent);!0===qe?(Zt=V.pageX,pn=V.pageY):(Zt=V.clientX,pn=V.clientY);var at=me();if(at&&(Zt=document.body.offsetWidth-Zt,isNaN(cn)||(Dt=document.body.offsetWidth-Dt-ce.offsetWidth)),ce.style.height=pn-Ot+_s+"px",ce.style.width=Zt-Dt+_s+"px",!isNaN(cn)){var Kt=.5*Math.abs(ce.offsetWidth-zi);at&&(Kt*=-1),ce.offsetWidth>zi?ce.style.left=cn+Kt+"px":ce.offsetWidth>=Ir&&(ce.style.left=cn-Kt+"px")}}(ce,Rn.elements.dialog,!Rn.get("modal")&&!Rn.get("pinned")))}function et(){if(Rn){var V=Rn;Rn=null,Q(document.body,X.noSelection),Q(V.elements.dialog,X.capture),Pt=!0,Ne("onresized",V)}}function Mt(V){Rn=null;var ce=V.elements.dialog;"none"===ce.style.maxWidth&&(ce.style.maxWidth=ce.style.minWidth=ce.style.width=ce.style.height=ce.style.minHeight=ce.style.left="",cn=Number.Nan,zi=Ir=_s=0)}function un(){for(var V=0;V<j.length;V+=1){var ce=j[V];ce.get("autoReset")&&(ri(ce),Mt(ce))}}function vn(V){pe(V.elements.dialog,"focus",V.__internal.bringToFrontHandler,!0)}function Yi(V){xe(V.elements.dialog,"focus",V.__internal.bringToFrontHandler,!0)}function Ri(V){pe(V.elements.header,"mousedown",V.__internal.beginMoveHandler),pe(V.elements.header,"touchstart",V.__internal.beginMoveHandler,!1,!1)}function Ha(V){xe(V.elements.header,"mousedown",V.__internal.beginMoveHandler),xe(V.elements.header,"touchstart",V.__internal.beginMoveHandler,!1,!1)}function rc(V){pe(V.elements.resizeHandle,"mousedown",V.__internal.beginResizeHandler),pe(V.elements.resizeHandle,"touchstart",V.__internal.beginResizeHandler,!1,!1)}function to(V){xe(V.elements.resizeHandle,"mousedown",V.__internal.beginResizeHandler),xe(V.elements.resizeHandle,"touchstart",V.__internal.beginResizeHandler,!1,!1)}return{__init:we,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(X.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(X.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(X.unpinned)<0},maximize:function(){return this.isMaximized()||Mi(this),this},restore:function(){return this.isMaximized()&&At(this),this},pin:function(){return this.isPinned()||Ls(this),this},unpin:function(){return this.isPinned()&&oa(this),this},bringToFront:function(){return Ai(0,this),this},moveTo:function(V,ce){if(!isNaN(V)&&!isNaN(ce)){Ne("onmove",this);var qe=this.elements.dialog,Ye=qe,Dt=0,Ot=0;qe.style.left&&(Dt-=parseInt(qe.style.left,10)),qe.style.top&&(Ot-=parseInt(qe.style.top,10));do{Dt+=Ye.offsetLeft,Ot+=Ye.offsetTop}while(Ye=Ye.offsetParent);var Zt=V-Dt,pn=ce-Ot;me()&&(Zt*=-1),qe.style.left=Zt+"px",qe.style.top=pn+"px",Ne("onmoved",this)}return this},resizeTo:function(V,ce){var qe=parseFloat(V),Ye=parseFloat(ce),Dt=/(\d*\.\d+|\d+)%/;if(!isNaN(qe)&&!isNaN(Ye)&&!0===this.get("resizable")){Ne("onresize",this),(""+V).match(Dt)&&(qe=qe/100*document.documentElement.clientWidth),(""+ce).match(Dt)&&(Ye=Ye/100*document.documentElement.clientHeight);var Ot=this.elements.dialog;"none"!==Ot.style.maxWidth&&(Ot.style.minWidth=(Ir=Ot.offsetWidth)+"px"),Ot.style.maxWidth="none",Ot.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",Ot.style.width=qe+"px",Ot.style.height=Ye+"px",Ne("onresized",this)}return this},setting:function(V,ce){var qe=this,Ye=Nr(this,this.__internal.options,function(pn,at,Kt){!function Hi(V,ce,qe,Ye){switch(ce){case"title":V.setHeader(Ye);break;case"modal":!function Rt(V){V.get("modal")?(Q(V.elements.root,X.modeless),V.isOpen()&&(Yi(V),ur(V),ct())):(Z(V.elements.root,X.modeless),V.isOpen()&&(vn(V),ur(V),ct()))}(V);break;case"basic":!function En(V){V.get("basic")?Z(V.elements.root,X.basic):Q(V.elements.root,X.basic)}(V);break;case"frameless":!function Dn(V){V.get("frameless")?Z(V.elements.root,X.frameless):Q(V.elements.root,X.frameless)}(V);break;case"pinned":!function Is(V){V.get("pinned")?(Q(V.elements.root,X.unpinned),V.isOpen()&&ki(V)):(Z(V.elements.root,X.unpinned),V.isOpen()&&!V.isModal()&&Ua(V))}(V);break;case"closable":!function mn(V){V.get("closable")?(Z(V.elements.root,X.closable),function ji(V){pe(V.elements.modal,"click",V.__internal.modalClickHandler)}(V)):(Q(V.elements.root,X.closable),function yt(V){xe(V.elements.modal,"click",V.__internal.modalClickHandler)}(V))}(V);break;case"maximizable":!function Ln(V){V.get("maximizable")?Z(V.elements.root,X.maximizable):Q(V.elements.root,X.maximizable)}(V);break;case"pinnable":!function yo(V){V.get("pinnable")?Z(V.elements.root,X.pinnable):Q(V.elements.root,X.pinnable)}(V);break;case"movable":!function qn(V){V.get("movable")?(Z(V.elements.root,X.movable),V.isOpen()&&Ri(V)):(ri(V),Q(V.elements.root,X.movable),V.isOpen()&&Ha(V))}(V);break;case"resizable":!function Yt(V){V.get("resizable")?(Z(V.elements.root,X.resizable),V.isOpen()&&rc(V)):(Mt(V),Q(V.elements.root,X.resizable),V.isOpen()&&to(V))}(V);break;case"padding":Ye?Q(V.elements.root,X.noPadding):V.elements.root.className.indexOf(X.noPadding)<0&&Z(V.elements.root,X.noPadding);break;case"overflow":Ye?Q(V.elements.root,X.noOverflow):V.elements.root.className.indexOf(X.noOverflow)<0&&Z(V.elements.root,X.noOverflow);break;case"transition":!function en(V,ce,qe){"string"==typeof qe&&Q(V.elements.root,X.prefix+qe),Z(V.elements.root,X.prefix+ce)}(V,Ye,qe);break;case"transitionOff":!function ft(V){V.get("transitionOff")?Z(V.elements.root,X.noTransition):Q(V.elements.root,X.noTransition)}(V)}"function"==typeof V.hooks.onupdate&&V.hooks.onupdate.call(V,ce,qe,Ye)}(qe,pn,at,Kt)},V,ce);if("get"===Ye.op)return Ye.found?Ye.value:typeof this.settings<"u"?Nr(this,this.settings,this.settingUpdated||function(){},V,ce).value:void 0;if("set"===Ye.op){if(Ye.items.length>0)for(var Dt=this.settingUpdated||function(){},Ot=0;Ot<Ye.items.length;Ot+=1){var Zt=Ye.items[Ot];!Zt.found&&typeof this.settings<"u"&&Nr(this,this.settings,Dt,Zt.key,Zt.value)}return this}},set:function(V,ce){return this.setting(V,ce),this},get:function(V){return this.setting(V)},setHeader:function(V){return"string"==typeof V?(ne(this.elements.header),this.elements.header.innerHTML=V):V instanceof L.HTMLElement&&this.elements.header.firstChild!==V&&(ne(this.elements.header),this.elements.header.appendChild(V)),this},setContent:function(V){return"string"==typeof V?(ne(this.elements.content),this.elements.content.innerHTML=V):V instanceof L.HTMLElement&&this.elements.content.firstChild!==V&&(ne(this.elements.content),this.elements.content.appendChild(V)),this},showModal:function(V){return this.show(!0,V)},show:function(V,ce){if(we(this),this.__internal.isOpen){ri(this),Mt(this),Z(this.elements.dialog,X.shake);var Ye=this;setTimeout(function(){Q(Ye.elements.dialog,X.shake)},200)}else{if(this.__internal.isOpen=!0,j.push(this),se.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex",be="0"),"function"==typeof this.prepare&&this.prepare(),function Vt(V){1===j.length&&(pe(L,"resize",un),pe(document.body,"keyup",fr),pe(document.body,"keydown",Wn),pe(document.body,"focus",_n),pe(document.documentElement,"mousemove",Gt),pe(document.documentElement,"touchmove",Gt,!1,!1),pe(document.documentElement,"mouseup",kn),pe(document.documentElement,"touchend",kn),pe(document.documentElement,"mousemove",Ce),pe(document.documentElement,"touchmove",Ce,!1,!1),pe(document.documentElement,"mouseup",et),pe(document.documentElement,"touchend",et)),pe(V.elements.commands.container,"click",V.__internal.commandsClickHandler),pe(V.elements.footer,"click",V.__internal.buttonsClickHandler),pe(V.elements.reset[0],"focusin",V.__internal.resetHandler),pe(V.elements.reset[0],"keydown",Tn),pe(V.elements.reset[1],"focusin",V.__internal.resetHandler),ti=!0,pe(V.elements.dialog,ke.type,V.__internal.transitionInHandler),V.get("modal")||vn(V),V.get("resizable")&&rc(V),V.get("movable")&&Ri(V)}(this),void 0!==V&&this.set("modal",V),function Je(){He=J(),Le=K()}(),ct(),"string"==typeof ce&&""!==ce&&(this.__internal.className=ce,Z(this.elements.root,ce)),this.get("startMaximized")?this.maximize():this.isMaximized()&&At(this),ur(this),this.elements.root.removeAttribute("style"),Q(this.elements.root,X.animationOut),Z(this.elements.root,X.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,ke.supported?1e3:100),De){var qe=this.elements.root;qe.style.display="none",setTimeout(function(){qe.style.display="block"},0)}Q(this.elements.root,X.hidden),$e(),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),Ne("onshow",this)}return this},close:function(){return this.__internal.isOpen&&!1!==Ne("onclosing",this)&&(function Fn(V){1===j.length&&(xe(L,"resize",un),xe(document.body,"keyup",fr),xe(document.body,"keydown",Wn),xe(document.body,"focus",_n),xe(document.documentElement,"mousemove",Gt),xe(document.documentElement,"mouseup",kn),xe(document.documentElement,"mousemove",Ce),xe(document.documentElement,"mouseup",et)),xe(V.elements.commands.container,"click",V.__internal.commandsClickHandler),xe(V.elements.footer,"click",V.__internal.buttonsClickHandler),xe(V.elements.reset[0],"focusin",V.__internal.resetHandler),xe(V.elements.reset[0],"keydown",Tn),xe(V.elements.reset[1],"focusin",V.__internal.resetHandler),pe(V.elements.dialog,ke.type,V.__internal.transitionOutHandler),V.get("modal")||Yi(V),V.get("movable")&&Ha(V),V.get("resizable")&&to(V)}(this),Q(this.elements.root,X.animationIn),Z(this.elements.root,X.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,ke.supported?1e3:100),Z(this.elements.root,X.hidden),se.defaults.maintainFocus&&this.__internal.activeElement&&(this.__internal.activeElement.focus(),this.__internal.activeElement=null),typeof this.__internal.className<"u"&&""!==this.__internal.className&&Q(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),Ne("onclose",this),j.splice(j.indexOf(this),1),this.__internal.isOpen=!1,ct()),!j.length&&"0"===be&&document.body.removeAttribute("tabindex"),this},closeOthers:function(){return se.closeAll(this),this},destroy:function(){return this.__internal&&(this.__internal.isOpen?(this.__internal.destroy=function(){Me(this,we)},this.close()):this.__internal.destroy||Me(this,we)),this}}}(),Be=function(){var ve,be=[],De=G.notifier.classes,ue=De.base;function X($e){$e.__internal||($e.__internal={position:se.defaults.notifier.position,delay:se.defaults.notifier.delay},ve=document.createElement("DIV"),("transitionOff"in G.notifier?G.notifier.transitionOff:G.transitionOff)&&(ue=De.base+" ajs-no-transition"),Le($e)),ve.parentNode!==document.body&&document.body.appendChild(ve)}function Le($e){switch(ve.className=ue,$e.__internal.position){case"top-right":Z(ve,De.top+" "+De.right);break;case"top-left":Z(ve,De.top+" "+De.left);break;case"top-center":Z(ve,De.top+" "+De.center);break;case"bottom-left":Z(ve,De.bottom+" "+De.left);break;case"bottom-center":Z(ve,De.bottom+" "+De.center);break;default:Z(ve,De.bottom+" "+De.right)}}return{setting:function($e,ct){if(X(this),typeof ct>"u")return this.__internal[$e];switch($e){case"position":this.__internal.position=ct,Le(this);break;case"delay":this.__internal.delay=ct}return this},set:function($e,ct){return this.setting($e,ct),this},get:function($e){return this.setting($e)},create:function($e,ct){X(this);var rt=document.createElement("div");return rt.className=De.message+("string"==typeof $e&&""!==$e?" "+De.prefix+$e:""),function Je($e,ct){function rt(ft,Rt){(!Rt.__internal.closeButton||"true"===ft.target.getAttribute("data-close"))&&Rt.dismiss(!0)}function jt(ft,Rt){xe(Rt.element,ke.type,jt),ve.removeChild(Rt.element)}function en(ft){clearTimeout(ft.__internal.timer),clearTimeout(ft.__internal.transitionTimeout)}return function Lt(ft){return ft.__internal||(ft.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},ft.__internal.clickHandler=Re(ft,rt),ft.__internal.transitionEndHandler=Re(ft,jt)),ft}({element:$e,push:function(ft,Rt){if(!this.__internal.pushed){var En,Dn;switch(function we($e){$e.__internal.pushed=!0,be.push($e)}(this),en(this),arguments.length){case 0:Dn=this.__internal.delay;break;case 1:"number"==typeof ft?Dn=ft:(En=ft,Dn=this.__internal.delay);break;case 2:En=ft,Dn=Rt}return this.__internal.closeButton=se.defaults.notifier.closeButton,typeof En<"u"&&this.setContent(En),Be.__internal.position.indexOf("top")<0?ve.appendChild(this.element):ve.insertBefore(this.element,ve.firstChild),Z(this.element,De.visible),pe(this.element,"click",this.__internal.clickHandler),this.delay(Dn)}return this},ondismiss:function(){},callback:ct,dismiss:function(ft){return this.__internal.pushed&&(en(this),"function"==typeof this.ondismiss&&!1===this.ondismiss.call(this)||(xe(this.element,"click",this.__internal.clickHandler),typeof this.element<"u"&&this.element.parentNode===ve&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,ke.supported?1e3:100),Q(this.element,De.visible),"function"==typeof this.callback&&this.callback.call(this,ft)),function He($e){be.splice(be.indexOf($e),1),$e.__internal.pushed=!1}(this))),this},delay:function(ft){if(en(this),this.__internal.delay=typeof ft<"u"&&!isNaN(+ft)?+ft:Be.__internal.delay,this.__internal.delay>0){var Rt=this;this.__internal.timer=setTimeout(function(){Rt.dismiss()},1e3*this.__internal.delay)}return this},setContent:function(ft){if("string"==typeof ft?(ne(this.element),this.element.innerHTML=ft):ft instanceof L.HTMLElement&&this.element.firstChild!==ft&&(ne(this.element),this.element.appendChild(ft)),this.__internal.closeButton){var Rt=document.createElement("span");Z(Rt,De.close),Rt.setAttribute("data-close",!0),this.element.appendChild(Rt)}return this},dismissOthers:function(){return Be.dismissAll(this),this}})}(rt,ct)},dismissAll:function($e){for(var ct=be.slice(0),rt=0;rt<ct.length;rt+=1){var jt=ct[rt];(void 0===$e||$e!==jt)&&jt.dismiss()}}}}(),se=new function Oe(){var le={};function ve(ue,X){for(var we in X)X.hasOwnProperty(we)&&(ue[we]=X[we]);return ue}function be(ue){var X=le[ue].dialog;return X&&"function"==typeof X.__init&&X.__init(X),X}return{defaults:G,dialog:function(ue,X,we,He){if("function"!=typeof X)return be(ue);if(this.hasOwnProperty(ue))throw new Error("alertify.dialog: name already exists");var Le=function De(ue,X,we,He){var Le={dialog:null,factory:X};return void 0!==He&&(Le.factory=function(){return ve(new le[He].factory,new X)}),we||(Le.dialog=ve(new Le.factory,Se)),le[ue]=Le}(ue,X,we,He);this[ue]=we?function(){if(0===arguments.length)return Le.dialog;var Je=ve(new Le.factory,Se);return Je&&"function"==typeof Je.__init&&Je.__init(Je),Je.main.apply(Je,arguments),Je.show.apply(Je)}:function(){if(Le.dialog&&"function"==typeof Le.dialog.__init&&Le.dialog.__init(Le.dialog),0===arguments.length)return Le.dialog;var Je=Le.dialog;return Je.main.apply(Le.dialog,arguments),Je.show.apply(Le.dialog)}},closeAll:function(ue){for(var X=j.slice(0),we=0;we<X.length;we+=1){var He=X[we];(void 0===ue||ue!==He)&&He.close()}},setting:function(ue,X,we){if("notifier"===ue)return Be.setting(X,we);var He=be(ue);return He?He.setting(X,we):void 0},set:function(ue,X,we){return this.setting(ue,X,we)},get:function(ue,X){return this.setting(ue,X)},notify:function(ue,X,we,He){return Be.create(X,He).push(ue,we)},message:function(ue,X,we){return Be.create(null,we).push(ue,X)},success:function(ue,X,we){return Be.create("success",we).push(ue,X)},error:function(ue,X,we){return Be.create("error",we).push(ue,X)},warning:function(ue,X,we){return Be.create("warning",we).push(ue,X)},dismissAll:function(){Be.dismissAll()}}};se.dialog("alert",function(){return{main:function(le,ve,be){var De,ue,X;switch(arguments.length){case 1:ue=le;break;case 2:"function"==typeof ve?(ue=le,X=ve):(De=le,ue=ve);break;case 3:De=le,ue=ve,X=be}return this.set("title",De),this.set("message",ue),this.set("onok",X),this},setup:function(){return{buttons:[{text:se.defaults.glossary.ok,key:z.ESC,invokeOnClose:!0,className:se.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(le){this.setContent(le)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(le,ve,be){switch(le){case"message":this.setMessage(be);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=be)}},callback:function(le){if("function"==typeof this.get("onok")){var ve=this.get("onok").call(this,le);typeof ve<"u"&&(le.cancel=!ve)}}}}),se.dialog("confirm",function(){var le={timer:null,index:null,text:null,duration:null,task:function(De,ue){if(ue.isOpen()){if(ue.__internal.buttons[le.index].element.innerHTML=le.text+" (&#8207;"+le.duration+"&#8207;) ",le.duration-=1,-1===le.duration){ve(ue);var we=Ge(le.index,ue.__internal.buttons[le.index]);"function"==typeof ue.callback&&ue.callback.apply(ue,[we]),!1!==we.close&&ue.close()}}else ve(ue)}};function ve(De){null!==le.timer&&(clearInterval(le.timer),le.timer=null,De.__internal.buttons[le.index].element.innerHTML=le.text)}function be(De,ue,X){ve(De),le.duration=X,le.index=ue,le.text=De.__internal.buttons[ue].element.innerHTML,le.timer=setInterval(Re(De,le.task),1e3),le.task(null,De)}return{main:function(De,ue,X,we){var He,Le,Je,$e;switch(arguments.length){case 1:Le=De;break;case 2:Le=De,Je=ue;break;case 3:Le=De,Je=ue,$e=X;break;case 4:He=De,Le=ue,Je=X,$e=we}return this.set("title",He),this.set("message",Le),this.set("onok",Je),this.set("oncancel",$e),this},setup:function(){return{buttons:[{text:se.defaults.glossary.ok,key:z.ENTER,className:se.defaults.theme.ok},{text:se.defaults.glossary.cancel,key:z.ESC,invokeOnClose:!0,className:se.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(De){this.setContent(De)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(De,ue,X){switch(De){case"message":this.setMessage(X);break;case"labels":"ok"in X&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=X.ok,this.__internal.buttons[0].element.innerHTML=X.ok),"cancel"in X&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=X.cancel,this.__internal.buttons[1].element.innerHTML=X.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===X?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===X?0:1}},callback:function(De){var ue;switch(ve(this),De.index){case 0:"function"==typeof this.get("onok")&&typeof(ue=this.get("onok").call(this,De))<"u"&&(De.cancel=!ue);break;case 1:"function"==typeof this.get("oncancel")&&typeof(ue=this.get("oncancel").call(this,De))<"u"&&(De.cancel=!ue)}},autoOk:function(De){return be(this,0,De),this},autoCancel:function(De){return be(this,1,De),this}}}),se.dialog("prompt",function(){var le=document.createElement("INPUT"),ve=document.createElement("P");return{main:function(be,De,ue,X,we){var He,Le,Je,$e,ct;switch(arguments.length){case 1:Le=be;break;case 2:Le=be,Je=De;break;case 3:Le=be,Je=De,$e=ue;break;case 4:Le=be,Je=De,$e=ue,ct=X;break;case 5:He=be,Le=De,Je=ue,$e=X,ct=we}return this.set("title",He),this.set("message",Le),this.set("value",Je),this.set("onok",$e),this.set("oncancel",ct),this},setup:function(){return{buttons:[{text:se.defaults.glossary.ok,key:z.ENTER,className:se.defaults.theme.ok},{text:se.defaults.glossary.cancel,key:z.ESC,invokeOnClose:!0,className:se.defaults.theme.cancel}],focus:{element:le,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){le.className=se.defaults.theme.input,le.setAttribute("type","text"),le.value=this.get("value"),this.elements.content.appendChild(ve),this.elements.content.appendChild(le)},prepare:function(){},setMessage:function(be){"string"==typeof be?(ne(ve),ve.innerHTML=be):be instanceof L.HTMLElement&&ve.firstChild!==be&&(ne(ve),ve.appendChild(be))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(be,De,ue){switch(be){case"message":this.setMessage(ue);break;case"value":le.value=ue;break;case"type":switch(ue){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":le.type=ue;break;default:le.type="text"}break;case"labels":ue.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=ue.ok),ue.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=ue.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===ue?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(be){var De;switch(be.index){case 0:this.settings.value=le.value,"function"==typeof this.get("onok")&&typeof(De=this.get("onok").call(this,be,this.settings.value))<"u"&&(be.cancel=!De);break;case 1:"function"==typeof this.get("oncancel")&&typeof(De=this.get("oncancel").call(this,be))<"u"&&(be.cancel=!De),be.cancel||(le.value=this.settings.value)}}}}),"object"==typeof tt.exports?tt.exports=se:void 0!==(a=function(){return se}.apply(ee,[]))&&(tt.exports=a)}(typeof window<"u"?window:this)},4901:tt=>{"use strict";var ee={single_source_shortest_paths:function(F,a,L){var B={},z={};z[a]=0;var j,Z,Q,me,K,ne,G=ee.PriorityQueue.make();for(G.push(a,0);!G.empty();)for(Q in me=(j=G.pop()).cost,K=F[Z=j.value]||{})K.hasOwnProperty(Q)&&(ne=me+K[Q],(typeof z[Q]>"u"||z[Q]>ne)&&(z[Q]=ne,G.push(Q,ne),B[Q]=Z));if(typeof L<"u"&&typeof z[L]>"u"){var Xe=["Could not find a path from ",a," to ",L,"."].join("");throw new Error(Xe)}return B},extract_shortest_path_from_predecessor_list:function(F,a){for(var L=[],B=a;B;)L.push(B),B=F[B];return L.reverse(),L},find_path:function(F,a,L){var B=ee.single_source_shortest_paths(F,a,L);return ee.extract_shortest_path_from_predecessor_list(B,L)},PriorityQueue:{make:function(F){var B,a=ee.PriorityQueue,L={};for(B in F=F||{},a)a.hasOwnProperty(B)&&(L[B]=a[B]);return L.queue=[],L.sorter=F.sorter||a.default_sorter,L},default_sorter:function(F,a){return F.cost-a.cost},push:function(F,a){this.queue.push({value:F,cost:a}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};tt.exports=ee},8419:tt=>{"use strict";tt.exports=function(F){for(var a=[],L=F.length,B=0;B<L;B++){var z=F.charCodeAt(B);if(z>=55296&&z<=56319&&L>B+1){var G=F.charCodeAt(B+1);G>=56320&&G<=57343&&(z=1024*(z-55296)+G-56320+65536,B+=1)}z<128?a.push(z):z<2048?(a.push(z>>6|192),a.push(63&z|128)):z<55296||z>=57344&&z<65536?(a.push(z>>12|224),a.push(z>>6&63|128),a.push(63&z|128)):z>=65536&&z<=1114111?(a.push(z>>18|240),a.push(z>>12&63|128),a.push(z>>6&63|128),a.push(63&z|128)):a.push(239,191,189)}return new Uint8Array(a).buffer}},3259:(tt,ee,F)=>{const L=F(8695),B=F(1465),z=F(3210),G=F(2334);function j(Z,Q,me,K,J){const ne=[].slice.call(arguments,1),Pe=ne.length,Me="function"==typeof ne[Pe-1];if(!Me&&!L())throw new Error("Callback required as last argument");if(!Me){if(Pe<1)throw new Error("Too few arguments provided");return 1===Pe?(me=Q,Q=K=void 0):2===Pe&&!Q.getContext&&(K=me,me=Q,Q=void 0),new Promise(function(Xe,mt){try{const pe=B.create(me,K);Xe(Z(pe,Q,K))}catch(pe){mt(pe)}})}if(Pe<2)throw new Error("Too few arguments provided");2===Pe?(J=me,me=Q,Q=K=void 0):3===Pe&&(Q.getContext&&typeof J>"u"?(J=K,K=void 0):(J=K,K=me,me=Q,Q=void 0));try{const Xe=B.create(me,K);J(null,Z(Xe,Q,K))}catch(Xe){J(Xe)}}j.bind(null,z.render),ee.hz=j.bind(null,z.renderToDataURL),j.bind(null,function(Z,Q,me){return G.render(Z,me)})},8695:tt=>{tt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(tt,ee,F)=>{const a=F(4792).getSymbolSize;ee.getRowColCoords=function(B){if(1===B)return[];const z=Math.floor(B/7)+2,G=a(B),j=145===G?26:2*Math.ceil((G-13)/(2*z-2)),Z=[G-7];for(let Q=1;Q<z-1;Q++)Z[Q]=Z[Q-1]-j;return Z.push(6),Z.reverse()},ee.getPositions=function(B){const z=[],G=ee.getRowColCoords(B),j=G.length;for(let Z=0;Z<j;Z++)for(let Q=0;Q<j;Q++)0===Z&&0===Q||0===Z&&Q===j-1||Z===j-1&&0===Q||z.push([G[Z],G[Q]]);return z}},2424:(tt,ee,F)=>{const a=F(4016),L=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function B(z){this.mode=a.ALPHANUMERIC,this.data=z}B.getBitsLength=function(G){return 11*Math.floor(G/2)+G%2*6},B.prototype.getLength=function(){return this.data.length},B.prototype.getBitsLength=function(){return B.getBitsLength(this.data.length)},B.prototype.write=function(G){let j;for(j=0;j+2<=this.data.length;j+=2){let Z=45*L.indexOf(this.data[j]);Z+=L.indexOf(this.data[j+1]),G.put(Z,11)}this.data.length%2&&G.put(L.indexOf(this.data[j]),6)},tt.exports=B},2118:tt=>{function ee(){this.buffer=[],this.length=0}ee.prototype={get:function(F){const a=Math.floor(F/8);return 1==(this.buffer[a]>>>7-F%8&1)},put:function(F,a){for(let L=0;L<a;L++)this.putBit(1==(F>>>a-L-1&1))},getLengthInBits:function(){return this.length},putBit:function(F){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),F&&(this.buffer[a]|=128>>>this.length%8),this.length++}},tt.exports=ee},4425:tt=>{function ee(F){if(!F||F<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=F,this.data=new Uint8Array(F*F),this.reservedBit=new Uint8Array(F*F)}ee.prototype.set=function(F,a,L,B){const z=F*this.size+a;this.data[z]=L,B&&(this.reservedBit[z]=!0)},ee.prototype.get=function(F,a){return this.data[F*this.size+a]},ee.prototype.xor=function(F,a,L){this.data[F*this.size+a]^=L},ee.prototype.isReserved=function(F,a){return this.reservedBit[F*this.size+a]},tt.exports=ee},5663:(tt,ee,F)=>{const a=F(8419),L=F(4016);function B(z){this.mode=L.BYTE,"string"==typeof z&&(z=a(z)),this.data=new Uint8Array(z)}B.getBitsLength=function(G){return 8*G},B.prototype.getLength=function(){return this.data.length},B.prototype.getBitsLength=function(){return B.getBitsLength(this.data.length)},B.prototype.write=function(z){for(let G=0,j=this.data.length;G<j;G++)z.put(this.data[G],8)},tt.exports=B},4655:(tt,ee,F)=>{const a=F(2259),L=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],B=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ee.getBlocksCount=function(G,j){switch(j){case a.L:return L[4*(G-1)+0];case a.M:return L[4*(G-1)+1];case a.Q:return L[4*(G-1)+2];case a.H:return L[4*(G-1)+3];default:return}},ee.getTotalCodewordsCount=function(G,j){switch(j){case a.L:return B[4*(G-1)+0];case a.M:return B[4*(G-1)+1];case a.Q:return B[4*(G-1)+2];case a.H:return B[4*(G-1)+3];default:return}}},2259:(tt,ee)=>{ee.L={bit:1},ee.M={bit:0},ee.Q={bit:3},ee.H={bit:2},ee.isValid=function(L){return L&&typeof L.bit<"u"&&L.bit>=0&&L.bit<4},ee.from=function(L,B){if(ee.isValid(L))return L;try{return function F(a){if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return ee.L;case"m":case"medium":return ee.M;case"q":case"quartile":return ee.Q;case"h":case"high":return ee.H;default:throw new Error("Unknown EC Level: "+a)}}(L)}catch{return B}}},3114:(tt,ee,F)=>{const a=F(4792).getSymbolSize;ee.getPositions=function(z){const G=a(z);return[[0,0],[G-7,0],[0,G-7]]}},7078:(tt,ee,F)=>{const a=F(4792),z=a.getBCHDigit(1335);ee.getEncodedBits=function(j,Z){const Q=j.bit<<3|Z;let me=Q<<10;for(;a.getBCHDigit(me)-z>=0;)me^=1335<<a.getBCHDigit(me)-z;return 21522^(Q<<10|me)}},5339:(tt,ee)=>{const F=new Uint8Array(512),a=new Uint8Array(256);(function(){let B=1;for(let z=0;z<255;z++)F[z]=B,a[B]=z,B<<=1,256&B&&(B^=285);for(let z=255;z<512;z++)F[z]=F[z-255]})(),ee.log=function(B){if(B<1)throw new Error("log("+B+")");return a[B]},ee.exp=function(B){return F[B]},ee.mul=function(B,z){return 0===B||0===z?0:F[a[B]+a[z]]}},449:(tt,ee,F)=>{const a=F(4016),L=F(4792);function B(z){this.mode=a.KANJI,this.data=z}B.getBitsLength=function(G){return 13*G},B.prototype.getLength=function(){return this.data.length},B.prototype.getBitsLength=function(){return B.getBitsLength(this.data.length)},B.prototype.write=function(z){let G;for(G=0;G<this.data.length;G++){let j=L.toSJIS(this.data[G]);if(j>=33088&&j<=40956)j-=33088;else{if(!(j>=57408&&j<=60351))throw new Error("Invalid SJIS character: "+this.data[G]+"\nMake sure your charset is UTF-8");j-=49472}j=192*(j>>>8&255)+(255&j),z.put(j,13)}},tt.exports=B},3667:(tt,ee)=>{ee.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function a(L,B,z){switch(L){case ee.Patterns.PATTERN000:return(B+z)%2==0;case ee.Patterns.PATTERN001:return B%2==0;case ee.Patterns.PATTERN010:return z%3==0;case ee.Patterns.PATTERN011:return(B+z)%3==0;case ee.Patterns.PATTERN100:return(Math.floor(B/2)+Math.floor(z/3))%2==0;case ee.Patterns.PATTERN101:return B*z%2+B*z%3==0;case ee.Patterns.PATTERN110:return(B*z%2+B*z%3)%2==0;case ee.Patterns.PATTERN111:return(B*z%3+(B+z)%2)%2==0;default:throw new Error("bad maskPattern:"+L)}}ee.isValid=function(B){return null!=B&&""!==B&&!isNaN(B)&&B>=0&&B<=7},ee.from=function(B){return ee.isValid(B)?parseInt(B,10):void 0},ee.getPenaltyN1=function(B){const z=B.size;let G=0,j=0,Z=0,Q=null,me=null;for(let K=0;K<z;K++){j=Z=0,Q=me=null;for(let J=0;J<z;J++){let ne=B.get(K,J);ne===Q?j++:(j>=5&&(G+=j-5+3),Q=ne,j=1),ne=B.get(J,K),ne===me?Z++:(Z>=5&&(G+=Z-5+3),me=ne,Z=1)}j>=5&&(G+=j-5+3),Z>=5&&(G+=Z-5+3)}return G},ee.getPenaltyN2=function(B){const z=B.size;let G=0;for(let j=0;j<z-1;j++)for(let Z=0;Z<z-1;Z++){const Q=B.get(j,Z)+B.get(j,Z+1)+B.get(j+1,Z)+B.get(j+1,Z+1);(4===Q||0===Q)&&G++}return 3*G},ee.getPenaltyN3=function(B){const z=B.size;let G=0,j=0,Z=0;for(let Q=0;Q<z;Q++){j=Z=0;for(let me=0;me<z;me++)j=j<<1&2047|B.get(Q,me),me>=10&&(1488===j||93===j)&&G++,Z=Z<<1&2047|B.get(me,Q),me>=10&&(1488===Z||93===Z)&&G++}return 40*G},ee.getPenaltyN4=function(B){let z=0;const G=B.data.length;for(let Z=0;Z<G;Z++)z+=B.data[Z];return 10*Math.abs(Math.ceil(100*z/G/5)-10)},ee.applyMask=function(B,z){const G=z.size;for(let j=0;j<G;j++)for(let Z=0;Z<G;Z++)z.isReserved(Z,j)||z.xor(Z,j,a(B,Z,j))},ee.getBestMask=function(B,z){const G=Object.keys(ee.Patterns).length;let j=0,Z=1/0;for(let Q=0;Q<G;Q++){z(Q),ee.applyMask(Q,B);const me=ee.getPenaltyN1(B)+ee.getPenaltyN2(B)+ee.getPenaltyN3(B)+ee.getPenaltyN4(B);ee.applyMask(Q,B),me<Z&&(Z=me,j=Q)}return j}},4016:(tt,ee,F)=>{const a=F(4406),L=F(2699);ee.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},ee.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ee.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},ee.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},ee.MIXED={bit:-1},ee.getCharCountIndicator=function(G,j){if(!G.ccBits)throw new Error("Invalid mode: "+G);if(!a.isValid(j))throw new Error("Invalid version: "+j);return j>=1&&j<10?G.ccBits[0]:j<27?G.ccBits[1]:G.ccBits[2]},ee.getBestModeForData=function(G){return L.testNumeric(G)?ee.NUMERIC:L.testAlphanumeric(G)?ee.ALPHANUMERIC:L.testKanji(G)?ee.KANJI:ee.BYTE},ee.toString=function(G){if(G&&G.id)return G.id;throw new Error("Invalid mode")},ee.isValid=function(G){return G&&G.bit&&G.ccBits},ee.from=function(G,j){if(ee.isValid(G))return G;try{return function B(z){if("string"!=typeof z)throw new Error("Param is not a string");switch(z.toLowerCase()){case"numeric":return ee.NUMERIC;case"alphanumeric":return ee.ALPHANUMERIC;case"kanji":return ee.KANJI;case"byte":return ee.BYTE;default:throw new Error("Unknown mode: "+z)}}(G)}catch{return j}}},7783:(tt,ee,F)=>{const a=F(4016);function L(B){this.mode=a.NUMERIC,this.data=B.toString()}L.getBitsLength=function(z){return 10*Math.floor(z/3)+(z%3?z%3*3+1:0)},L.prototype.getLength=function(){return this.data.length},L.prototype.getBitsLength=function(){return L.getBitsLength(this.data.length)},L.prototype.write=function(z){let G,j,Z;for(G=0;G+3<=this.data.length;G+=3)j=this.data.substr(G,3),Z=parseInt(j,10),z.put(Z,10);const Q=this.data.length-G;Q>0&&(j=this.data.substr(G),Z=parseInt(j,10),z.put(Z,3*Q+1))},tt.exports=L},1106:(tt,ee,F)=>{const a=F(5339);ee.mul=function(B,z){const G=new Uint8Array(B.length+z.length-1);for(let j=0;j<B.length;j++)for(let Z=0;Z<z.length;Z++)G[j+Z]^=a.mul(B[j],z[Z]);return G},ee.mod=function(B,z){let G=new Uint8Array(B);for(;G.length-z.length>=0;){const j=G[0];for(let Q=0;Q<z.length;Q++)G[Q]^=a.mul(z[Q],j);let Z=0;for(;Z<G.length&&0===G[Z];)Z++;G=G.slice(Z)}return G},ee.generateECPolynomial=function(B){let z=new Uint8Array([1]);for(let G=0;G<B;G++)z=ee.mul(z,new Uint8Array([1,a.exp(G)]));return z}},1465:(tt,ee,F)=>{const a=F(4792),L=F(2259),B=F(2118),z=F(4425),G=F(6221),j=F(3114),Z=F(3667),Q=F(4655),me=F(2636),K=F(2088),J=F(7078),ne=F(4016),Pe=F(2033);function xe(Se,Be,Oe){const se=Se.size,le=J.getEncodedBits(Be,Oe);let ve,be;for(ve=0;ve<15;ve++)be=1==(le>>ve&1),Se.set(ve<6?ve:ve<8?ve+1:se-15+ve,8,be,!0),Se.set(8,ve<8?se-ve-1:ve<9?15-ve-1+1:15-ve-1,be,!0);Se.set(se-8,8,1,!0)}function Ne(Se,Be,Oe,se){let le;if(Array.isArray(Se))le=Pe.fromArray(Se);else{if("string"!=typeof Se)throw new Error("Invalid data");{let X=Be;if(!X){const we=Pe.rawSplit(Se);X=K.getBestVersionForData(we,Oe)}le=Pe.fromString(Se,X||40)}}const ve=K.getBestVersionForData(le,Oe);if(!ve)throw new Error("The amount of data is too big to be stored in a QR Code");if(Be){if(Be<ve)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+ve+".\n")}else Be=ve;const be=function Re(Se,Be,Oe){const se=new B;Oe.forEach(function(ue){se.put(ue.mode.bit,4),se.put(ue.getLength(),ne.getCharCountIndicator(ue.mode,Se)),ue.write(se)});const be=8*(a.getSymbolTotalCodewords(Se)-Q.getTotalCodewordsCount(Se,Be));for(se.getLengthInBits()+4<=be&&se.put(0,4);se.getLengthInBits()%8!=0;)se.putBit(0);const De=(be-se.getLengthInBits())/8;for(let ue=0;ue<De;ue++)se.put(ue%2?17:236,8);return function Ge(Se,Be,Oe){const se=a.getSymbolTotalCodewords(Be),ve=se-Q.getTotalCodewordsCount(Be,Oe),be=Q.getBlocksCount(Be,Oe),ue=be-se%be,X=Math.floor(se/be),we=Math.floor(ve/be),He=we+1,Le=X-we,Je=new me(Le);let $e=0;const ct=new Array(be),rt=new Array(be);let jt=0;const Lt=new Uint8Array(Se.buffer);for(let Dn=0;Dn<be;Dn++){const Ai=Dn<ue?we:He;ct[Dn]=Lt.slice($e,$e+Ai),rt[Dn]=Je.encode(ct[Dn]),$e+=Ai,jt=Math.max(jt,Ai)}const en=new Uint8Array(se);let Rt,En,ft=0;for(Rt=0;Rt<jt;Rt++)for(En=0;En<be;En++)Rt<ct[En].length&&(en[ft++]=ct[En][Rt]);for(Rt=0;Rt<Le;Rt++)for(En=0;En<be;En++)en[ft++]=rt[En][Rt];return en}(se,Se,Be)}(Be,Oe,le),De=a.getSymbolSize(Be),ue=new z(De);return function Me(Se,Be){const Oe=Se.size,se=j.getPositions(Be);for(let le=0;le<se.length;le++){const ve=se[le][0],be=se[le][1];for(let De=-1;De<=7;De++)if(!(ve+De<=-1||Oe<=ve+De))for(let ue=-1;ue<=7;ue++)be+ue<=-1||Oe<=be+ue||Se.set(ve+De,be+ue,De>=0&&De<=6&&(0===ue||6===ue)||ue>=0&&ue<=6&&(0===De||6===De)||De>=2&&De<=4&&ue>=2&&ue<=4,!0)}}(ue,Be),function Xe(Se){const Be=Se.size;for(let Oe=8;Oe<Be-8;Oe++){const se=Oe%2==0;Se.set(Oe,6,se,!0),Se.set(6,Oe,se,!0)}}(ue),function mt(Se,Be){const Oe=G.getPositions(Be);for(let se=0;se<Oe.length;se++){const le=Oe[se][0],ve=Oe[se][1];for(let be=-2;be<=2;be++)for(let De=-2;De<=2;De++)Se.set(le+be,ve+De,-2===be||2===be||-2===De||2===De||0===be&&0===De,!0)}}(ue,Be),xe(ue,Oe,0),Be>=7&&function pe(Se,Be){const Oe=Se.size,se=K.getEncodedBits(Be);let le,ve,be;for(let De=0;De<18;De++)le=Math.floor(De/3),ve=De%3+Oe-8-3,be=1==(se>>De&1),Se.set(le,ve,be,!0),Se.set(ve,le,be,!0)}(ue,Be),function ke(Se,Be){const Oe=Se.size;let se=-1,le=Oe-1,ve=7,be=0;for(let De=Oe-1;De>0;De-=2)for(6===De&&De--;;){for(let ue=0;ue<2;ue++)if(!Se.isReserved(le,De-ue)){let X=!1;be<Be.length&&(X=1==(Be[be]>>>ve&1)),Se.set(le,De-ue,X),ve--,-1===ve&&(be++,ve=7)}if(le+=se,le<0||Oe<=le){le-=se,se=-se;break}}}(ue,be),isNaN(se)&&(se=Z.getBestMask(ue,xe.bind(null,ue,Oe))),Z.applyMask(se,ue),xe(ue,Oe,se),{modules:ue,version:Be,errorCorrectionLevel:Oe,maskPattern:se,segments:le}}ee.create=function(Be,Oe){if(typeof Be>"u"||""===Be)throw new Error("No input text");let le,ve,se=L.M;return typeof Oe<"u"&&(se=L.from(Oe.errorCorrectionLevel,L.M),le=K.from(Oe.version),ve=Z.from(Oe.maskPattern),Oe.toSJISFunc&&a.setToSJISFunction(Oe.toSJISFunc)),Ne(Be,le,se,ve)}},2636:(tt,ee,F)=>{const a=F(1106);function L(B){this.genPoly=void 0,this.degree=B,this.degree&&this.initialize(this.degree)}L.prototype.initialize=function(z){this.degree=z,this.genPoly=a.generateECPolynomial(this.degree)},L.prototype.encode=function(z){if(!this.genPoly)throw new Error("Encoder not initialized");const G=new Uint8Array(z.length+this.degree);G.set(z);const j=a.mod(G,this.genPoly),Z=this.degree-j.length;if(Z>0){const Q=new Uint8Array(this.degree);return Q.set(j,Z),Q}return j},tt.exports=L},2699:(tt,ee)=>{const F="[0-9]+";let L="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";L=L.replace(/u/g,"\\u");const B="(?:(?![A-Z0-9 $%*+\\-./:]|"+L+")(?:.|[\r\n]))+";ee.KANJI=new RegExp(L,"g"),ee.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ee.BYTE=new RegExp(B,"g"),ee.NUMERIC=new RegExp(F,"g"),ee.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const z=new RegExp("^"+L+"$"),G=new RegExp("^"+F+"$"),j=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ee.testKanji=function(Q){return z.test(Q)},ee.testNumeric=function(Q){return G.test(Q)},ee.testAlphanumeric=function(Q){return j.test(Q)}},2033:(tt,ee,F)=>{const a=F(4016),L=F(7783),B=F(2424),z=F(5663),G=F(449),j=F(2699),Z=F(4792),Q=F(4901);function me(pe){return unescape(encodeURIComponent(pe)).length}function K(pe,xe,ke){const Re=[];let Ge;for(;null!==(Ge=pe.exec(ke));)Re.push({data:Ge[0],index:Ge.index,mode:xe,length:Ge[0].length});return Re}function J(pe){const xe=K(j.NUMERIC,a.NUMERIC,pe),ke=K(j.ALPHANUMERIC,a.ALPHANUMERIC,pe);let Re,Ge;return Z.isKanjiModeEnabled()?(Re=K(j.BYTE,a.BYTE,pe),Ge=K(j.KANJI,a.KANJI,pe)):(Re=K(j.BYTE_KANJI,a.BYTE,pe),Ge=[]),xe.concat(ke,Re,Ge).sort(function(Se,Be){return Se.index-Be.index}).map(function(Se){return{data:Se.data,mode:Se.mode,length:Se.length}})}function ne(pe,xe){switch(xe){case a.NUMERIC:return L.getBitsLength(pe);case a.ALPHANUMERIC:return B.getBitsLength(pe);case a.KANJI:return G.getBitsLength(pe);case a.BYTE:return z.getBitsLength(pe)}}function mt(pe,xe){let ke;const Re=a.getBestModeForData(pe);if(ke=a.from(xe,Re),ke!==a.BYTE&&ke.bit<Re.bit)throw new Error('"'+pe+'" cannot be encoded with mode '+a.toString(ke)+".\n Suggested mode is: "+a.toString(Re));switch(ke===a.KANJI&&!Z.isKanjiModeEnabled()&&(ke=a.BYTE),ke){case a.NUMERIC:return new L(pe);case a.ALPHANUMERIC:return new B(pe);case a.KANJI:return new G(pe);case a.BYTE:return new z(pe)}}ee.fromArray=function(xe){return xe.reduce(function(ke,Re){return"string"==typeof Re?ke.push(mt(Re,null)):Re.data&&ke.push(mt(Re.data,Re.mode)),ke},[])},ee.fromString=function(xe,ke){const Ge=function Me(pe){const xe=[];for(let ke=0;ke<pe.length;ke++){const Re=pe[ke];switch(Re.mode){case a.NUMERIC:xe.push([Re,{data:Re.data,mode:a.ALPHANUMERIC,length:Re.length},{data:Re.data,mode:a.BYTE,length:Re.length}]);break;case a.ALPHANUMERIC:xe.push([Re,{data:Re.data,mode:a.BYTE,length:Re.length}]);break;case a.KANJI:xe.push([Re,{data:Re.data,mode:a.BYTE,length:me(Re.data)}]);break;case a.BYTE:xe.push([{data:Re.data,mode:a.BYTE,length:me(Re.data)}])}}return xe}(J(xe,Z.isKanjiModeEnabled())),Ne=function Xe(pe,xe){const ke={},Re={start:{}};let Ge=["start"];for(let Ne=0;Ne<pe.length;Ne++){const Se=pe[Ne],Be=[];for(let Oe=0;Oe<Se.length;Oe++){const se=Se[Oe],le=""+Ne+Oe;Be.push(le),ke[le]={node:se,lastCount:0},Re[le]={};for(let ve=0;ve<Ge.length;ve++){const be=Ge[ve];ke[be]&&ke[be].node.mode===se.mode?(Re[be][le]=ne(ke[be].lastCount+se.length,se.mode)-ne(ke[be].lastCount,se.mode),ke[be].lastCount+=se.length):(ke[be]&&(ke[be].lastCount=se.length),Re[be][le]=ne(se.length,se.mode)+4+a.getCharCountIndicator(se.mode,xe))}}Ge=Be}for(let Ne=0;Ne<Ge.length;Ne++)Re[Ge[Ne]].end=0;return{map:Re,table:ke}}(Ge,ke),Se=Q.find_path(Ne.map,"start","end"),Be=[];for(let Oe=1;Oe<Se.length-1;Oe++)Be.push(Ne.table[Se[Oe]].node);return ee.fromArray(function Pe(pe){return pe.reduce(function(xe,ke){const Re=xe.length-1>=0?xe[xe.length-1]:null;return Re&&Re.mode===ke.mode?(xe[xe.length-1].data+=ke.data,xe):(xe.push(ke),xe)},[])}(Be))},ee.rawSplit=function(xe){return ee.fromArray(J(xe,Z.isKanjiModeEnabled()))}},4792:(tt,ee)=>{let F;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ee.getSymbolSize=function(B){if(!B)throw new Error('"version" cannot be null or undefined');if(B<1||B>40)throw new Error('"version" should be in range from 1 to 40');return 4*B+17},ee.getSymbolTotalCodewords=function(B){return a[B]},ee.getBCHDigit=function(L){let B=0;for(;0!==L;)B++,L>>>=1;return B},ee.setToSJISFunction=function(B){if("function"!=typeof B)throw new Error('"toSJISFunc" is not a valid function.');F=B},ee.isKanjiModeEnabled=function(){return typeof F<"u"},ee.toSJIS=function(B){return F(B)}},4406:(tt,ee)=>{ee.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}},2088:(tt,ee,F)=>{const a=F(4792),L=F(4655),B=F(2259),z=F(4016),G=F(4406),Z=a.getBCHDigit(7973);function me(ne,Pe){return z.getCharCountIndicator(ne,Pe)+4}function K(ne,Pe){let Me=0;return ne.forEach(function(Xe){const mt=me(Xe.mode,Pe);Me+=mt+Xe.getBitsLength()}),Me}ee.from=function(Pe,Me){return G.isValid(Pe)?parseInt(Pe,10):Me},ee.getCapacity=function(Pe,Me,Xe){if(!G.isValid(Pe))throw new Error("Invalid QR Code version");typeof Xe>"u"&&(Xe=z.BYTE);const xe=8*(a.getSymbolTotalCodewords(Pe)-L.getTotalCodewordsCount(Pe,Me));if(Xe===z.MIXED)return xe;const ke=xe-me(Xe,Pe);switch(Xe){case z.NUMERIC:return Math.floor(ke/10*3);case z.ALPHANUMERIC:return Math.floor(ke/11*2);case z.KANJI:return Math.floor(ke/13);default:return Math.floor(ke/8)}},ee.getBestVersionForData=function(Pe,Me){let Xe;const mt=B.from(Me,B.M);if(Array.isArray(Pe)){if(Pe.length>1)return function J(ne,Pe){for(let Me=1;Me<=40;Me++)if(K(ne,Me)<=ee.getCapacity(Me,Pe,z.MIXED))return Me}(Pe,mt);if(0===Pe.length)return 1;Xe=Pe[0]}else Xe=Pe;return function Q(ne,Pe,Me){for(let Xe=1;Xe<=40;Xe++)if(Pe<=ee.getCapacity(Xe,Me,ne))return Xe}(Xe.mode,Xe.getLength(),mt)},ee.getEncodedBits=function(Pe){if(!G.isValid(Pe)||Pe<7)throw new Error("Invalid QR Code version");let Me=Pe<<12;for(;a.getBCHDigit(Me)-Z>=0;)Me^=7973<<a.getBCHDigit(Me)-Z;return Pe<<12|Me}},3210:(tt,ee,F)=>{const a=F(6355);ee.render=function(G,j,Z){let Q=Z,me=j;typeof Q>"u"&&(!j||!j.getContext)&&(Q=j,j=void 0),j||(me=function B(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),Q=a.getOptions(Q);const K=a.getImageWidth(G.modules.size,Q),J=me.getContext("2d"),ne=J.createImageData(K,K);return a.qrToImageData(ne.data,G,Q),function L(z,G,j){z.clearRect(0,0,G.width,G.height),G.style||(G.style={}),G.height=j,G.width=j,G.style.height=j+"px",G.style.width=j+"px"}(J,me,K),J.putImageData(ne,0,0),me},ee.renderToDataURL=function(G,j,Z){let Q=Z;return typeof Q>"u"&&(!j||!j.getContext)&&(Q=j,j=void 0),Q||(Q={}),ee.render(G,j,Q).toDataURL(Q.type||"image/png",(Q.rendererOpts||{}).quality)}},2334:(tt,ee,F)=>{const a=F(6355);function L(G,j){const Z=G.a/255,Q=j+'="'+G.hex+'"';return Z<1?Q+" "+j+'-opacity="'+Z.toFixed(2).slice(1)+'"':Q}function B(G,j,Z){let Q=G+j;return typeof Z<"u"&&(Q+=" "+Z),Q}ee.render=function(j,Z,Q){const me=a.getOptions(Z),K=j.modules.size,J=j.modules.data,ne=K+2*me.margin,Pe=me.color.light.a?"<path "+L(me.color.light,"fill")+' d="M0 0h'+ne+"v"+ne+'H0z"/>':"",Me="<path "+L(me.color.dark,"stroke")+' d="'+function z(G,j,Z){let Q="",me=0,K=!1,J=0;for(let ne=0;ne<G.length;ne++){const Pe=Math.floor(ne%j),Me=Math.floor(ne/j);!Pe&&!K&&(K=!0),G[ne]?(J++,ne>0&&Pe>0&&G[ne-1]||(Q+=K?B("M",Pe+Z,.5+Me+Z):B("m",me,0),me=0,K=!1),Pe+1<j&&G[ne+1]||(Q+=B("h",J),J=0)):me++}return Q}(J,K,me.margin)+'"/>',pe='<svg xmlns="http://www.w3.org/2000/svg" '+(me.width?'width="'+me.width+'" height="'+me.width+'" ':"")+'viewBox="0 0 '+ne+" "+ne+'" shape-rendering="crispEdges">'+Pe+Me+"</svg>\n";return"function"==typeof Q&&Q(null,pe),pe}},6355:(tt,ee)=>{function F(a){if("number"==typeof a&&(a=a.toString()),"string"!=typeof a)throw new Error("Color should be defined as hex string");let L=a.slice().replace("#","").split("");if(L.length<3||5===L.length||L.length>8)throw new Error("Invalid hex color: "+a);(3===L.length||4===L.length)&&(L=Array.prototype.concat.apply([],L.map(function(z){return[z,z]}))),6===L.length&&L.push("F","F");const B=parseInt(L.join(""),16);return{r:B>>24&255,g:B>>16&255,b:B>>8&255,a:255&B,hex:"#"+L.slice(0,6).join("")}}ee.getOptions=function(L){L||(L={}),L.color||(L.color={});const z=L.width&&L.width>=21?L.width:void 0;return{width:z,scale:z?4:L.scale||4,margin:typeof L.margin>"u"||null===L.margin||L.margin<0?4:L.margin,color:{dark:F(L.color.dark||"#000000ff"),light:F(L.color.light||"#ffffffff")},type:L.type,rendererOpts:L.rendererOpts||{}}},ee.getScale=function(L,B){return B.width&&B.width>=L+2*B.margin?B.width/(L+2*B.margin):B.scale},ee.getImageWidth=function(L,B){const z=ee.getScale(L,B);return Math.floor((L+2*B.margin)*z)},ee.qrToImageData=function(L,B,z){const G=B.modules.size,j=B.modules.data,Z=ee.getScale(G,z),Q=Math.floor((G+2*z.margin)*Z),me=z.margin*Z,K=[z.color.light,z.color.dark];for(let J=0;J<Q;J++)for(let ne=0;ne<Q;ne++){let Pe=4*(J*Q+ne),Me=z.color.light;J>=me&&ne>=me&&J<Q-me&&ne<Q-me&&(Me=K[j[Math.floor((J-me)/Z)*G+Math.floor((ne-me)/Z)]?1:0]),L[Pe++]=Me.r,L[Pe++]=Me.g,L[Pe++]=Me.b,L[Pe]=Me.a}}},9751:(tt,ee,F)=>{"use strict";F.d(ee,{y:()=>Q});var a=F(930),L=F(727),B=F(8822),z=F(9635),G=F(2416),j=F(576),Z=F(2806);let Q=(()=>{class ne{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Xe=new ne;return Xe.source=this,Xe.operator=Me,Xe}subscribe(Me,Xe,mt){const pe=function J(ne){return ne&&ne instanceof a.Lv||function K(ne){return ne&&(0,j.m)(ne.next)&&(0,j.m)(ne.error)&&(0,j.m)(ne.complete)}(ne)&&(0,L.Nn)(ne)}(Me)?Me:new a.Hp(Me,Xe,mt);return(0,Z.x)(()=>{const{operator:xe,source:ke}=this;pe.add(xe?xe.call(pe,ke):ke?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Xe){Me.error(Xe)}}forEach(Me,Xe){return new(Xe=me(Xe))((mt,pe)=>{const xe=new a.Hp({next:ke=>{try{Me(ke)}catch(Re){pe(Re),xe.unsubscribe()}},error:pe,complete:mt});this.subscribe(xe)})}_subscribe(Me){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Me)}[B.L](){return this}pipe(...Me){return(0,z.U)(Me)(this)}toPromise(Me){return new(Me=me(Me))((Xe,mt)=>{let pe;this.subscribe(xe=>pe=xe,xe=>mt(xe),()=>Xe(pe))})}}return ne.create=Pe=>new ne(Pe),ne})();function me(ne){var Pe;return null!==(Pe=ne??G.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(tt,ee,F)=>{"use strict";F.d(ee,{x:()=>Z});var a=F(9751),L=F(727);const z=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=F(8737),j=F(2806);let Z=(()=>{class me extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const ne=new Q(this,this);return ne.operator=J,ne}_throwIfClosed(){if(this.closed)throw new z}next(J){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(J)}})}error(J){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:ne}=this;for(;ne.length;)ne.shift().error(J)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:ne,isStopped:Pe,observers:Me}=this;return ne||Pe?L.Lc:(this.currentObservers=null,Me.push(J),new L.w0(()=>{this.currentObservers=null,(0,G.P)(Me,J)}))}_checkFinalizedStatuses(J){const{hasError:ne,thrownError:Pe,isStopped:Me}=this;ne?J.error(Pe):Me&&J.complete()}asObservable(){const J=new a.y;return J.source=this,J}}return me.create=(K,J)=>new Q(K,J),me})();class Q extends Z{constructor(K,J){super(),this.destination=K,this.source=J}next(K){var J,ne;null===(ne=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ne||ne.call(J,K)}error(K){var J,ne;null===(ne=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ne||ne.call(J,K)}complete(){var K,J;null===(J=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===J||J.call(K)}_subscribe(K){var J,ne;return null!==(ne=null===(J=this.source)||void 0===J?void 0:J.subscribe(K))&&void 0!==ne?ne:L.Lc}}},930:(tt,ee,F)=>{"use strict";F.d(ee,{Hp:()=>mt,Lv:()=>ne});var a=F(576),L=F(727),B=F(2416),z=F(7849),G=F(5032);const j=me("C",void 0,void 0);function me(Ge,Ne,Se){return{kind:Ge,value:Ne,error:Se}}var K=F(3410),J=F(2806);class ne extends L.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,L.Nn)(Ne)&&Ne.add(this)):this.destination=Re}static create(Ne,Se,Be){return new mt(Ne,Se,Be)}next(Ne){this.isStopped?ke(function Q(Ge){return me("N",Ge,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?ke(function Z(Ge){return me("E",void 0,Ge)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?ke(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Me(Ge,Ne){return Pe.call(Ge,Ne)}class Xe{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ne)}catch(Be){pe(Be)}}error(Ne){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ne)}catch(Be){pe(Be)}else pe(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Se){pe(Se)}}}class mt extends ne{constructor(Ne,Se,Be){let Oe;if(super(),(0,a.m)(Ne)||!Ne)Oe={next:Ne??void 0,error:Se??void 0,complete:Be??void 0};else{let se;this&&B.v.useDeprecatedNextContext?(se=Object.create(Ne),se.unsubscribe=()=>this.unsubscribe(),Oe={next:Ne.next&&Me(Ne.next,se),error:Ne.error&&Me(Ne.error,se),complete:Ne.complete&&Me(Ne.complete,se)}):Oe=Ne}this.destination=new Xe(Oe)}}function pe(Ge){B.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Ge):(0,z.h)(Ge)}function ke(Ge,Ne){const{onStoppedNotification:Se}=B.v;Se&&K.z.setTimeout(()=>Se(Ge,Ne))}const Re={closed:!0,next:G.Z,error:function xe(Ge){throw Ge},complete:G.Z}},727:(tt,ee,F)=>{"use strict";F.d(ee,{Lc:()=>j,w0:()=>G,Nn:()=>Z});var a=F(576);const B=(0,F(3888).d)(me=>function(J){me(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((ne,Pe)=>`${Pe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var z=F(8737);class G{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Me of J)Me.remove(this);else J.remove(this);const{initialTeardown:ne}=this;if((0,a.m)(ne))try{ne()}catch(Me){K=Me instanceof B?Me.errors:[Me]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Me of Pe)try{Q(Me)}catch(Xe){K=K??[],Xe instanceof B?K=[...K,...Xe.errors]:K.push(Xe)}}if(K)throw new B(K)}}add(K){var J;if(K&&K!==this)if(this.closed)Q(K);else{if(K instanceof G){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(K)}}_hasParent(K){const{_parentage:J}=this;return J===K||Array.isArray(J)&&J.includes(K)}_addParent(K){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(K),J):J?[J,K]:K}_removeParent(K){const{_parentage:J}=this;J===K?this._parentage=null:Array.isArray(J)&&(0,z.P)(J,K)}remove(K){const{_finalizers:J}=this;J&&(0,z.P)(J,K),K instanceof G&&K._removeParent(this)}}G.EMPTY=(()=>{const me=new G;return me.closed=!0,me})();const j=G.EMPTY;function Z(me){return me instanceof G||me&&"closed"in me&&(0,a.m)(me.remove)&&(0,a.m)(me.add)&&(0,a.m)(me.unsubscribe)}function Q(me){(0,a.m)(me)?me():me.unsubscribe()}},2416:(tt,ee,F)=>{"use strict";F.d(ee,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,ee,F)=>{"use strict";F.d(ee,{E:()=>L});const L=new(F(9751).y)(G=>G.complete())},8996:(tt,ee,F)=>{"use strict";F.d(ee,{D:()=>Ne});var a=F(8421),L=F(5363),B=F(9468),j=F(9751),Q=F(2202),me=F(576),K=F(9672);function ne(Se,Be){if(!Se)throw new Error("Iterable cannot be null");return new j.y(Oe=>{(0,K.f)(Oe,Be,()=>{const se=Se[Symbol.asyncIterator]();(0,K.f)(Oe,Be,()=>{se.next().then(le=>{le.done?Oe.complete():Oe.next(le.value)})},0,!0)})})}var Pe=F(3670),Me=F(8239),Xe=F(1144),mt=F(6495),pe=F(2206),xe=F(4532),ke=F(3260);function Ne(Se,Be){return Be?function Ge(Se,Be){if(null!=Se){if((0,Pe.c)(Se))return function z(Se,Be){return(0,a.Xf)(Se).pipe((0,B.R)(Be),(0,L.Q)(Be))}(Se,Be);if((0,Xe.z)(Se))return function Z(Se,Be){return new j.y(Oe=>{let se=0;return Be.schedule(function(){se===Se.length?Oe.complete():(Oe.next(Se[se++]),Oe.closed||this.schedule())})})}(Se,Be);if((0,Me.t)(Se))return function G(Se,Be){return(0,a.Xf)(Se).pipe((0,B.R)(Be),(0,L.Q)(Be))}(Se,Be);if((0,pe.D)(Se))return ne(Se,Be);if((0,mt.T)(Se))return function J(Se,Be){return new j.y(Oe=>{let se;return(0,K.f)(Oe,Be,()=>{se=Se[Q.h](),(0,K.f)(Oe,Be,()=>{let le,ve;try{({value:le,done:ve}=se.next())}catch(be){return void Oe.error(be)}ve?Oe.complete():Oe.next(le)},0,!0)}),()=>(0,me.m)(se?.return)&&se.return()})}(Se,Be);if((0,ke.L)(Se))return function Re(Se,Be){return ne((0,ke.Q)(Se),Be)}(Se,Be)}throw(0,xe.z)(Se)}(Se,Be):(0,a.Xf)(Se)}},8421:(tt,ee,F)=>{"use strict";F.d(ee,{Xf:()=>Pe});var a=F(655),L=F(1144),B=F(8239),z=F(9751),G=F(3670),j=F(2206),Z=F(4532),Q=F(6495),me=F(3260),K=F(576),J=F(7849),ne=F(8822);function Pe(Ge){if(Ge instanceof z.y)return Ge;if(null!=Ge){if((0,G.c)(Ge))return function Me(Ge){return new z.y(Ne=>{const Se=Ge[ne.L]();if((0,K.m)(Se.subscribe))return Se.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,L.z)(Ge))return function Xe(Ge){return new z.y(Ne=>{for(let Se=0;Se<Ge.length&&!Ne.closed;Se++)Ne.next(Ge[Se]);Ne.complete()})}(Ge);if((0,B.t)(Ge))return function mt(Ge){return new z.y(Ne=>{Ge.then(Se=>{Ne.closed||(Ne.next(Se),Ne.complete())},Se=>Ne.error(Se)).then(null,J.h)})}(Ge);if((0,j.D)(Ge))return xe(Ge);if((0,Q.T)(Ge))return function pe(Ge){return new z.y(Ne=>{for(const Se of Ge)if(Ne.next(Se),Ne.closed)return;Ne.complete()})}(Ge);if((0,me.L)(Ge))return function ke(Ge){return xe((0,me.Q)(Ge))}(Ge)}throw(0,Z.z)(Ge)}function xe(Ge){return new z.y(Ne=>{(function Re(Ge,Ne){var Se,Be,Oe,se;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Se=(0,a.KL)(Ge);!(Be=yield Se.next()).done;)if(Ne.next(Be.value),Ne.closed)return}catch(le){Oe={error:le}}finally{try{Be&&!Be.done&&(se=Se.return)&&(yield se.call(Se))}finally{if(Oe)throw Oe.error}}Ne.complete()})})(Ge,Ne).catch(Se=>Ne.error(Se))})}},6451:(tt,ee,F)=>{"use strict";F.d(ee,{T:()=>j});var a=F(8189),L=F(8421),B=F(515),z=F(3269),G=F(8996);function j(...Z){const Q=(0,z.yG)(Z),me=(0,z._6)(Z,1/0),K=Z;return K.length?1===K.length?(0,L.Xf)(K[0]):(0,a.J)(me)((0,G.D)(K,Q)):B.E}},5403:(tt,ee,F)=>{"use strict";F.d(ee,{x:()=>L});var a=F(930);function L(z,G,j,Z,Q){return new B(z,G,j,Z,Q)}class B extends a.Lv{constructor(G,j,Z,Q,me,K){super(G),this.onFinalize=me,this.shouldUnsubscribe=K,this._next=j?function(J){try{j(J)}catch(ne){G.error(ne)}}:super._next,this._error=Q?function(J){try{Q(J)}catch(ne){G.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(J){G.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},4004:(tt,ee,F)=>{"use strict";F.d(ee,{U:()=>B});var a=F(4482),L=F(5403);function B(z,G){return(0,a.e)((j,Z)=>{let Q=0;j.subscribe((0,L.x)(Z,me=>{Z.next(z.call(G,me,Q++))}))})}},8189:(tt,ee,F)=>{"use strict";F.d(ee,{J:()=>B});var a=F(5577),L=F(4671);function B(z=1/0){return(0,a.z)(L.y,z)}},5577:(tt,ee,F)=>{"use strict";F.d(ee,{z:()=>Q});var a=F(4004),L=F(8421),B=F(4482),z=F(9672),G=F(5403),Z=F(576);function Q(me,K,J=1/0){return(0,Z.m)(K)?Q((ne,Pe)=>(0,a.U)((Me,Xe)=>K(ne,Me,Pe,Xe))((0,L.Xf)(me(ne,Pe))),J):("number"==typeof K&&(J=K),(0,B.e)((ne,Pe)=>function j(me,K,J,ne,Pe,Me,Xe,mt){const pe=[];let xe=0,ke=0,Re=!1;const Ge=()=>{Re&&!pe.length&&!xe&&K.complete()},Ne=Be=>xe<ne?Se(Be):pe.push(Be),Se=Be=>{Me&&K.next(Be),xe++;let Oe=!1;(0,L.Xf)(J(Be,ke++)).subscribe((0,G.x)(K,se=>{Pe?.(se),Me?Ne(se):K.next(se)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(xe--;pe.length&&xe<ne;){const se=pe.shift();Xe?(0,z.f)(K,Xe,()=>Se(se)):Se(se)}Ge()}catch(se){K.error(se)}}))};return me.subscribe((0,G.x)(K,Ne,()=>{Re=!0,Ge()})),()=>{mt?.()}}(ne,Pe,me,J)))}},5363:(tt,ee,F)=>{"use strict";F.d(ee,{Q:()=>z});var a=F(9672),L=F(4482),B=F(5403);function z(G,j=0){return(0,L.e)((Z,Q)=>{Z.subscribe((0,B.x)(Q,me=>(0,a.f)(Q,G,()=>Q.next(me),j),()=>(0,a.f)(Q,G,()=>Q.complete(),j),me=>(0,a.f)(Q,G,()=>Q.error(me),j)))})}},3099:(tt,ee,F)=>{"use strict";F.d(ee,{B:()=>G});var a=F(8421),L=F(7579),B=F(930),z=F(4482);function G(Z={}){const{connector:Q=(()=>new L.x),resetOnError:me=!0,resetOnComplete:K=!0,resetOnRefCountZero:J=!0}=Z;return ne=>{let Pe,Me,Xe,mt=0,pe=!1,xe=!1;const ke=()=>{Me?.unsubscribe(),Me=void 0},Re=()=>{ke(),Pe=Xe=void 0,pe=xe=!1},Ge=()=>{const Ne=Pe;Re(),Ne?.unsubscribe()};return(0,z.e)((Ne,Se)=>{mt++,!xe&&!pe&&ke();const Be=Xe=Xe??Q();Se.add(()=>{mt--,0===mt&&!xe&&!pe&&(Me=j(Ge,J))}),Be.subscribe(Se),!Pe&&mt>0&&(Pe=new B.Hp({next:Oe=>Be.next(Oe),error:Oe=>{xe=!0,ke(),Me=j(Re,me,Oe),Be.error(Oe)},complete:()=>{pe=!0,ke(),Me=j(Re,K),Be.complete()}}),(0,a.Xf)(Ne).subscribe(Pe))})(ne)}}function j(Z,Q,...me){if(!0===Q)return void Z();if(!1===Q)return;const K=new B.Hp({next:()=>{K.unsubscribe(),Z()}});return(0,a.Xf)(Q(...me)).subscribe(K)}},9468:(tt,ee,F)=>{"use strict";F.d(ee,{R:()=>L});var a=F(4482);function L(B,z=0){return(0,a.e)((G,j)=>{j.add(B.schedule(()=>G.subscribe(j),z))})}},8505:(tt,ee,F)=>{"use strict";F.d(ee,{b:()=>G});var a=F(576),L=F(4482),B=F(5403),z=F(4671);function G(j,Z,Q){const me=(0,a.m)(j)||Z||Q?{next:j,error:Z,complete:Q}:j;return me?(0,L.e)((K,J)=>{var ne;null===(ne=me.subscribe)||void 0===ne||ne.call(me);let Pe=!0;K.subscribe((0,B.x)(J,Me=>{var Xe;null===(Xe=me.next)||void 0===Xe||Xe.call(me,Me),J.next(Me)},()=>{var Me;Pe=!1,null===(Me=me.complete)||void 0===Me||Me.call(me),J.complete()},Me=>{var Xe;Pe=!1,null===(Xe=me.error)||void 0===Xe||Xe.call(me,Me),J.error(Me)},()=>{var Me,Xe;Pe&&(null===(Me=me.unsubscribe)||void 0===Me||Me.call(me)),null===(Xe=me.finalize)||void 0===Xe||Xe.call(me)}))}):z.y}},4408:(tt,ee,F)=>{"use strict";F.d(ee,{o:()=>G});var a=F(727);class L extends a.w0{constructor(Z,Q){super()}schedule(Z,Q=0){return this}}const B={setInterval(j,Z,...Q){const{delegate:me}=B;return me?.setInterval?me.setInterval(j,Z,...Q):setInterval(j,Z,...Q)},clearInterval(j){const{delegate:Z}=B;return(Z?.clearInterval||clearInterval)(j)},delegate:void 0};var z=F(8737);class G extends L{constructor(Z,Q){super(Z,Q),this.scheduler=Z,this.work=Q,this.pending=!1}schedule(Z,Q=0){var me;if(this.closed)return this;this.state=Z;const K=this.id,J=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(J,K,Q)),this.pending=!0,this.delay=Q,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(J,this.id,Q),this}requestAsyncId(Z,Q,me=0){return B.setInterval(Z.flush.bind(Z,this),me)}recycleAsyncId(Z,Q,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Q;null!=Q&&B.clearInterval(Q)}execute(Z,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(Z,Q);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,Q){let K,me=!1;try{this.work(Z)}catch(J){me=!0,K=J||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Z,scheduler:Q}=this,{actions:me}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.P)(me,this),null!=Z&&(this.id=this.recycleAsyncId(Q,Z,null)),this.delay=null,super.unsubscribe()}}}},7565:(tt,ee,F)=>{"use strict";F.d(ee,{v:()=>B});var a=F(6063);class L{constructor(G,j=L.now){this.schedulerActionCtor=G,this.now=j}schedule(G,j=0,Z){return new this.schedulerActionCtor(this,G).schedule(Z,j)}}L.now=a.l.now;class B extends L{constructor(G,j=L.now){super(G,j),this.actions=[],this._active=!1}flush(G){const{actions:j}=this;if(this._active)return void j.push(G);let Z;this._active=!0;do{if(Z=G.execute(G.state,G.delay))break}while(G=j.shift());if(this._active=!1,Z){for(;G=j.shift();)G.unsubscribe();throw Z}}}},4986:(tt,ee,F)=>{"use strict";F.d(ee,{P:()=>z,z:()=>B});var a=F(4408);const B=new(F(7565).v)(a.o),z=B},6063:(tt,ee,F)=>{"use strict";F.d(ee,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(tt,ee,F)=>{"use strict";F.d(ee,{z:()=>a});const a={setTimeout(L,B,...z){const{delegate:G}=a;return G?.setTimeout?G.setTimeout(L,B,...z):setTimeout(L,B,...z)},clearTimeout(L){const{delegate:B}=a;return(B?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(tt,ee,F)=>{"use strict";F.d(ee,{h:()=>L});const L=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,ee,F)=>{"use strict";F.d(ee,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,ee,F)=>{"use strict";F.d(ee,{_6:()=>j,jO:()=>z,yG:()=>G});var a=F(576),L=F(3532);function B(Z){return Z[Z.length-1]}function z(Z){return(0,a.m)(B(Z))?Z.pop():void 0}function G(Z){return(0,L.K)(B(Z))?Z.pop():void 0}function j(Z,Q){return"number"==typeof B(Z)?Z.pop():Q}},8737:(tt,ee,F)=>{"use strict";function a(L,B){if(L){const z=L.indexOf(B);0<=z&&L.splice(z,1)}}F.d(ee,{P:()=>a})},3888:(tt,ee,F)=>{"use strict";function a(L){const z=L(G=>{Error.call(G),G.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}F.d(ee,{d:()=>a})},2806:(tt,ee,F)=>{"use strict";F.d(ee,{O:()=>z,x:()=>B});var a=F(2416);let L=null;function B(G){if(a.v.useDeprecatedSynchronousErrorHandling){const j=!L;if(j&&(L={errorThrown:!1,error:null}),G(),j){const{errorThrown:Z,error:Q}=L;if(L=null,Z)throw Q}}else G()}function z(G){a.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=G)}},9672:(tt,ee,F)=>{"use strict";function a(L,B,z,G=0,j=!1){const Z=B.schedule(function(){z(),j?L.add(this.schedule(null,G)):this.unsubscribe()},G);if(L.add(Z),!j)return Z}F.d(ee,{f:()=>a})},4671:(tt,ee,F)=>{"use strict";function a(L){return L}F.d(ee,{y:()=>a})},1144:(tt,ee,F)=>{"use strict";F.d(ee,{z:()=>a});const a=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(tt,ee,F)=>{"use strict";F.d(ee,{D:()=>L});var a=F(576);function L(B){return Symbol.asyncIterator&&(0,a.m)(B?.[Symbol.asyncIterator])}},576:(tt,ee,F)=>{"use strict";function a(L){return"function"==typeof L}F.d(ee,{m:()=>a})},3670:(tt,ee,F)=>{"use strict";F.d(ee,{c:()=>B});var a=F(8822),L=F(576);function B(z){return(0,L.m)(z[a.L])}},6495:(tt,ee,F)=>{"use strict";F.d(ee,{T:()=>B});var a=F(2202),L=F(576);function B(z){return(0,L.m)(z?.[a.h])}},8239:(tt,ee,F)=>{"use strict";F.d(ee,{t:()=>L});var a=F(576);function L(B){return(0,a.m)(B?.then)}},3260:(tt,ee,F)=>{"use strict";F.d(ee,{L:()=>z,Q:()=>B});var a=F(655),L=F(576);function B(G){return(0,a.FC)(this,arguments,function*(){const Z=G.getReader();try{for(;;){const{value:Q,done:me}=yield(0,a.qq)(Z.read());if(me)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Q)}}finally{Z.releaseLock()}})}function z(G){return(0,L.m)(G?.getReader)}},3532:(tt,ee,F)=>{"use strict";F.d(ee,{K:()=>L});var a=F(576);function L(B){return B&&(0,a.m)(B.schedule)}},4482:(tt,ee,F)=>{"use strict";F.d(ee,{A:()=>L,e:()=>B});var a=F(576);function L(z){return(0,a.m)(z?.lift)}function B(z){return G=>{if(L(G))return G.lift(function(j){try{return z(j,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,ee,F)=>{"use strict";function a(){}F.d(ee,{Z:()=>a})},9635:(tt,ee,F)=>{"use strict";F.d(ee,{U:()=>B,z:()=>L});var a=F(4671);function L(...z){return B(z)}function B(z){return 0===z.length?a.y:1===z.length?z[0]:function(j){return z.reduce((Z,Q)=>Q(Z),j)}}},7849:(tt,ee,F)=>{"use strict";F.d(ee,{h:()=>B});var a=F(2416),L=F(3410);function B(z){L.z.setTimeout(()=>{const{onUnhandledError:G}=a.v;if(!G)throw z;G(z)})}},4532:(tt,ee,F)=>{"use strict";function a(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ee,{z:()=>a})},655:(tt,ee,F)=>{"use strict";function z(X,we){var He={};for(var Le in X)Object.prototype.hasOwnProperty.call(X,Le)&&we.indexOf(Le)<0&&(He[Le]=X[Le]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Le=Object.getOwnPropertySymbols(X);Je<Le.length;Je++)we.indexOf(Le[Je])<0&&Object.prototype.propertyIsEnumerable.call(X,Le[Je])&&(He[Le[Je]]=X[Le[Je]])}return He}function ne(X,we,He,Le){return new(He||(He=Promise))(function($e,ct){function rt(en){try{Lt(Le.next(en))}catch(ft){ct(ft)}}function jt(en){try{Lt(Le.throw(en))}catch(ft){ct(ft)}}function Lt(en){en.done?$e(en.value):function Je($e){return $e instanceof He?$e:new He(function(ct){ct($e)})}(en.value).then(rt,jt)}Lt((Le=Le.apply(X,we||[])).next())})}function Ge(X){return this instanceof Ge?(this.v=X,this):new Ge(X)}function Ne(X,we,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Le=He.apply(X,we||[]),$e=[];return Je={},ct("next"),ct("throw"),ct("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function ct(Rt){Le[Rt]&&(Je[Rt]=function(En){return new Promise(function(Dn,Ai){$e.push([Rt,En,Dn,Ai])>1||rt(Rt,En)})})}function rt(Rt,En){try{!function jt(Rt){Rt.value instanceof Ge?Promise.resolve(Rt.value.v).then(Lt,en):ft($e[0][2],Rt)}(Le[Rt](En))}catch(Dn){ft($e[0][3],Dn)}}function Lt(Rt){rt("next",Rt)}function en(Rt){rt("throw",Rt)}function ft(Rt,En){Rt(En),$e.shift(),$e.length&&rt($e[0][0],$e[0][1])}}function Be(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,we=X[Symbol.asyncIterator];return we?we.call(X):(X=function mt(X){var we="function"==typeof Symbol&&Symbol.iterator,He=we&&X[we],Le=0;if(He)return He.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&Le>=X.length&&(X=void 0),{value:X&&X[Le++],done:!X}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),He={},Le("next"),Le("throw"),Le("return"),He[Symbol.asyncIterator]=function(){return this},He);function Le($e){He[$e]=X[$e]&&function(ct){return new Promise(function(rt,jt){!function Je($e,ct,rt,jt){Promise.resolve(jt).then(function(Lt){$e({value:Lt,done:rt})},ct)}(rt,jt,(ct=X[$e](ct)).done,ct.value)})}}}F.d(ee,{FC:()=>Ne,KL:()=>Be,_T:()=>z,mG:()=>ne,qq:()=>Ge})},4650:(tt,ee,F)=>{"use strict";F.d(ee,{$8M:()=>wc,$WT:()=>Yi,$Z:()=>lw,AFp:()=>hS,ALo:()=>BP,AaK:()=>Q,BQk:()=>lh,CHM:()=>wd,CRH:()=>qP,CZH:()=>Yl,CqO:()=>ST,D6c:()=>PS,DdM:()=>HI,EJc:()=>pS,EiD:()=>Gk,EpF:()=>TT,F$t:()=>OT,F4k:()=>IT,FYo:()=>Ou,FiY:()=>ni,Gf:()=>$P,GfV:()=>q0,GkF:()=>Aw,Gpc:()=>J,Gre:()=>yb,Hsn:()=>NT,Ikx:()=>eC,JOm:()=>js,JVY:()=>Pk,JZr:()=>mt,KtG:()=>hc,L6k:()=>FU,LAX:()=>VU,LFG:()=>Tn,LSH:()=>PD,Lbi:()=>b_,Lck:()=>A3,MAs:()=>ab,MMx:()=>h_,MR2:()=>YU,NdJ:()=>kw,O4$:()=>Dd,OlP:()=>Pn,Oqu:()=>Kg,P3R:()=>Wk,PXZ:()=>VC,Q6J:()=>lb,QGY:()=>Mw,QbO:()=>Vb,Qsj:()=>W0,R0b:()=>ta,RDi:()=>RU,Rgc:()=>Ab,SBq:()=>mg,Sil:()=>Bb,Suo:()=>WP,TTD:()=>yf,TgZ:()=>Bg,Udp:()=>Bw,VKq:()=>OP,W1O:()=>wC,WLB:()=>NP,X6Q:()=>vO,XFs:()=>At,Xpm:()=>Ir,Xts:()=>ND,Y36:()=>bp,YKP:()=>kI,YNc:()=>Sa,Yjl:()=>un,Yz7:()=>ft,Z0I:()=>Ai,ZZ4:()=>I_,_Bn:()=>MI,_UZ:()=>Ug,_Vd:()=>Xd,_c5:()=>NO,_uU:()=>QT,aQg:()=>qC,c2e:()=>uO,cJS:()=>En,cg1:()=>mh,dDg:()=>gO,dqk:()=>Ln,dwT:()=>uP,eBb:()=>LU,eFA:()=>ES,eJc:()=>CC,ekj:()=>Yg,eoX:()=>NC,f3M:()=>Ei,g9A:()=>y_,h0i:()=>d_,hGG:()=>FO,hij:()=>dh,iGM:()=>tS,ifc:()=>We,ip1:()=>dS,jDz:()=>OI,kL8:()=>Lp,kcU:()=>pu,lG2:()=>Yt,lqb:()=>hp,lri:()=>xh,mCW:()=>$y,n5z:()=>Pd,n_E:()=>yC,oAB:()=>Ce,oxw:()=>PT,pB0:()=>BU,q3G:()=>Ur,q4F:()=>mp,qLn:()=>Fc,qOj:()=>Ag,qZA:()=>ll,qzn:()=>dg,rWj:()=>vS,sBO:()=>UC,s_b:()=>vC,soG:()=>Eh,tBr:()=>Li,tb:()=>LC,tp0:()=>Ht,uIk:()=>Og,uOi:()=>OD,vHH:()=>pe,vpe:()=>jc,wAp:()=>Qt,xDo:()=>gb,xi3:()=>UP,xp6:()=>Z0,ynx:()=>Hg,z2F:()=>jb,z3N:()=>Pc,zSh:()=>BD,zs3:()=>Jd});var a=F(7579),L=F(727),B=F(9751),z=F(6451),G=F(3099);function j(c){for(let u in c)if(c[u]===j)return u;throw Error("Could not find renamed property on target object.")}function Z(c,u){for(const h in u)u.hasOwnProperty(h)&&!c.hasOwnProperty(h)&&(c[h]=u[h])}function Q(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(Q).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function me(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const K=j({__forward_ref__:j});function J(c){return c.__forward_ref__=J,c.toString=function(){return Q(this())},c}function ne(c){return Pe(c)?c():c}function Pe(c){return"function"==typeof c&&c.hasOwnProperty(K)&&c.__forward_ref__===J}function Me(c){return c&&!!c.\u0275providers}const mt="https://g.co/ng/security#xss";class pe extends Error{constructor(u,h){super(xe(u,h)),this.code=u}}function xe(c,u){return`NG0${Math.abs(c)}${u?": "+u.trim():""}`}function ke(c){return"string"==typeof c?c:null==c?"":String(c)}function Be(c,u){throw new pe(-201,!1)}function ct(c,u){null==c&&function rt(c,u,h,p){throw new Error(`ASSERTION ERROR: ${c}`+(null==p?"":` [Expected=> ${h} ${p} ${u} <=Actual]`))}(u,c,null,"!=")}function ft(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function En(c){return{providers:c.providers||[],imports:c.imports||[]}}function Dn(c){return Hi(c,Fs)||Hi(c,oa)}function Ai(c){return null!==Dn(c)}function Hi(c,u){return c.hasOwnProperty(u)?c[u]:null}function Jr(c){return c&&(c.hasOwnProperty(Ls)||c.hasOwnProperty(Mi))?c[Ls]:null}const Fs=j({\u0275prov:j}),Ls=j({\u0275inj:j}),oa=j({ngInjectableDef:j}),Mi=j({ngInjectorDef:j});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let yo;function ki(c){const u=yo;return yo=c,u}function ur(c,u,h){const p=Dn(c);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:h&At.Optional?null:void 0!==u?u:void Be(Q(c))}const Ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dr={},xr="__NG_DI_FLAG__",ti="ngTempTokenPath",hr="ngTokenPath",Ci=/\n/gm,fr="\u0275",Wn="__source";let Ss;function _n(c){const u=Ss;return Ss=c,u}function es(c,u=At.Default){if(void 0===Ss)throw new pe(-203,!1);return null===Ss?ur(c,void 0,u):Ss.get(c,u&At.Optional?null:void 0,u)}function Tn(c,u=At.Default){return(function Ua(){return yo}()||es)(ne(c),u)}function Ei(c,u=At.Default){return Tn(c,xi(u))}function xi(c){return typeof c>"u"||"number"==typeof c?c:0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function ui(c){const u=[];for(let h=0;h<c.length;h++){const p=ne(c[h]);if(Array.isArray(p)){if(0===p.length)throw new pe(900,!1);let g,b=At.Default;for(let C=0;C<p.length;C++){const I=p[C],A=qi(I);"number"==typeof A?-1===A?g=I.token:b|=A:g=I}u.push(Tn(g,b))}else u.push(Tn(p))}return u}function Tr(c,u){return c[xr]=u,c.prototype[xr]=u,c}function qi(c){return c[xr]}function te(c){return{toString:c}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),We=(()=>{return(c=We||(We={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",We;var c})();const Te={},st=[],Gt=j({\u0275cmp:j}),kn=j({\u0275dir:j}),ri=j({\u0275pipe:j}),qn=j({\u0275mod:j}),Rn=j({\u0275fac:j}),cn=j({__NG_ELEMENT_ID__:j});let zi=0;function Ir(c){return te(()=>{const u=Ha(c),h={...u,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&c.dependencies||null,getStandaloneInjector:null,data:c.data||{},encapsulation:c.encapsulation||We.Emulated,id:"c"+zi++,styles:c.styles||st,_:null,schemas:c.schemas||null,tView:null};rc(h);const p=c.dependencies;return h.directiveDefs=to(p,!1),h.pipeDefs=to(p,!0),h})}function aa(c){return Vt(c)||Fn(c)}function ze(c){return null!==c}function Ce(c){return te(()=>({type:c.type,bootstrap:c.bootstrap||st,declarations:c.declarations||st,imports:c.imports||st,exports:c.exports||st,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function Mt(c,u){if(null==c)return Te;const h={};for(const p in c)if(c.hasOwnProperty(p)){let g=c[p],b=g;Array.isArray(g)&&(b=g[1],g=g[0]),h[g]=p,u&&(u[g]=b)}return h}function Yt(c){return te(()=>{const u=Ha(c);return rc(u),u})}function un(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function Vt(c){return c[Gt]||null}function Fn(c){return c[kn]||null}function vn(c){return c[ri]||null}function Yi(c){const u=Vt(c)||Fn(c)||vn(c);return null!==u&&u.standalone}function Ri(c,u){const h=c[qn]||null;if(!h&&!0===u)throw new Error(`Type ${Q(c)} does not have '\u0275mod' property.`);return h}function Ha(c){const u={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:u,exportAs:c.exportAs||null,standalone:!0===c.standalone,selectors:c.selectors||st,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mt(c.inputs,u),outputs:Mt(c.outputs)}}function rc(c){c.features?.forEach(u=>u(c))}function to(c,u){if(!c)return null;const h=u?vn:aa;return()=>("function"==typeof c?c():c).map(p=>h(p)).filter(ze)}const ji=0,yt=1,V=2,ce=3,qe=4,Ye=5,Dt=6,Ot=7,Zt=8,pn=9,at=10,Kt=11,Pi=12,Sr=13,mr=14,no=15,Gi=16,za=17,ja=18,As=19,la=20,gr=21,Jn=22,gd=1,sc=2,Cl=7,ca=8,Ga=9,Ar=10;function ts(c){return Array.isArray(c)&&"object"==typeof c[gd]}function io(c){return Array.isArray(c)&&!0===c[gd]}function $a(c){return 0!=(4&c.flags)}function ru(c){return c.componentOffset>-1}function oc(c){return 1==(1&c.flags)}function ys(c){return!!c.template}function ua(c){return 0!=(256&c[V])}function Go(c,u){return c.hasOwnProperty(Rn)?c[Rn]:null}class _f{constructor(u,h,p){this.previousValue=u,this.currentValue=h,this.firstChange=p}isFirstChange(){return this.firstChange}}function yf(){return su}function su(c){return c.type.prototype.ngOnChanges&&(c.setInput=ha),Um}function Um(){const c=ou(this),u=c?.current;if(u){const h=c.previous;if(h===Te)c.previous=u;else for(let p in u)h[p]=u[p];c.current=null,this.ngOnChanges(u)}}function ha(c,u,h,p){const g=this.declaredInputs[h],b=ou(c)||function bf(c,u){return c[_d]=u}(c,{previous:Te,current:null}),C=b.current||(b.current={}),I=b.previous,A=I[g];C[g]=new _f(A&&A.currentValue,u,I===Te),c[p]=u}yf.ngInherit=!0;const _d="__ngSimpleChanges__";function ou(c){return c[_d]||null}const di=function(c,u,h){},cc="svg";function Zi(c){for(;Array.isArray(c);)c=c[ji];return c}function Ya(c,u){return Zi(u[c])}function Mr(c,u){return Zi(u[c.index])}function lu(c,u){return c.data[u]}function ns(c,u){return c[u]}function _r(c,u){const h=u[c];return ts(h)?h:h[ji]}function fa(c){return 64==(64&c[V])}function $o(c,u){return null==u?null:c[u]}function dc(c){c[ja]=0}function Dl(c,u){c[Ye]+=u;let h=c,p=c[ce];for(;null!==p&&(1===u&&1===h[Ye]||-1===u&&0===h[Ye]);)p[Ye]+=u,h=p,p=p[ce]}const rn={lFrame:pc(null),bindingsEnabled:!0};function wf(){return rn.bindingsEnabled}function je(){return rn.lFrame.lView}function an(){return rn.lFrame.tView}function wd(c){return rn.lFrame.contextLView=c,c[Zt]}function hc(c){return rn.lFrame.contextLView=null,c}function Oi(){let c=Ef();for(;null!==c&&64===c.type;)c=c.parent;return c}function Ef(){return rn.lFrame.currentTNode}function Bs(c,u){const h=rn.lFrame;h.currentTNode=c,h.isParent=u}function uu(){return rn.lFrame.isParent}function xf(){rn.lFrame.isParent=!1}function kr(){const c=rn.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function Wo(){return rn.lFrame.bindingIndex++}function wo(c){const u=rn.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,h}function If(c,u){const h=rn.lFrame;h.bindingIndex=h.bindingRootIndex=c,Ni(u)}function Ni(c){rn.lFrame.currentDirectiveIndex=c}function fc(){return rn.lFrame.currentQueryIndex}function Sf(c){rn.lFrame.currentQueryIndex=c}function hu(c){const u=c[yt];return 2===u.type?u.declTNode:1===u.type?c[Dt]:null}function Af(c,u,h){if(h&At.SkipSelf){let g=u,b=c;for(;!(g=g.parent,null!==g||h&At.Host||(g=hu(b),null===g||(b=b[no],10&g.type))););if(null===g)return!1;u=g,c=b}const p=rn.lFrame=Cd();return p.currentTNode=u,p.lView=c,!0}function Sl(c){const u=Cd(),h=c[yt];rn.lFrame=u,u.currentTNode=h.firstChild,u.lView=c,u.tView=h,u.contextLView=c,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function Cd(){const c=rn.lFrame,u=null===c?null:c.child;return null===u?pc(c):u}function pc(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function Ed(){const c=rn.lFrame;return rn.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const fu=Ed;function Mf(){const c=Ed();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Fr(){return rn.lFrame.selectedIndex}function Co(c){rn.lFrame.selectedIndex=c}function ai(){const c=rn.lFrame;return lu(c.tView,c.selectedIndex)}function Dd(){rn.lFrame.currentNamespace=cc}function pu(){!function Ly(){rn.lFrame.currentNamespace=null}()}function mu(c,u){for(let h=u.directiveStart,p=u.directiveEnd;h<p;h++){const b=c.data[h].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:P,ngOnDestroy:U}=b;C&&(c.contentHooks??(c.contentHooks=[])).push(-h,C),I&&((c.contentHooks??(c.contentHooks=[])).push(h,I),(c.contentCheckHooks??(c.contentCheckHooks=[])).push(h,I)),A&&(c.viewHooks??(c.viewHooks=[])).push(-h,A),P&&((c.viewHooks??(c.viewHooks=[])).push(h,P),(c.viewCheckHooks??(c.viewCheckHooks=[])).push(h,P)),null!=U&&(c.destroyHooks??(c.destroyHooks=[])).push(h,U)}}function Td(c,u,h){gu(c,u,3,h)}function Pf(c,u,h,p){(3&c[V])===h&&gu(c,u,h,p)}function Of(c,u){let h=c[V];(3&h)===u&&(h&=2047,h+=1,c[V]=h)}function gu(c,u,h,p){const b=p??-1,C=u.length-1;let I=0;for(let A=void 0!==p?65535&c[ja]:0;A<C;A++)if("number"==typeof u[A+1]){if(I=u[A],null!=p&&I>=p)break}else u[A]<0&&(c[ja]+=65536),(I<b||-1==b)&&(Ml(c,h,u,A),c[ja]=(4294901760&c[ja])+A+2),A++}function Ml(c,u,h,p){const g=h[p]<0,b=h[p+1],I=c[g?-h[p]:h[p]];if(g){if(c[V]>>11<c[ja]>>16&&(3&c[V])===u){c[V]+=2048,di(4,I,b);try{b.call(I)}finally{di(5,I,b)}}}else{di(4,I,b);try{b.call(I)}finally{di(5,I,b)}}}const mc=-1;class qo{constructor(u,h,p){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=p}}function kl(c,u,h){let p=0;for(;p<h.length;){const g=h[p];if("number"==typeof g){if(0!==g)break;p++;const b=h[p++],C=h[p++],I=h[p++];c.setAttribute(u,C,I,b)}else{const b=g,C=h[++p];ga(b)?c.setProperty(u,b,C):c.setAttribute(u,b,C),p++}}return p}function Ff(c){return 3===c||4===c||6===c}function ga(c){return 64===c.charCodeAt(0)}function Ka(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let h=-1;for(let p=0;p<u.length;p++){const g=u[p];"number"==typeof g?h=g:0===h||Rl(c,h,g,null,-1===h||2===h?u[++p]:null)}}return c}function Rl(c,u,h,p,g){let b=0,C=c.length;if(-1===u)C=-1;else for(;b<c.length;){const I=c[b++];if("number"==typeof I){if(I===u){C=-1;break}if(I>u){C=b-1;break}}}for(;b<c.length;){const I=c[b];if("number"==typeof I)break;if(I===h){if(null===p)return void(null!==g&&(c[b+1]=g));if(p===c[b+1])return void(c[b+2]=g)}b++,null!==p&&b++,null!==g&&b++}-1!==C&&(c.splice(C,0,u),b=C+1),c.splice(b++,0,h),null!==p&&c.splice(b++,0,p),null!==g&&c.splice(b++,0,g)}function Qa(c){return c!==mc}function Pl(c){return 32767&c}function yc(c,u){let h=function _c(c){return c>>16}(c),p=u;for(;h>0;)p=p[no],h--;return p}let Sd=!0;function bc(c){const u=Sd;return Sd=c,u}const Ad=255,bu=5;let Md=0;const is={};function kd(c,u){const h=Vf(c,u);if(-1!==h)return h;const p=u[yt];p.firstCreatePass&&(c.injectorIndex=u.length,Eo(p.data,c),Eo(u,null),Eo(p.blueprint,null));const g=Fi(c,u),b=c.injectorIndex;if(Qa(g)){const C=Pl(g),I=yc(g,u),A=I[yt].data;for(let P=0;P<8;P++)u[b+P]=I[C+P]|A[C+P]}return u[b+8]=g,b}function Eo(c,u){c.push(0,0,0,0,0,0,0,0,u)}function Vf(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function Fi(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let h=0,p=null,g=u;for(;null!==g;){if(p=Xa(g),null===p)return mc;if(h++,g=g[no],-1!==p.injectorIndex)return p.injectorIndex|h<<16}return mc}function _a(c,u,h){!function Lf(c,u,h){let p;"string"==typeof h?p=h.charCodeAt(0)||0:h.hasOwnProperty(cn)&&(p=h[cn]),null==p&&(p=h[cn]=Md++);const g=p&Ad;u.data[c+(g>>bu)]|=1<<g}(c,u,h)}function Bf(c,u,h){if(h&At.Optional||void 0!==c)return c;Be()}function vc(c,u,h,p){if(h&At.Optional&&void 0===p&&(p=null),!(h&(At.Self|At.Host))){const g=c[pn],b=ki(void 0);try{return g?g.get(u,p,h&At.Optional):ur(u,p,h&At.Optional)}finally{ki(b)}}return Bf(p,0,h)}function Uf(c,u,h,p=At.Default,g){if(null!==c){if(1024&u[V]){const C=function Wm(c,u,h,p,g){let b=c,C=u;for(;null!==b&&null!==C&&1024&C[V]&&!(256&C[V]);){const I=wu(b,C,h,p|At.Self,is);if(I!==is)return I;let A=b.parent;if(!A){const P=C[gr];if(P){const U=P.get(h,is,p);if(U!==is)return U}A=Xa(C),C=C[no]}b=A}return g}(c,u,h,p,is);if(C!==is)return C}const b=wu(c,u,h,p,is);if(b!==is)return b}return vc(u,h,p,g)}function wu(c,u,h,p,g){const b=function $m(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(cn)?c[cn]:void 0;return"number"==typeof u?u>=0?u&Ad:Rd:u}(h);if("function"==typeof b){if(!Af(u,c,p))return p&At.Host?Bf(g,0,p):vc(u,h,p,g);try{const C=b(p);if(null!=C||p&At.Optional)return C;Be()}finally{fu()}}else if("number"==typeof b){let C=null,I=Vf(c,u),A=mc,P=p&At.Host?u[Gi][Dt]:null;for((-1===I||p&At.SkipSelf)&&(A=-1===I?Fi(c,u):u[I+8],A!==mc&&Cu(p,!1)?(C=u[yt],I=Pl(A),u=yc(A,u)):I=-1);-1!==I;){const U=u[yt];if(ya(b,I,U.data)){const Y=Ki(I,u,h,C,p,P);if(Y!==is)return Y}A=u[I+8],A!==mc&&Cu(p,u[yt].data[I+8]===P)&&ya(b,I,u)?(C=U,I=Pl(A),u=yc(A,u)):I=-1}}return g}function Ki(c,u,h,p,g,b){const C=u[yt],I=C.data[c+8],U=Ol(I,C,h,null==p?ru(I)&&Sd:p!=C&&0!=(3&I.type),g&At.Host&&b===I);return null!==U?hi(u,C,U,I):is}function Ol(c,u,h,p,g){const b=c.providerIndexes,C=u.data,I=1048575&b,A=c.directiveStart,U=b>>20,he=g?I+U:c.directiveEnd;for(let Ie=p?I:I+U;Ie<he;Ie++){const Ke=C[Ie];if(Ie<A&&h===Ke||Ie>=A&&Ke.type===h)return Ie}if(g){const Ie=C[A];if(Ie&&ys(Ie)&&Ie.type===h)return A}return null}function hi(c,u,h,p){let g=c[h];const b=u.data;if(function By(c){return c instanceof qo}(g)){const C=g;C.resolving&&function Ge(c,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${c}`:"";throw new pe(-200,`Circular dependency in DI detected for ${c}${h}`)}(function Re(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():ke(c)}(b[h]));const I=bc(C.canSeeViewProviders);C.resolving=!0;const A=C.injectImpl?ki(C.injectImpl):null;Af(c,p,At.Default);try{g=c[h]=C.factory(void 0,b,c,p),u.firstCreatePass&&h>=p.directiveStart&&function Vy(c,u,h){const{ngOnChanges:p,ngOnInit:g,ngDoCheck:b}=u.type.prototype;if(p){const C=su(u);(h.preOrderHooks??(h.preOrderHooks=[])).push(c,C),(h.preOrderCheckHooks??(h.preOrderCheckHooks=[])).push(c,C)}g&&(h.preOrderHooks??(h.preOrderHooks=[])).push(0-c,g),b&&((h.preOrderHooks??(h.preOrderHooks=[])).push(c,b),(h.preOrderCheckHooks??(h.preOrderCheckHooks=[])).push(c,b))}(h,b[h],u)}finally{null!==A&&ki(A),bc(I),C.resolving=!1,fu()}}return g}function ya(c,u,h){return!!(h[u+(c>>bu)]&1<<c)}function Cu(c,u){return!(c&At.Self||c&At.Host&&u)}class Nl{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,p){return Uf(this._tNode,this._lView,u,xi(p),h)}}function Rd(){return new Nl(Oi(),je())}function Pd(c){return te(()=>{const u=c.prototype.constructor,h=u[Rn]||ba(u),p=Object.prototype;let g=Object.getPrototypeOf(c.prototype).constructor;for(;g&&g!==p;){const b=g[Rn]||ba(g);if(b&&b!==h)return b;g=Object.getPrototypeOf(g)}return b=>new b})}function ba(c){return Pe(c)?()=>{const u=ba(ne(c));return u&&u()}:Go(c)}function Xa(c){const u=c[yt],h=u.type;return 2===h?u.declTNode:1===h?c[Dt]:null}function wc(c){return function vu(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const h=c.attrs;if(h){const p=h.length;let g=0;for(;g<p;){const b=h[g];if(Ff(b))break;if(0===b)g+=2;else if("number"==typeof b)for(g++;g<p&&"string"==typeof h[g];)g++;else{if(b===u)return h[g+1];g+=2}}}return null}(Oi(),c)}const el="__parameters__";function tl(c,u,h){return te(()=>{const p=function Hf(c){return function(...h){if(c){const p=c(...h);for(const g in p)this[g]=p[g]}}}(u);function g(...b){if(this instanceof g)return p.apply(this,b),this;const C=new g(...b);return I.annotation=C,I;function I(A,P,U){const Y=A.hasOwnProperty(el)?A[el]:Object.defineProperty(A,el,{value:[]})[el];for(;Y.length<=U;)Y.push(null);return(Y[U]=Y[U]||[]).push(C),A}}return h&&(g.prototype=Object.create(h.prototype)),g.prototype.ngMetadataName=c,g.annotationCls=g,g})}class Pn{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=ft({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function va(c,u){c.forEach(h=>Array.isArray(h)?va(h,u):u(h))}function Bd(c,u,h){u>=c.length?c.push(h):c.splice(u,0,h)}function Cc(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function Fl(c,u){const h=[];for(let p=0;p<c;p++)h.push(u);return h}function Us(c,u,h){let p=Ll(c,u);return p>=0?c[1|p]=h:(p=~p,function xc(c,u,h,p){let g=c.length;if(g==u)c.push(h,p);else if(1===g)c.push(p,c[0]),c[0]=h;else{for(g--,c.push(c[g-1],c[g]);g>u;)c[g]=c[g-2],g--;c[u]=h,c[u+1]=p}}(c,p,u,h)),p}function Vn(c,u){const h=Ll(c,u);if(h>=0)return c[1|h]}function Ll(c,u){return function xo(c,u,h){let p=0,g=c.length>>h;for(;g!==p;){const b=p+(g-p>>1),C=c[b<<h];if(u===C)return b<<h;C>u?g=b:p=b+1}return~(g<<h)}(c,u,1)}const Li=Tr(tl("Inject",c=>({token:c})),-1),ni=Tr(tl("Optional"),8),Ht=Tr(tl("SkipSelf"),4);var js=(()=>((js=js||{})[js.Important=1]="Important",js[js.DashCase=2]="DashCase",js))();const kc=new Map;let Qf=0;const ae="__ngContext__";function fe(c,u){ts(u)?(c[ae]=u[la],function Xm(c){kc.set(c[la],c)}(u)):c[ae]=u}let vs;function os(c,u){return vs(c,u)}function ep(c){const u=c[ce];return io(u)?u[ce]:u}function Pu(c){return Yd(c[Sr])}function qd(c){return Yd(c[qe])}function Yd(c){for(;null!==c&&!io(c);)c=c[qe];return c}function Rc(c,u,h,p,g){if(null!=p){let b,C=!1;io(p)?b=p:ts(p)&&(C=!0,p=p[ji]);const I=Zi(p);0===c&&null!==h?null==g?as(u,h,I):dn(u,h,I,g||null,!0):1===c&&null!==h?dn(u,h,I,g||null,!0):2===c?function lp(c,u,h){const p=Ko(c,u);p&&function np(c,u,h,p){c.removeChild(u,h,p)}(c,p,u,h)}(u,I,C):3===c&&u.destroyNode(I),null!=b&&function Sk(c,u,h,p,g){const b=h[Cl];b!==Zi(h)&&Rc(u,c,p,b,g);for(let I=Ar;I<h.length;I++){const A=h[I];cp(A[yt],A,c,u,p,b)}}(u,c,b,h,g)}}function tg(c,u,h){return c.createElement(u,h)}function T(c,u){const h=c[Ga],p=h.indexOf(u),g=u[ce];512&u[V]&&(u[V]&=-513,Dl(g,-1)),h.splice(p,1)}function N(c,u){if(c.length<=Ar)return;const h=Ar+u,p=c[h];if(p){const g=p[za];null!==g&&g!==c&&T(g,p),u>0&&(c[h-1][qe]=p[qe]);const b=Cc(c,Ar+u);!function tp(c,u){cp(c,u,u[Kt],2,null,null),u[ji]=null,u[Dt]=null}(p[yt],p);const C=b[As];null!==C&&C.detachView(b[yt]),p[ce]=null,p[qe]=null,p[V]&=-65}return p}function H(c,u){if(!(128&u[V])){const h=u[Kt];h.destroyNode&&cp(c,u,h,3,null,null),function E(c){let u=c[Sr];if(!u)return ye(c[yt],c);for(;u;){let h=null;if(ts(u))h=u[Sr];else{const p=u[Ar];p&&(h=p)}if(!h){for(;u&&!u[qe]&&u!==c;)ts(u)&&ye(u[yt],u),u=u[ce];null===u&&(u=c),ts(u)&&ye(u[yt],u),h=u&&u[qe]}u=h}}(u)}}function ye(c,u){if(!(128&u[V])){u[V]&=-65,u[V]|=128,function dt(c,u){let h;if(null!=c&&null!=(h=c.destroyHooks))for(let p=0;p<h.length;p+=2){const g=u[h[p]];if(!(g instanceof qo)){const b=h[p+1];if(Array.isArray(b))for(let C=0;C<b.length;C+=2){const I=g[b[C]],A=b[C+1];di(4,I,A);try{A.call(I)}finally{di(5,I,A)}}else{di(4,g,b);try{b.call(g)}finally{di(5,g,b)}}}}}(c,u),function Fe(c,u){const h=c.cleanup,p=u[Ot];let g=-1;if(null!==h)for(let b=0;b<h.length-1;b+=2)if("string"==typeof h[b]){const C=h[b+3];C>=0?p[g=C]():p[g=-C].unsubscribe(),b+=2}else{const C=p[g=h[b+1]];h[b].call(C)}if(null!==p){for(let b=g+1;b<p.length;b++)(0,p[b])();u[Ot]=null}}(c,u),1===u[yt].type&&u[Kt].destroy();const h=u[za];if(null!==h&&io(u[ce])){h!==u[ce]&&T(h,u);const p=u[As];null!==p&&p.detachView(c)}!function Ru(c){kc.delete(c[la])}(u)}}function bt(c,u,h){return function Bt(c,u,h){let p=u;for(;null!==p&&40&p.type;)p=(u=p).parent;if(null===p)return h[ji];{const{componentOffset:g}=p;if(g>-1){const{encapsulation:b}=c.data[p.directiveStart+g];if(b===We.None||b===We.Emulated)return null}return Mr(p,h)}}(c,u.parent,h)}function dn(c,u,h,p,g){c.insertBefore(u,h,p,g)}function as(c,u,h){c.appendChild(u,h)}function xa(c,u,h,p,g){null!==p?dn(c,u,h,p,g):as(c,u,h)}function Ko(c,u){return c.parentNode(u)}function rg(c,u,h){return sg(c,u,h)}let rp,ag,DD,cg,sg=function ip(c,u,h){return 40&c.type?Mr(c,h):null};function Qd(c,u,h,p){const g=bt(c,p,u),b=u[Kt],I=rg(p.parent||u[Dt],p,u);if(null!=g)if(Array.isArray(h))for(let A=0;A<h.length;A++)xa(b,g,h[A],I,!1);else xa(b,g,h,I,!1);void 0!==rp&&rp(b,p,u,h,g)}function op(c,u){if(null!==u){const h=u.type;if(3&h)return Mr(u,c);if(4&h)return og(-1,c[u.index]);if(8&h){const p=u.child;if(null!==p)return op(c,p);{const g=c[u.index];return io(g)?og(-1,g):Zi(g)}}if(32&h)return os(u,c)()||Zi(c[u.index]);{const p=ap(c,u);return null!==p?Array.isArray(p)?p[0]:op(ep(c[Gi]),p):op(c,u.next)}}return null}function ap(c,u){return null!==u?c[Gi][Dt].projection[u.projection]:null}function og(c,u){const h=Ar+c+1;if(h<u.length){const p=u[h],g=p[yt].firstChild;if(null!==g)return op(p,g)}return u[Cl]}function zy(c,u,h,p,g,b,C){for(;null!=h;){const I=p[h.index],A=h.type;if(C&&0===u&&(I&&fe(Zi(I),p),h.flags|=2),32!=(32&h.flags))if(8&A)zy(c,u,h.child,p,g,b,!1),Rc(u,c,g,I,b);else if(32&A){const P=os(h,p);let U;for(;U=P();)Rc(u,c,g,U,b);Rc(u,c,g,I,b)}else 16&A?ED(c,u,p,h,g,b):Rc(u,c,g,I,b);h=C?h.projectionNext:h.next}}function cp(c,u,h,p,g,b){zy(h,p,c.firstChild,u,g,b,!1)}function ED(c,u,h,p,g,b){const C=h[Gi],A=C[Dt].projection[p.projection];if(Array.isArray(A))for(let P=0;P<A.length;P++)Rc(u,c,g,A[P],b);else zy(c,u,A,C[ce],g,b,!0)}function L0(c,u,h){""===h?c.removeAttribute(u,"class"):c.setAttribute(u,"class",h)}function V0(c,u,h){const{mergedAttrs:p,classes:g,styles:b}=h;null!==p&&kl(c,u,p),null!==g&&L0(c,u,g),null!==b&&function xD(c,u,h){c.setAttribute(u,"style",h)}(c,u,b)}function lg(c){return function jy(){if(void 0===ag&&(ag=null,Ln.trustedTypes))try{ag=Ln.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return ag}()?.createHTML(c)||c}function RU(c){DD=c}function ug(c){return function U0(){if(void 0===cg&&(cg=null,Ln.trustedTypes))try{cg=Ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return cg}()?.createScriptURL(c)||c}class up{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class z0 extends up{getTypeName(){return"HTML"}}class PU extends up{getTypeName(){return"Style"}}class kk extends up{getTypeName(){return"Script"}}class OU extends up{getTypeName(){return"URL"}}class Rk extends up{getTypeName(){return"ResourceURL"}}function Pc(c){return c instanceof up?c.changingThisBreaksApplicationSecurity:c}function dg(c,u){const h=function NU(c){return c instanceof up&&c.getTypeName()||null}(c);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${mt})`)}return h===u}function Pk(c){return new z0(c)}function FU(c){return new PU(c)}function LU(c){return new kk(c)}function VU(c){return new OU(c)}function BU(c){return new Rk(c)}class Nk{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(lg(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class Fk{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const h=this.inertDocument.createElement("template");return h.innerHTML=lg(u),h}}const Vk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $y(c){return(c=String(c)).match(Vk)?c:"unsafe:"+c}function Oc(c){const u={};for(const h of c.split(","))u[h]=!0;return u}function hg(...c){const u={};for(const h of c)for(const p in h)h.hasOwnProperty(p)&&(u[p]=!0);return u}const ID=Oc("area,br,col,hr,img,wbr"),SD=Oc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wy=Oc("rp,rt"),fg=hg(ID,hg(SD,Oc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hg(Wy,Oc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hg(Wy,SD)),qy=Oc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MD=hg(qy,Oc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Uk=Oc("script,style,template");class Hk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,p=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?p=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,p&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let g=this.checkClobberedElement(h,h.nextSibling);if(g){h=g;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!fg.hasOwnProperty(h))return this.sanitizedSomething=!0,!Uk.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const p=u.attributes;for(let g=0;g<p.length;g++){const b=p.item(g),C=b.name,I=C.toLowerCase();if(!MD.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let A=b.value;qy[I]&&(A=$y(A)),this.buf.push(" ",C,'="',kD(A),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();fg.hasOwnProperty(h)&&!ID.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(kD(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const zk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jk=/([^\#-~ |!])/g;function kD(c){return c.replace(/&/g,"&amp;").replace(zk,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(jk,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let j0;function Gk(c,u){let h=null;try{j0=j0||function Ok(c){const u=new Fk(c);return function Lk(){try{return!!(new window.DOMParser).parseFromString(lg(""),"text/html")}catch{return!1}}()?new Nk(u):u}(c);let p=u?String(u):"";h=j0.getInertBodyElement(p);let g=5,b=p;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,p=b,b=h.innerHTML,h=j0.getInertBodyElement(p)}while(p!==b);return lg((new Hk).sanitizeChildren(RD(h)||h))}finally{if(h){const p=RD(h)||h;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function RD(c){return"content"in c&&function zU(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Ur=(()=>((Ur=Ur||{})[Ur.NONE=0]="NONE",Ur[Ur.HTML=1]="HTML",Ur[Ur.STYLE=2]="STYLE",Ur[Ur.SCRIPT=3]="SCRIPT",Ur[Ur.URL=4]="URL",Ur[Ur.RESOURCE_URL=5]="RESOURCE_URL",Ur))();function PD(c){const u=Yy();return u?u.sanitize(Ur.URL,c)||"":dg(c,"URL")?Pc(c):$y(ke(c))}function OD(c){const u=Yy();if(u)return ug(u.sanitize(Ur.RESOURCE_URL,c)||"");if(dg(c,"ResourceURL"))return ug(Pc(c));throw new pe(904,!1)}function Wk(c,u,h){return function $k(c,u){return"src"===u&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===u&&("base"===c||"link"===c)?OD:PD}(u,h)(c)}function Yy(){const c=je();return c&&c[Pi]}const ND=new Pn("ENVIRONMENT_INITIALIZER"),qk=new Pn("INJECTOR",-1),Yk=new Pn("INJECTOR_DEF_TYPES");class Zk{get(u,h=dr){if(h===dr){const p=new Error(`NullInjectorError: No provider for ${Q(u)}!`);throw p.name="NullInjectorError",p}return h}}function YU(c){return{\u0275providers:c}}function ZU(...c){return{\u0275providers:Kk(0,c),\u0275fromNgModule:!0}}function Kk(c,...u){const h=[],p=new Set;let g;return va(u,b=>{const C=b;FD(C,h,[],p)&&(g||(g=[]),g.push(C))}),void 0!==g&&Qk(g,h),h}function Qk(c,u){for(let h=0;h<c.length;h++){const{providers:g}=c[h];LD(g,b=>{u.push(b)})}}function FD(c,u,h,p){if(!(c=ne(c)))return!1;let g=null,b=Jr(c);const C=!b&&Vt(c);if(b||C){if(C&&!C.standalone)return!1;g=c}else{const A=c.ngModule;if(b=Jr(A),!b)return!1;g=A}const I=p.has(g);if(C){if(I)return!1;if(p.add(g),C.dependencies){const A="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const P of A)FD(P,u,h,p)}}else{if(!b)return!1;{if(null!=b.imports&&!I){let P;p.add(g);try{va(b.imports,U=>{FD(U,u,h,p)&&(P||(P=[]),P.push(U))})}finally{}void 0!==P&&Qk(P,u)}if(!I){const P=Go(g)||(()=>new g);u.push({provide:g,useFactory:P,deps:st},{provide:Yk,useValue:g,multi:!0},{provide:ND,useValue:()=>Tn(g),multi:!0})}const A=b.providers;null==A||I||LD(A,U=>{u.push(U)})}}return g!==c&&void 0!==c.providers}function LD(c,u){for(let h of c)Me(h)&&(h=h.\u0275providers),Array.isArray(h)?LD(h,u):u(h)}const KU=j({provide:String,useValue:j});function VD(c){return null!==c&&"object"==typeof c&&KU in c}function dp(c){return"function"==typeof c}const BD=new Pn("Set Injector scope."),G0={},XU={};let UD;function $0(){return void 0===UD&&(UD=new Zk),UD}class hp{}class eR extends hp{get destroyed(){return this._destroyed}constructor(u,h,p,g){super(),this.parent=h,this.source=p,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zD(u,C=>this.processProvider(C)),this.records.set(qk,pg(void 0,this)),g.has("environment")&&this.records.set(hp,pg(void 0,this));const b=this.records.get(BD);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Yk.multi,st,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const h=_n(this),p=ki(void 0);try{return u()}finally{_n(h),ki(p)}}get(u,h=dr,p=At.Default){this.assertNotDestroyed(),p=xi(p);const g=_n(this),b=ki(void 0);try{if(!(p&At.SkipSelf)){let I=this.records.get(u);if(void 0===I){const A=function r3(c){return"function"==typeof c||"object"==typeof c&&c instanceof Pn}(u)&&Dn(u);I=A&&this.injectableDefInScope(A)?pg(HD(u),G0):null,this.records.set(u,I)}if(null!=I)return this.hydrate(u,I)}return(p&At.Self?$0():this.parent).get(u,h=p&At.Optional&&h===dr?null:h)}catch(C){if("NullInjectorError"===C.name){if((C[ti]=C[ti]||[]).unshift(Q(u)),g)throw C;return function pr(c,u,h,p){const g=c[ti];throw u[Wn]&&g.unshift(u[Wn]),c.message=function oe(c,u,h,p=null){c=c&&"\n"===c.charAt(0)&&c.charAt(1)==fr?c.slice(2):c;let g=Q(u);if(Array.isArray(u))g=u.map(Q).join(" -> ");else if("object"==typeof u){let b=[];for(let C in u)if(u.hasOwnProperty(C)){let I=u[C];b.push(C+":"+("string"==typeof I?JSON.stringify(I):Q(I)))}g=`{${b.join(", ")}}`}return`${h}${p?"("+p+")":""}[${g}]: ${c.replace(Ci,"\n  ")}`}("\n"+c.message,g,h,p),c[hr]=g,c[ti]=null,c}(C,u,"R3InjectorError",this.source)}throw C}finally{ki(b),_n(g)}}resolveInjectorInitializers(){const u=_n(this),h=ki(void 0);try{const p=this.get(ND.multi,st,At.Self);for(const g of p)g()}finally{_n(u),ki(h)}}toString(){const u=[],h=this.records;for(const p of h.keys())u.push(Q(p));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(u){let h=dp(u=ne(u))?u:ne(u&&u.provide);const p=function e3(c){return VD(c)?pg(void 0,c.useValue):pg(tR(c),G0)}(u);if(dp(u)||!0!==u.multi)this.records.get(h);else{let g=this.records.get(h);g||(g=pg(void 0,G0,!0),g.factory=()=>ui(g.multi),this.records.set(h,g)),h=u,g.multi.push(u)}this.records.set(h,p)}hydrate(u,h){return h.value===G0&&(h.value=XU,h.value=h.factory()),"object"==typeof h.value&&h.value&&function n3(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=ne(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function HD(c){const u=Dn(c),h=null!==u?u.factory:Go(c);if(null!==h)return h;if(c instanceof Pn)throw new pe(204,!1);if(c instanceof Function)return function JU(c){const u=c.length;if(u>0)throw Fl(u,"?"),new pe(204,!1);const h=function Nr(c){return c&&(c[Fs]||c[oa])||null}(c);return null!==h?()=>h.factory(c):()=>new c}(c);throw new pe(204,!1)}function tR(c,u,h){let p;if(dp(c)){const g=ne(c);return Go(g)||HD(g)}if(VD(c))p=()=>ne(c.useValue);else if(function Jk(c){return!(!c||!c.useFactory)}(c))p=()=>c.useFactory(...ui(c.deps||[]));else if(function Xk(c){return!(!c||!c.useExisting)}(c))p=()=>Tn(ne(c.useExisting));else{const g=ne(c&&(c.useClass||c.provide));if(!function t3(c){return!!c.deps}(c))return Go(g)||HD(g);p=()=>new g(...ui(c.deps))}return p}function pg(c,u,h=!1){return{factory:c,value:u,multi:h?[]:void 0}}function zD(c,u){for(const h of c)Array.isArray(h)?zD(h,u):h&&Me(h)?zD(h.\u0275providers,u):u(h)}class s3{}class nR{}class jD{resolveComponentFactory(u){throw function o3(c){const u=Error(`No component factory found for ${Q(c)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=c,u}(u)}}let Xd=(()=>{class c{}return c.NULL=new jD,c})();function sR(){return fp(Oi(),je())}function fp(c,u){return new mg(Mr(c,u))}let mg=(()=>{class c{constructor(h){this.nativeElement=h}}return c.__NG_ELEMENT_ID__=sR,c})();function GD(c){return c instanceof mg?c.nativeElement:c}class Ou{}let W0=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function pp(){const c=je(),h=_r(Oi().index,c);return(ts(h)?h:c)[Kt]}(),c})(),$D=(()=>{class c{}return c.\u0275prov=ft({token:c,providedIn:"root",factory:()=>null}),c})();class q0{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const mp=new q0("15.2.9"),Nc={},Zy="ngOriginalError";function Hr(c){return c[Zy]}class Fc{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&Hr(u);for(;h&&Hr(h);)h=Hr(h);return h||null}}function oo(c){return c instanceof Function?c():c}function YD(c,u,h){let p=c.length;for(;;){const g=c.indexOf(u,h);if(-1===g)return g;if(0===g||c.charCodeAt(g-1)<=32){const b=u.length;if(g+b===p||c.charCodeAt(g+b)<=32)return g}h=g+1}}const ZD="ng-template";function dR(c,u,h){let p=0,g=!0;for(;p<c.length;){let b=c[p++];if("string"==typeof b&&g){const C=c[p++];if(h&&"class"===b&&-1!==YD(C.toLowerCase(),u,0))return!0}else{if(1===b){for(;p<c.length&&"string"==typeof(b=c[p++]);)if(b.toLowerCase()===u)return!0;return!1}"number"==typeof b&&(g=!1)}}return!1}function KD(c){return 4===c.type&&c.value!==ZD}function hR(c,u,h){return u===(4!==c.type||h?c.value:ZD)}function fR(c,u,h){let p=4;const g=c.attrs||[],b=function pR(c){for(let u=0;u<c.length;u++)if(Ff(c[u]))return u;return c.length}(g);let C=!1;for(let I=0;I<u.length;I++){const A=u[I];if("number"!=typeof A){if(!C)if(4&p){if(p=2|1&p,""!==A&&!hR(c,A,h)||""===A&&1===u.length){if(Da(p))return!1;C=!0}}else{const P=8&p?A:u[++I];if(8&p&&null!==c.attrs){if(!dR(c.attrs,P,h)){if(Da(p))return!1;C=!0}continue}const Y=gp(8&p?"class":A,g,KD(c),h);if(-1===Y){if(Da(p))return!1;C=!0;continue}if(""!==P){let he;he=Y>b?"":g[Y+1].toLowerCase();const Ie=8&p?he:null;if(Ie&&-1!==YD(Ie,P,0)||2&p&&P!==he){if(Da(p))return!1;C=!0}}}}else{if(!C&&!Da(p)&&!Da(A))return!1;if(C&&Da(A))continue;C=!1,p=A|1&p}}return Da(p)||C}function Da(c){return 0==(1&c)}function gp(c,u,h,p){if(null===u)return-1;let g=0;if(p||!h){let b=!1;for(;g<u.length;){const C=u[g];if(C===c)return g;if(3===C||6===C)b=!0;else{if(1===C||2===C){let I=u[++g];for(;"string"==typeof I;)I=u[++g];continue}if(4===C)break;if(0===C){g+=4;continue}}g+=b?1:2}return-1}return function mR(c,u){let h=c.indexOf(4);if(h>-1)for(h++;h<c.length;){const p=c[h];if("number"==typeof p)return-1;if(p===u)return h;h++}return-1}(u,c)}function QD(c,u,h=!1){for(let p=0;p<u.length;p++)if(fR(c,u[p],h))return!0;return!1}function yg(c,u){e:for(let h=0;h<u.length;h++){const p=u[h];if(c.length===p.length){for(let g=0;g<c.length;g++)if(c[g]!==p[g])continue e;return!0}}return!1}function bg(c,u){return c?":not("+u.trim()+")":u}function XD(c){let u=c[0],h=1,p=2,g="",b=!1;for(;h<c.length;){let C=c[h];if("string"==typeof C)if(2&p){const I=c[++h];g+="["+C+(I.length>0?'="'+I+'"':"")+"]"}else 8&p?g+="."+C:4&p&&(g+=" "+C);else""!==g&&!Da(C)&&(u+=bg(b,g),g=""),p=C,b=b||!Da(p);h++}return""!==g&&(u+=bg(b,g)),u}const gn={};function Z0(c){K0(an(),je(),Fr()+c,!1)}function K0(c,u,h,p){if(!p)if(3==(3&u[V])){const b=c.preOrderCheckHooks;null!==b&&Td(u,b,h)}else{const b=c.preOrderHooks;null!==b&&Pf(u,b,0,h)}Co(h)}function Qy(c,u=null,h=null,p){const g=Xy(c,u,h,p);return g.resolveInjectorInitializers(),g}function Xy(c,u=null,h=null,p,g=new Set){const b=[h||st,ZU(c)];return p=p||("object"==typeof c?void 0:Q(c)),new eR(b,u||$0(),p||null,g)}let Jd=(()=>{class c{static create(h,p){if(Array.isArray(h))return Qy({name:""},p,h,"");{const g=h.name??"";return Qy({name:g},h.parent,h.providers,g)}}}return c.THROW_IF_NOT_FOUND=dr,c.NULL=new Zk,c.\u0275prov=ft({token:c,providedIn:"any",factory:()=>Tn(qk)}),c.__NG_ELEMENT_ID__=-1,c})();function bp(c,u=At.Default){const h=je();return null===h?Tn(c,u):Uf(Oi(),h,ne(c),u)}function lw(){throw new Error("invalid")}function cw(c,u){const h=c.contentQueries;if(null!==h)for(let p=0;p<h.length;p+=2){const b=h[p+1];if(-1!==b){const C=c.data[b];Sf(h[p]),C.contentQueries(2,u[b],b)}}}function Cg(c,u,h,p,g,b,C,I,A,P,U){const Y=u.blueprint.slice();return Y[ji]=g,Y[V]=76|p,(null!==U||c&&1024&c[V])&&(Y[V]|=1024),dc(Y),Y[ce]=Y[no]=c,Y[Zt]=h,Y[at]=C||c&&c[at],Y[Kt]=I||c&&c[Kt],Y[Pi]=A||c&&c[Pi]||null,Y[pn]=P||c&&c[pn]||null,Y[Dt]=b,Y[la]=function Xf(){return Qf++}(),Y[gr]=U,Y[Gi]=2==u.type?c[Gi]:Y,Y}function vp(c,u,h,p,g){let b=c.data[u];if(null===b)b=function eb(c,u,h,p,g){const b=Ef(),C=uu(),A=c.data[u]=function Eg(c,u,h,p,g,b){return{type:h,index:p,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?b:b&&b.parent,h,u,p,g);return null===c.firstChild&&(c.firstChild=A),null!==b&&(C?null==b.child&&null!==A.parent&&(b.child=A):null===b.next&&(b.next=A,A.prev=b)),A}(c,u,h,p,g),function Tf(){return rn.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=h,b.value=p,b.attrs=g;const C=function Tl(){const c=rn.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}();b.injectorIndex=null===C?-1:C.injectorIndex}return Bs(b,!0),b}function wp(c,u,h,p){if(0===h)return-1;const g=u.length;for(let b=0;b<h;b++)u.push(p),c.blueprint.push(p),c.data.push(null);return g}function tb(c,u,h){Sl(u);try{const p=c.viewQuery;null!==p&&Lu(1,p,h);const g=c.template;null!==g&&uw(c,u,g,1,h),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&cw(c,u),c.staticViewQueries&&Lu(2,c.viewQuery,h);const b=c.components;null!==b&&function uT(c,u){for(let h=0;h<u.length;h++)yw(c,u[h])}(u,b)}catch(p){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),p}finally{u[V]&=-5,Mf()}}function eh(c,u,h,p){const g=u[V];if(128!=(128&g)){Sl(u);try{dc(u),function ma(c){return rn.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==h&&uw(c,u,h,2,p);const C=3==(3&g);if(C){const P=c.preOrderCheckHooks;null!==P&&Td(u,P,null)}else{const P=c.preOrderHooks;null!==P&&Pf(u,P,0,null),Of(u,0)}if(function RR(c){for(let u=Pu(c);null!==u;u=qd(u)){if(!u[sc])continue;const h=u[Ga];for(let p=0;p<h.length;p++){const g=h[p];512&g[V]||Dl(g[ce],1),g[V]|=512}}}(u),function ol(c){for(let u=Pu(c);null!==u;u=qd(u))for(let h=Ar;h<u.length;h++){const p=u[h],g=p[yt];fa(p)&&eh(g,p,g.template,p[Zt])}}(u),null!==c.contentQueries&&cw(c,u),C){const P=c.contentCheckHooks;null!==P&&Td(u,P)}else{const P=c.contentHooks;null!==P&&Pf(u,P,1),Of(u,1)}!function SR(c,u){const h=c.hostBindingOpCodes;if(null!==h)try{for(let p=0;p<h.length;p++){const g=h[p];if(g<0)Co(~g);else{const b=g,C=h[++p],I=h[++p];If(C,b),I(2,u[b])}}}finally{Co(-1)}}(c,u);const I=c.components;null!==I&&function cT(c,u){for(let h=0;h<u.length;h++)So(c,u[h])}(u,I);const A=c.viewQuery;if(null!==A&&Lu(2,A,p),C){const P=c.viewCheckHooks;null!==P&&Td(u,P)}else{const P=c.viewHooks;null!==P&&Pf(u,P,2),Of(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),u[V]&=-41,512&u[V]&&(u[V]&=-513,Dl(u[ce],-1))}finally{Mf()}}}function uw(c,u,h,p,g){const b=Fr(),C=2&p;try{Co(-1),C&&u.length>Jn&&K0(c,u,Jn,!1),di(C?2:0,g),h(p,g)}finally{Co(b),di(C?3:1,g)}}function nb(c,u,h){if($a(u)){const g=u.directiveEnd;for(let b=u.directiveStart;b<g;b++){const C=c.data[b];C.contentQueries&&C.contentQueries(1,h[b],b)}}}function Zn(c,u,h){wf()&&(function mw(c,u,h,p){const g=h.directiveStart,b=h.directiveEnd;ru(h)&&function Nn(c,u,h){const p=Mr(u,c),g=In(h),b=c[at],C=ib(c,Cg(c,g,null,h.onPush?32:16,p,u,b,b.createRenderer(p,h),null,null,null));c[u.index]=C}(u,h,c.data[g+h.componentOffset]),c.firstCreatePass||kd(h,u),fe(p,u);const C=h.initialInputs;for(let I=g;I<b;I++){const A=c.data[I],P=hi(u,c,I,h);fe(P,u),null!==C&&gT(0,I-g,P,A,0,C),ys(A)&&(_r(h.index,u)[Zt]=hi(u,c,I,h))}}(c,u,h,Mr(h,u)),64==(64&h.flags)&&Cp(c,u,h))}function Bn(c,u,h=Mr){const p=u.localNames;if(null!==p){let g=u.index+1;for(let b=0;b<p.length;b+=2){const C=p[b+1],I=-1===C?h(u,c):c[C];c[g++]=I}}}function In(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=Hl(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function Hl(c,u,h,p,g,b,C,I,A,P){const U=Jn+p,Y=U+g,he=function pi(c,u){const h=[];for(let p=0;p<u;p++)h.push(p<c?null:gn);return h}(U,Y),Ie="function"==typeof P?P():P;return he[yt]={type:c,blueprint:he,template:h,queries:null,viewQuery:I,declTNode:u,data:he.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:A,consts:Ie,incompleteFirstPass:!1}}function dT(c,u,h,p){const g=vw(u);null===h?g.push(p):(g.push(h),c.firstCreatePass&&_T(c).push(p,g.length-1))}function hw(c,u,h,p){for(let g in c)if(c.hasOwnProperty(g)){h=null===h?{}:h;const b=c[g];null===p?Vi(h,u,g,b):p.hasOwnProperty(g)&&Vi(h,u,p[g],b)}return h}function Vi(c,u,h,p){c.hasOwnProperty(h)?c[h].push(u,p):c[h]=[u,p]}function Qo(c,u,h,p,g,b,C,I){const A=Mr(u,h);let U,P=u.inputs;!I&&null!=P&&(U=P[p])?(ci(c,h,U,p,g),ru(u)&&function fw(c,u){const h=_r(u,c);16&h[V]||(h[V]|=32)}(h,u.index)):3&u.type&&(p=function ao(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(p),g=null!=C?C(g,u.value||"",p):g,b.setProperty(A,p,g))}function pw(c,u,h,p){if(wf()){const g=null===p?null:{"":-1},b=function pT(c,u){const h=c.directiveRegistry;let p=null,g=null;if(h)for(let b=0;b<h.length;b++){const C=h[b];if(QD(u,C.selectors,!1))if(p||(p=[]),ys(C))if(null!==C.findHostDirectiveDefs){const I=[];g=g||new Map,C.findHostDirectiveDefs(C,I,g),p.unshift(...I,C),gw(c,u,I.length)}else p.unshift(C),gw(c,u,0);else g=g||new Map,C.findHostDirectiveDefs?.(C,p,g),p.push(C)}return null===p?null:[p,g]}(c,h);let C,I;null===b?C=I=null:[C,I]=b,null!==C&&hT(c,u,h,C,g,I),g&&function MR(c,u,h){if(u){const p=c.localNames=[];for(let g=0;g<u.length;g+=2){const b=h[u[g+1]];if(null==b)throw new pe(-301,!1);p.push(u[g],b)}}}(h,p,g)}h.mergedAttrs=Ka(h.mergedAttrs,h.attrs)}function hT(c,u,h,p,g,b){for(let P=0;P<p.length;P++)_a(kd(h,u),c,p[P].type);!function mT(c,u,h){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+h,c.providerIndexes=u}(h,c.data.length,p.length);for(let P=0;P<p.length;P++){const U=p[P];U.providersResolver&&U.providersResolver(U)}let C=!1,I=!1,A=wp(c,u,p.length,null);for(let P=0;P<p.length;P++){const U=p[P];h.mergedAttrs=Ka(h.mergedAttrs,U.hostAttrs),nh(c,h,u,A,U),kR(A,U,g),null!==U.contentQueries&&(h.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(h.flags|=64);const Y=U.type.prototype;!C&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((c.preOrderHooks??(c.preOrderHooks=[])).push(h.index),C=!0),!I&&(Y.ngOnChanges||Y.ngDoCheck)&&((c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(h.index),I=!0),A++}!function On(c,u,h){const g=u.directiveEnd,b=c.data,C=u.attrs,I=[];let A=null,P=null;for(let U=u.directiveStart;U<g;U++){const Y=b[U],he=h?h.get(Y):null,Ke=he?he.outputs:null;A=hw(Y.inputs,U,A,he?he.inputs:null),P=hw(Y.outputs,U,P,Ke);const ht=null===A||null===C||KD(u)?null:zl(A,U,C);I.push(ht)}null!==A&&(A.hasOwnProperty("class")&&(u.flags|=8),A.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=I,u.inputs=A,u.outputs=P}(c,h,b)}function Cp(c,u,h){const p=h.directiveStart,g=h.directiveEnd,b=h.index,C=function Fy(){return rn.lFrame.currentDirectiveIndex}();try{Co(b);for(let I=p;I<g;I++){const A=c.data[I],P=u[I];Ni(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&AR(A,P)}}finally{Co(-1),Ni(C)}}function AR(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function gw(c,u,h){u.componentOffset=h,(c.components??(c.components=[])).push(u.index)}function kR(c,u,h){if(h){if(u.exportAs)for(let p=0;p<u.exportAs.length;p++)h[u.exportAs[p]]=c;ys(u)&&(h[""]=c)}}function nh(c,u,h,p,g){c.data[p]=g;const b=g.factory||(g.factory=Go(g.type)),C=new qo(b,ys(g),bp);c.blueprint[p]=C,h[p]=C,function fT(c,u,h,p,g){const b=g.hostBindings;if(b){let C=c.hostBindingOpCodes;null===C&&(C=c.hostBindingOpCodes=[]);const I=~u.index;(function th(c){let u=c.length;for(;u>0;){const h=c[--u];if("number"==typeof h&&h<0)return h}return 0})(C)!=I&&C.push(I),C.push(h,p,b)}}(c,u,p,wp(c,h,g.hostVars,gn),g)}function Xo(c,u,h,p,g,b){const C=Mr(c,u);!function Ep(c,u,h,p,g,b,C){if(null==b)c.removeAttribute(u,g,h);else{const I=null==C?ke(b):C(b,p||"",g);c.setAttribute(u,g,I,h)}}(u[Kt],C,b,c.value,h,p,g)}function gT(c,u,h,p,g,b){const C=b[u];if(null!==C){const I=p.setInput;for(let A=0;A<C.length;){const P=C[A++],U=C[A++],Y=C[A++];null!==I?p.setInput(h,Y,P,U):h[U]=Y}}}function zl(c,u,h){let p=null,g=0;for(;g<h.length;){const b=h[g];if(0!==b)if(5!==b){if("number"==typeof b)break;if(c.hasOwnProperty(b)){null===p&&(p=[]);const C=c[b];for(let I=0;I<C.length;I+=2)if(C[I]===u){p.push(b,C[I+1],h[g+1]);break}}g+=2}else g+=2;else g+=4}return p}function xg(c,u,h,p){return[c,!0,!1,u,null,0,p,h,null,null]}function So(c,u){const h=_r(u,c);if(fa(h)){const p=h[yt];48&h[V]?eh(p,h,p.template,h[Zt]):h[Ye]>0&&_w(h)}}function _w(c){for(let p=Pu(c);null!==p;p=qd(p))for(let g=Ar;g<p.length;g++){const b=p[g];if(fa(b))if(512&b[V]){const C=b[yt];eh(C,b,C.template,b[Zt])}else b[Ye]>0&&_w(b)}const h=c[yt].components;if(null!==h)for(let p=0;p<h.length;p++){const g=_r(h[p],c);fa(g)&&g[Ye]>0&&_w(g)}}function yw(c,u){const h=_r(u,c),p=h[yt];(function bw(c,u){for(let h=u.length;h<c.blueprint.length;h++)u.push(c.blueprint[h])})(p,h),tb(p,h,h[Zt])}function ib(c,u){return c[Sr]?c[mr][qe]=u:c[Sr]=u,c[mr]=u,u}function Dg(c){for(;c;){c[V]|=32;const u=ep(c);if(ua(c)&&!u)return c;c=u}return null}function Tg(c,u,h,p=!0){const g=u[at];g.begin&&g.begin();try{eh(c,u,c.template,h)}catch(C){throw p&&bT(u,C),C}finally{g.end&&g.end()}}function Lu(c,u,h){Sf(0),u(c,h)}function vw(c){return c[Ot]||(c[Ot]=[])}function _T(c){return c.cleanup||(c.cleanup=[])}function bT(c,u){const h=c[pn],p=h?h.get(Fc,null):null;p&&p.handleError(u)}function ci(c,u,h,p,g){for(let b=0;b<h.length;){const C=h[b++],I=h[b++],A=u[C],P=c.data[C];null!==P.setInput?P.setInput(A,g,p,I):A[I]=g}}function Lc(c,u,h){const p=Ya(u,c);!function eg(c,u,h){c.setValue(u,h)}(c[Kt],p,h)}function rb(c,u,h){let p=h?c.styles:null,g=h?c.classes:null,b=0;if(null!==u)for(let C=0;C<u.length;C++){const I=u[C];"number"==typeof I?b=I:1==b?g=me(g,I):2==b&&(p=me(p,I+": "+u[++C]+";"))}h?c.styles=p:c.stylesWithoutHost=p,h?c.classes=g:c.classesWithoutHost=g}function ih(c,u,h,p,g=!1){for(;null!==h;){const b=u[h.index];if(null!==b&&p.push(Zi(b)),io(b))for(let I=Ar;I<b.length;I++){const A=b[I],P=A[yt].firstChild;null!==P&&ih(A[yt],A,P,p)}const C=h.type;if(8&C)ih(c,u,h.child,p);else if(32&C){const I=os(h,u);let A;for(;A=I();)p.push(A)}else if(16&C){const I=ap(u,h);if(Array.isArray(I))p.push(...I);else{const A=ep(u[Gi]);ih(A[yt],A,I,p,!0)}}h=g?h.projectionNext:h.next}return p}class rh{get rootNodes(){const u=this._lView,h=u[yt];return ih(h,u,h.firstChild,[])}constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(u){this._lView[Zt]=u}get destroyed(){return 128==(128&this._lView[V])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[ce];if(io(u)){const h=u[ca],p=h?h.indexOf(this):-1;p>-1&&(N(u,p),Cc(h,p))}this._attachedToViewContainer=!1}H(this._lView[yt],this._lView)}onDestroy(u){dT(this._lView[yt],this._lView,null,u)}markForCheck(){Dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-65}reattach(){this._lView[V]|=64}detectChanges(){Tg(this._lView[yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N0(c,u){cp(c,u,u[Kt],2,null,null)}(this._lView[yt],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=u}}class xp extends rh{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;Tg(u[yt],u,u[Zt],!1)}checkNoChanges(){}get context(){return null}}class jl extends Xd{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=Vt(u);return new Vc(h,this.ngModule)}}function Dp(c){const u=[];for(let h in c)c.hasOwnProperty(h)&&u.push({propName:c[h],templateName:h});return u}class NR{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,p){p=xi(p);const g=this.injector.get(u,Nc,p);return g!==Nc||h===Nc?g:this.parentInjector.get(u,h,p)}}class Vc extends nR{get inputs(){return Dp(this.componentDef.inputs)}get outputs(){return Dp(this.componentDef.outputs)}constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function JD(c){return c.map(XD).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}create(u,h,p,g){let b=(g=g||this.ngModule)instanceof hp?g:g?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const C=b?new NR(u,b):u,I=C.get(Ou,null);if(null===I)throw new pe(407,!1);const A=C.get($D,null),P=I.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",Y=p?function dw(c,u,h){return c.selectRootElement(u,h===We.ShadowDom)}(P,p,this.componentDef.encapsulation):tg(P,U,function wn(c){const u=c.toLowerCase();return"svg"===u?cc:"math"===u?"math":null}(U)),he=this.componentDef.onPush?288:272,Ie=Hl(0,null,null,1,0,null,null,null,null,null),Ke=Cg(null,Ie,null,he,null,null,I,P,A,C,null);let ht,wt;Sl(Ke);try{const Nt=this.componentDef;let tn,nt=null;Nt.findHostDirectiveDefs?(tn=[],nt=new Map,Nt.findHostDirectiveDefs(Nt,tn,nt),tn.push(Nt)):tn=[Nt];const hn=function ww(c,u){const h=c[yt],p=Jn;return c[p]=u,vp(h,p,2,"#host",null)}(Ke,Y),Bi=function LR(c,u,h,p,g,b,C,I){const A=g[yt];!function Cw(c,u,h,p){for(const g of c)u.mergedAttrs=Ka(u.mergedAttrs,g.hostAttrs);null!==u.mergedAttrs&&(rb(u,u.mergedAttrs,!0),null!==h&&V0(p,h,u))}(p,c,u,C);const P=b.createRenderer(u,h),U=Cg(g,In(h),null,h.onPush?32:16,g[c.index],c,b,P,I||null,null,null);return A.firstCreatePass&&gw(A,c,p.length-1),ib(g,U),g[c.index]=U}(hn,Y,Nt,tn,Ke,I,P);wt=lu(Ie,Jn),Y&&function Tp(c,u,h,p){if(p)kl(c,h,["ng-version",mp.full]);else{const{attrs:g,classes:b}=function eT(c){const u=[],h=[];let p=1,g=2;for(;p<c.length;){let b=c[p];if("string"==typeof b)2===g?""!==b&&u.push(b,c[++p]):8===g&&h.push(b);else{if(!Da(g))break;g=b}p++}return{attrs:u,classes:h}}(u.selectors[0]);g&&kl(c,h,g),b&&b.length>0&&L0(c,h,b.join(" "))}}(P,Nt,Y,p),void 0!==h&&function Ig(c,u,h){const p=c.projection=[];for(let g=0;g<u.length;g++){const b=h[g];p.push(null!=b?Array.from(b):null)}}(wt,this.ngContentSelectors,h),ht=function vT(c,u,h,p,g,b){const C=Oi(),I=g[yt],A=Mr(C,g);hT(I,g,C,h,null,p);for(let U=0;U<h.length;U++)fe(hi(g,I,C.directiveStart+U,C),g);Cp(I,g,C),A&&fe(A,g);const P=hi(g,I,C.directiveStart+C.componentOffset,C);if(c[Zt]=g[Zt]=P,null!==b)for(const U of b)U(P,u);return nb(I,C,c),P}(Bi,Nt,tn,nt,Ke,[Sg]),tb(Ie,Ke,null)}finally{Mf()}return new FR(this.componentType,ht,fp(wt,Ke),Ke,wt)}}class FR extends s3{constructor(u,h,p,g,b){super(),this.location=p,this._rootLView=g,this._tNode=b,this.instance=h,this.hostView=this.changeDetectorRef=new xp(g),this.componentType=u}setInput(u,h){const p=this._tNode.inputs;let g;if(null!==p&&(g=p[u])){const b=this._rootLView;ci(b[yt],b,g,u,h),Dg(_r(this._tNode.index,b))}}get injector(){return new Nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function Sg(){const c=Oi();mu(je()[yt],c)}function Ag(c){let u=function wT(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),h=!0;const p=[c];for(;u;){let g;if(ys(c))g=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new pe(903,!1);g=u.\u0275dir}if(g){if(h){p.push(g);const C=c;C.inputs=Ew(c.inputs),C.declaredInputs=Ew(c.declaredInputs),C.outputs=Ew(c.outputs);const I=g.hostBindings;I&&BR(c,I);const A=g.viewQuery,P=g.contentQueries;if(A&&xw(c,A),P&&VR(c,P),Z(c.inputs,g.inputs),Z(c.declaredInputs,g.declaredInputs),Z(c.outputs,g.outputs),ys(g)&&g.data.animation){const U=c.data;U.animation=(U.animation||[]).concat(g.data.animation)}}const b=g.features;if(b)for(let C=0;C<b.length;C++){const I=b[C];I&&I.ngInherit&&I(c),I===Ag&&(h=!1)}}u=Object.getPrototypeOf(u)}!function Mg(c){let u=0,h=null;for(let p=c.length-1;p>=0;p--){const g=c[p];g.hostVars=u+=g.hostVars,g.hostAttrs=Ka(g.hostAttrs,h=Ka(h,g.hostAttrs))}}(p)}function Ew(c){return c===Te?{}:c===st?[]:c}function xw(c,u){const h=c.viewQuery;c.viewQuery=h?(p,g)=>{u(p,g),h(p,g)}:u}function VR(c,u){const h=c.contentQueries;c.contentQueries=h?(p,g,b)=>{u(p,g,b),h(p,g,b)}:u}function BR(c,u){const h=c.hostBindings;c.hostBindings=h?(p,g)=>{u(p,g),h(p,g)}:u}function sh(c){return!!Pg(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function Pg(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Gl(c,u,h){return c[u]=h}function $s(c,u,h){return!Object.is(c[u],h)&&(c[u]=h,!0)}function oh(c,u,h,p){const g=$s(c,u,h);return $s(c,u+1,p)||g}function Og(c,u,h,p){const g=je();return $s(g,Wo(),u)&&(an(),Xo(ai(),g,c,u,h,p)),Og}function Bu(c,u,h,p){return $s(c,Wo(),h)?u+ke(h)+p:gn}function al(c,u,h,p,g,b,C,I,A,P,U,Y){const he=function bs(){return rn.lFrame.bindingIndex}();let Ie=function Ji(c,u,h,p,g,b){const C=oh(c,u,h,p);return oh(c,u+2,g,b)||C}(c,he,h,g,C,A);return Ie=$s(c,he+4,U)||Ie,wo(5),Ie?u+ke(h)+p+ke(g)+b+ke(C)+I+ke(A)+P+ke(U)+Y:gn}function Sa(c,u,h,p,g,b,C,I){const A=je(),P=an(),U=c+Jn,Y=P.firstCreatePass?function Ii(c,u,h,p,g,b,C,I,A){const P=u.consts,U=vp(u,c,4,C||null,$o(P,I));pw(u,h,U,$o(P,A)),mu(u,U);const Y=U.tView=Hl(2,U,p,g,b,u.directiveRegistry,u.pipeRegistry,null,u.schemas,P);return null!==u.queries&&(u.queries.template(u,U),Y.queries=u.queries.embeddedTView(U)),U}(U,P,A,u,h,p,g,b,C):P.data[U];Bs(Y,!1);const he=A[Kt].createComment("");Qd(P,A,he,Y),fe(he,A),ib(A,A[U]=xg(he,A,he,Y)),oc(Y)&&Zn(P,A,Y),null!=C&&Bn(A,Y,I)}function ab(c){return ns(function Df(){return rn.lFrame.contextLView}(),Jn+c)}function lb(c,u,h){const p=je();return $s(p,Wo(),u)&&Qo(an(),ai(),p,c,u,p[Kt],h,!1),lb}function Vg(c,u,h,p,g){const C=g?"class":"style";ci(c,h,u.inputs[C],C,p)}function Bg(c,u,h,p){const g=je(),b=an(),C=Jn+c,I=g[Kt],A=b.firstCreatePass?function ah(c,u,h,p,g,b){const C=u.consts,A=vp(u,c,2,p,$o(C,g));return pw(u,h,A,$o(C,b)),null!==A.attrs&&rb(A,A.attrs,!1),null!==A.mergedAttrs&&rb(A,A.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,A),A}(C,b,g,u,h,p):b.data[C],P=g[C]=tg(I,u,function Rf(){return rn.lFrame.currentNamespace}()),U=oc(A);return Bs(A,!0),V0(I,P,A),32!=(32&A.flags)&&Qd(b,g,P,A),0===function yd(){return rn.lFrame.elementDepthCount}()&&fe(P,g),function bd(){rn.lFrame.elementDepthCount++}(),U&&(Zn(b,g,A),nb(b,A,g)),null!==p&&Bn(g,A),Bg}function ll(){let c=Oi();uu()?xf():(c=c.parent,Bs(c,!1));const u=c;!function vd(){rn.lFrame.elementDepthCount--}();const h=an();return h.firstCreatePass&&(mu(h,c),$a(c)&&h.queries.elementEnd(c)),null!=u.classesWithoutHost&&function Yo(c){return 0!=(8&c.flags)}(u)&&Vg(h,u,je(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Id(c){return 0!=(16&c.flags)}(u)&&Vg(h,u,je(),u.stylesWithoutHost,!1),ll}function Ug(c,u,h,p){return Bg(c,u,h,p),ll(),Ug}function Hg(c,u,h){const p=je(),g=an(),b=c+Jn,C=g.firstCreatePass?function Pp(c,u,h,p,g){const b=u.consts,C=$o(b,p),I=vp(u,c,8,"ng-container",C);return null!==C&&rb(I,C,!0),pw(u,h,I,$o(b,g)),null!==u.queries&&u.queries.elementStart(u,I),I}(b,g,p,u,h):g.data[b];Bs(C,!0);const I=p[b]=p[Kt].createComment("");return Qd(g,p,I,C),fe(I,p),oc(C)&&(Zn(g,p,C),nb(g,C,p)),null!=h&&Bn(p,C),Hg}function lh(){let c=Oi();const u=an();return uu()?xf():(c=c.parent,Bs(c,!1)),u.firstCreatePass&&(mu(u,c),$a(c)&&u.queries.elementEnd(c)),lh}function Aw(c,u,h){return Hg(c,u,h),lh(),Aw}function TT(){return je()}function Mw(c){return!!c&&"function"==typeof c.then}function IT(c){return!!c&&"function"==typeof c.subscribe}const ST=IT;function kw(c,u,h,p){const g=je(),b=an(),C=Oi();return function Rw(c,u,h,p,g,b,C){const I=oc(p),P=c.firstCreatePass&&_T(c),U=u[Zt],Y=vw(u);let he=!0;if(3&p.type||C){const ht=Mr(p,u),wt=C?C(ht):ht,Nt=Y.length,tn=C?hn=>C(Zi(hn[p.index])):p.index;let nt=null;if(!C&&I&&(nt=function MT(c,u,h,p){const g=c.cleanup;if(null!=g)for(let b=0;b<g.length-1;b+=2){const C=g[b];if(C===h&&g[b+1]===p){const I=u[Ot],A=g[b+2];return I.length>A?I[A]:null}"string"==typeof C&&(b+=2)}return null}(c,u,g,p.index)),null!==nt)(nt.__ngLastListenerFn__||nt).__ngNextListenerFn__=b,nt.__ngLastListenerFn__=b,he=!1;else{b=RT(p,u,U,b,!1);const hn=h.listen(wt,g,b);Y.push(b,hn),P&&P.push(g,tn,Nt,Nt+1)}}else b=RT(p,u,U,b,!1);const Ie=p.outputs;let Ke;if(he&&null!==Ie&&(Ke=Ie[g])){const ht=Ke.length;if(ht)for(let wt=0;wt<ht;wt+=2){const Bi=u[Ke[wt]][Ke[wt+1]].subscribe(b),tr=Y.length;Y.push(b,Bi),P&&P.push(g,p.index,tr,-(tr+1))}}}(b,g,g[Kt],C,c,u,p),kw}function kT(c,u,h,p){try{return di(6,u,h),!1!==h(p)}catch(g){return bT(c,g),!1}finally{di(7,u,h)}}function RT(c,u,h,p,g){return function b(C){if(C===Function)return p;Dg(c.componentOffset>-1?_r(c.index,u):u);let A=kT(u,h,p,C),P=b.__ngNextListenerFn__;for(;P;)A=kT(u,h,P,C)&&A,P=P.__ngNextListenerFn__;return g&&!1===A&&(C.preventDefault(),C.returnValue=!1),A}}function PT(c=1){return function xd(c){return(rn.lFrame.contextLView=function kf(c,u){for(;c>0;)u=u[no],c--;return u}(c,rn.lFrame.contextLView))[Zt]}(c)}function $R(c,u){let h=null;const p=function _g(c){const u=c.attrs;if(null!=u){const h=u.indexOf(5);if(!(1&h))return u[h+1]}return null}(c);for(let g=0;g<u.length;g++){const b=u[g];if("*"!==b){if(null===p?QD(c,b,!0):yg(p,b))return g}else h=g}return h}function OT(c){const u=je()[Gi][Dt];if(!u.projection){const p=u.projection=Fl(c?c.length:1,null),g=p.slice();let b=u.child;for(;null!==b;){const C=c?$R(b,c):0;null!==C&&(g[C]?g[C].projectionNext=b:p[C]=b,g[C]=b),b=b.next}}}function NT(c,u=0,h){const p=je(),g=an(),b=vp(g,Jn+c,16,null,h||null);null===b.projection&&(b.projection=u),xf(),32!=(32&b.flags)&&function F0(c,u,h){ED(u[Kt],0,u,h,bt(c,h,u),rg(h.parent||u[Dt],h,u))}(g,p,b)}function $g(c,u){return c<<17|u<<2}function Wl(c){return c>>17&32767}function Fw(c){return 2|c}function ch(c){return(131068&c)>>2}function ub(c,u){return-131069&c|u<<2}function Wg(c){return 1|c}function UT(c,u,h,p,g){const b=c[h+1],C=null===u;let I=p?Wl(b):ch(b),A=!1;for(;0!==I&&(!1===A||C);){const U=c[I+1];ZR(c[I],u)&&(A=!0,c[I+1]=p?Wg(U):Fw(U)),I=p?Wl(U):ch(U)}A&&(c[h+1]=p?Fw(b):Wg(b))}function ZR(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&Ll(c,u)>=0}const cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HT(c){return c.substring(cs.key,cs.keyEnd)}function zT(c,u){const h=cs.textEnd;return h===u?-1:(u=cs.keyEnd=function XR(c,u,h){for(;u<h&&c.charCodeAt(u)>32;)u++;return u}(c,cs.key=u,h),uh(c,u,h))}function uh(c,u,h){for(;u<h&&c.charCodeAt(u)<=32;)u++;return u}function Bw(c,u,h){return ws(c,u,h,!1),Bw}function Yg(c,u){return ws(c,u,null,!0),Yg}function ul(c,u){for(let h=function QR(c){return function Vw(c){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=c.length}(c),zT(c,uh(c,0,cs.textEnd))}(u);h>=0;h=zT(u,h))Us(c,HT(u),!0)}function ws(c,u,h,p){const g=je(),b=an(),C=wo(2);b.firstUpdatePass&&Uc(b,c,C,p),u!==gn&&$s(g,C,u)&&ZT(b,b.data[Fr()],g,g[Kt],c,g[C+1]=function mb(c,u){return null==c||""===c||("string"==typeof u?c+=u:"object"==typeof c&&(c=Q(Pc(c)))),c}(u,h),p,C)}function Uw(c,u){return u>=c.expandoStartIndex}function Uc(c,u,h,p){const g=c.data;if(null===g[h+1]){const b=g[Fr()],C=Uw(c,h);jw(b,p)&&null===u&&!C&&(u=!1),u=function hb(c,u,h,p){const g=function du(c){const u=rn.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}(c);let b=p?u.residualClasses:u.residualStyles;if(null===g)0===(p?u.classBindings:u.styleBindings)&&(h=Op(h=Hw(null,c,u,h,p),u.attrs,p),b=null);else{const C=u.directiveStylingLast;if(-1===C||c[C]!==g)if(h=Hw(g,c,u,h,p),null===b){let A=function fb(c,u,h){const p=h?u.classBindings:u.styleBindings;if(0!==ch(p))return c[Wl(p)]}(c,u,p);void 0!==A&&Array.isArray(A)&&(A=Hw(null,c,u,A[1],p),A=Op(A,u.attrs,p),function tP(c,u,h,p){c[Wl(h?u.classBindings:u.styleBindings)]=p}(c,u,p,A))}else b=function nP(c,u,h){let p;const g=u.directiveEnd;for(let b=1+u.directiveStylingLast;b<g;b++)p=Op(p,c[b].hostAttrs,h);return Op(p,u.attrs,h)}(c,u,p)}return void 0!==b&&(p?u.residualClasses=b:u.residualStyles=b),h}(g,b,u,p),function BT(c,u,h,p,g,b){let C=b?u.classBindings:u.styleBindings,I=Wl(C),A=ch(C);c[p]=h;let U,P=!1;if(Array.isArray(h)?(U=h[1],(null===U||Ll(h,U)>0)&&(P=!0)):U=h,g)if(0!==A){const he=Wl(c[I+1]);c[p+1]=$g(he,I),0!==he&&(c[he+1]=ub(c[he+1],p)),c[I+1]=function qR(c,u){return 131071&c|u<<17}(c[I+1],p)}else c[p+1]=$g(I,0),0!==I&&(c[I+1]=ub(c[I+1],p)),I=p;else c[p+1]=$g(A,0),0===I?I=p:c[A+1]=ub(c[A+1],p),A=p;P&&(c[p+1]=Fw(c[p+1])),UT(c,U,p,!0),UT(c,U,p,!1),function Lw(c,u,h,p,g){const b=g?c.residualClasses:c.residualStyles;null!=b&&"string"==typeof u&&Ll(b,u)>=0&&(h[p+1]=Wg(h[p+1]))}(u,U,c,p,b),C=$g(I,A),b?u.classBindings=C:u.styleBindings=C}(g,b,u,h,C,p)}}function Hw(c,u,h,p,g){let b=null;const C=h.directiveEnd;let I=h.directiveStylingLast;for(-1===I?I=h.directiveStart:I++;I<C&&(b=u[I],p=Op(p,b.hostAttrs,g),b!==c);)I++;return null!==c&&(h.directiveStylingLast=I),p}function Op(c,u,h){const p=h?1:2;let g=-1;if(null!==u)for(let b=0;b<u.length;b++){const C=u[b];"number"==typeof C?g=C:g===p&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Us(c,C,!!h||u[++b]))}return void 0===c?null:c}function ZT(c,u,h,p,g,b,C,I){if(!(3&u.type))return;const A=c.data,P=A[I+1],U=function db(c){return 1==(1&c)}(P)?KT(A,u,h,g,ch(P),C):void 0;pb(U)||(pb(b)||function WR(c){return 2==(2&c)}(P)&&(b=KT(A,null,h,g,I,C)),function Ak(c,u,h,p,g){if(u)g?c.addClass(h,p):c.removeClass(h,p);else{let b=-1===p.indexOf("-")?void 0:js.DashCase;null==g?c.removeStyle(h,p,b):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),b|=js.Important),c.setStyle(h,p,g,b))}}(p,C,Ya(Fr(),h),g,b))}function KT(c,u,h,p,g,b){const C=null===u;let I;for(;g>0;){const A=c[g],P=Array.isArray(A),U=P?A[1]:A,Y=null===U;let he=h[g+1];he===gn&&(he=Y?st:void 0);let Ie=Y?Vn(he,p):U===p?he:void 0;if(P&&!pb(Ie)&&(Ie=Vn(A,p)),pb(Ie)&&(I=Ie,C))return I;const Ke=c[g+1];g=C?Wl(Ke):ch(Ke)}if(null!==u){let A=b?u.residualClasses:u.residualStyles;null!=A&&(I=Vn(A,p))}return I}function pb(c){return void 0!==c}function jw(c,u){return 0!=(c.flags&(u?8:16))}function QT(c,u=""){const h=je(),p=an(),g=c+Jn,b=p.firstCreatePass?vp(p,g,1,u,null):p.data[g],C=h[g]=function Zd(c,u){return c.createText(u)}(h[Kt],u);Qd(p,h,C,b),Bs(b,!1)}function Kg(c){return dh("",c,""),Kg}function dh(c,u,h){const p=je(),g=Bu(p,c,u,h);return g!==gn&&Lc(p,Fr(),g),dh}function gb(c,u,h,p,g,b,C,I,A,P,U){const Y=je(),he=al(Y,c,u,h,p,g,b,C,I,A,P,U);return he!==gn&&Lc(Y,Fr(),he),gb}function yb(c,u,h){!function Aa(c,u,h,p){const g=an(),b=wo(2);g.firstUpdatePass&&Uc(g,null,b,p);const C=je();if(h!==gn&&$s(C,b,h)){const I=g.data[Fr()];if(jw(I,p)&&!Uw(g,b)){let A=p?I.classesWithoutHost:I.stylesWithoutHost;null!==A&&(h=me(A,h||"")),Vg(g,I,C,h,p)}else!function Zg(c,u,h,p,g,b,C,I){g===gn&&(g=st);let A=0,P=0,U=0<g.length?g[0]:null,Y=0<b.length?b[0]:null;for(;null!==U||null!==Y;){const he=A<g.length?g[A+1]:void 0,Ie=P<b.length?b[P+1]:void 0;let ht,Ke=null;U===Y?(A+=2,P+=2,he!==Ie&&(Ke=Y,ht=Ie)):null===Y||null!==U&&U<Y?(A+=2,Ke=U):(P+=2,Ke=Y,ht=Ie),null!==Ke&&ZT(c,u,h,p,Ke,ht,C,I),U=A<g.length?g[A]:null,Y=P<b.length?b[P]:null}}(g,I,C,C[Kt],C[b+1],C[b+1]=function zw(c,u,h){if(null==h||""===h)return st;const p=[],g=Pc(h);if(Array.isArray(g))for(let b=0;b<g.length;b++)c(p,g[b],!0);else if("object"==typeof g)for(const b in g)g.hasOwnProperty(b)&&c(p,b,g[b]);else"string"==typeof g&&u(p,g);return p}(c,u,h),p,b)}}(Us,ul,Bu(je(),c,u,h),!0)}function eC(c,u,h){const p=je();return $s(p,Wo(),u)&&Qo(an(),ai(),p,c,u,p[Kt],h,!0),eC}const fh=void 0;var Cb=["en",[["a","p"],["AM","PM"],fh],[["AM","PM"],fh,fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fh,"{1} 'at' {0}",fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tC(c){const h=Math.floor(Math.abs(c)),p=c.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===p?1:5}];let ph={};function uP(c,u,h){"string"!=typeof u&&(h=u,u=c[Qt.LocaleId]),u=u.toLowerCase().replace(/_/g,"-"),ph[u]=c,h&&(ph[u][Qt.ExtraData]=h)}function mh(c){const u=function e_(c){return c.toLowerCase().replace(/_/g,"-")}(c);let h=rI(u);if(h)return h;const p=u.split("-")[0];if(h=rI(p),h)return h;if("en"===p)return Cb;throw new pe(701,!1)}function Lp(c){return mh(c)[Qt.PluralCase]}function rI(c){return c in ph||(ph[c]=Ln.ng&&Ln.ng.common&&Ln.ng.common.locales&&Ln.ng.common.locales[c]),ph[c]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const lo="en-US";let iC=lo;function pC(c,u,h,p,g){if(c=ne(c),Array.isArray(c))for(let b=0;b<c.length;b++)pC(c[b],u,h,p,g);else{const b=an(),C=je();let I=dp(c)?c:ne(c.provide),A=tR(c);const P=Oi(),U=1048575&P.providerIndexes,Y=P.directiveStart,he=P.providerIndexes>>20;if(dp(c)||!c.multi){const Ie=new qo(A,g,bp),Ke=AI(I,u,g?U:U+he,Y);-1===Ke?(_a(kd(P,C),b,I),II(b,c,u.length),u.push(I),P.directiveStart++,P.directiveEnd++,g&&(P.providerIndexes+=1048576),h.push(Ie),C.push(Ie)):(h[Ke]=Ie,C[Ke]=Ie)}else{const Ie=AI(I,u,U+he,Y),Ke=AI(I,u,U,U+he),wt=Ke>=0&&h[Ke];if(g&&!wt||!g&&!(Ie>=0&&h[Ie])){_a(kd(P,C),b,I);const Nt=function S3(c,u,h,p,g){const b=new qo(c,h,bp);return b.multi=[],b.index=u,b.componentProviders=0,SI(b,g,p&&!h),b}(g?I3:SP,h.length,g,p,A);!g&&wt&&(h[Ke].providerFactory=Nt),II(b,c,u.length,0),u.push(I),P.directiveStart++,P.directiveEnd++,g&&(P.providerIndexes+=1048576),h.push(Nt),C.push(Nt)}else II(b,c,Ie>-1?Ie:Ke,SI(h[g?Ke:Ie],A,!g&&p));!g&&p&&wt&&h[Ke].componentProviders++}}}function II(c,u,h,p){const g=dp(u),b=function QU(c){return!!c.useClass}(u);if(g||b){const A=(b?ne(u.useClass):u).prototype.ngOnDestroy;if(A){const P=c.destroyHooks||(c.destroyHooks=[]);if(!g&&u.multi){const U=P.indexOf(h);-1===U?P.push(h,[p,A]):P[U+1].push(p,A)}else P.push(h,A)}}}function SI(c,u,h){return h&&c.componentProviders++,c.multi.push(u)-1}function AI(c,u,h,p){for(let g=h;g<p;g++)if(u[g]===c)return g;return-1}function SP(c,u,h,p){return mC(this.multi,[])}function I3(c,u,h,p){const g=this.multi;let b;if(this.providerFactory){const C=this.providerFactory.componentProviders,I=hi(h,h[yt],this.providerFactory.index,p);b=I.slice(0,C),mC(g,b);for(let A=C;A<I.length;A++)b.push(I[A])}else b=[],mC(g,b);return b}function mC(c,u){for(let h=0;h<c.length;h++)u.push((0,c[h])());return u}function MI(c,u=[]){return h=>{h.providersResolver=(p,g)=>function T3(c,u,h){const p=an();if(p.firstCreatePass){const g=ys(c);pC(h,p.data,p.blueprint,g,!0),pC(u,p.data,p.blueprint,g,!1)}}(p,g?g(c):c,u)}}class d_{}class kI{}function A3(c,u){return new AP(c,u??null)}class AP extends d_{constructor(u,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jl(this);const p=Ri(u);this._bootstrapComponents=oo(p.bootstrap),this._r3Injector=Xy(u,h,[{provide:d_,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],Q(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class RI extends kI{constructor(u){super(),this.moduleType=u}create(u){return new AP(this.moduleType,u)}}class MP extends d_{constructor(u,h,p){super(),this.componentFactoryResolver=new jl(this),this.instance=null;const g=new eR([...u,{provide:d_,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],h||$0(),p,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function h_(c,u,h=null){return new MP(c,u,h).injector}let PI=(()=>{class c{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const p=Kk(0,h.type),g=p.length>0?h_([p],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,g)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return c.\u0275prov=ft({token:c,providedIn:"environment",factory:()=>new c(Tn(hp))}),c})();function OI(c){c.getStandaloneInjector=u=>u.get(PI).getOrCreateStandaloneInjector(c)}function HI(c,u,h){const p=kr()+c,g=je();return g[p]===gn?Gl(g,p,h?u.call(h):u()):function Sp(c,u){return c[u]}(g,p)}function OP(c,u,h,p){return function jI(c,u,h,p,g,b){const C=u+h;return $s(c,C,g)?Gl(c,C+1,b?p.call(b,g):p(g)):f_(c,C+1)}(je(),kr(),c,u,h,p)}function NP(c,u,h,p,g){return GI(je(),kr(),c,u,h,p,g)}function f_(c,u){const h=c[u];return h===gn?void 0:h}function GI(c,u,h,p,g,b,C){const I=u+h;return oh(c,I,g,b)?Gl(c,I+2,C?p.call(C,g,b):p(g,b)):f_(c,I+2)}function BP(c,u){const h=an();let p;const g=c+Jn;h.firstCreatePass?(p=function B3(c,u){if(u)for(let h=u.length-1;h>=0;h--){const p=u[h];if(c===p.name)return p}}(u,h.pipeRegistry),h.data[g]=p,p.onDestroy&&(h.destroyHooks??(h.destroyHooks=[])).push(g,p.onDestroy)):p=h.data[g];const b=p.factory||(p.factory=Go(p.type)),C=ki(bp);try{const I=bc(!1),A=b();return bc(I),function Lg(c,u,h,p){h>=c.data.length&&(c.data[h]=null,c.blueprint[h]=null),u[h]=p}(h,je(),g,A),A}finally{ki(C)}}function UP(c,u,h,p){const g=c+Jn,b=je(),C=ns(b,g);return function Sb(c,u){return c[yt].data[u].pure}(b,g)?GI(b,kr(),u,C.transform,h,p,C):C.transform(h,p)}function qI(c){return u=>{setTimeout(c,void 0,u)}}const jc=class G3 extends a.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,p){let g=u,b=h||(()=>null),C=p;if(u&&"object"==typeof u){const A=u;g=A.next?.bind(A),b=A.error?.bind(A),C=A.complete?.bind(A)}this.__isAsync&&(b=qI(b),g&&(g=qI(g)),C&&(C=qI(C)));const I=super.subscribe({next:g,error:b,complete:C});return u instanceof L.w0&&u.add(I),I}};function $3(){return this._results[Symbol.iterator]()}class yC{get changes(){return this._changes||(this._changes=new jc)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=yC.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=$3)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const p=this;p.dirty=!1;const g=function Ms(c){return c.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function Vd(c,u,h){if(c.length!==u.length)return!1;for(let p=0;p<c.length;p++){let g=c[p],b=u[p];if(h&&(g=h(g),b=h(b)),b!==g)return!1}return!0}(p._results,g,h))&&(p._results=g,p.length=g.length,p.last=g[this.length-1],p.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ab=(()=>{class c{}return c.__NG_ELEMENT_ID__=q3,c})();const W3=Ab,HP=class extends W3{constructor(u,h,p){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=p}createEmbeddedView(u,h){const p=this._declarationTContainer.tView,g=Cg(this._declarationLView,p,u,16,null,p.declTNode,null,null,null,null,h||null);g[za]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[As];return null!==C&&(g[As]=C.createEmbeddedView(p)),tb(p,g,u),new rh(g)}};function q3(){return bC(Oi(),je())}function bC(c,u){return 4&c.type?new HP(u,c,fp(c,u)):null}let vC=(()=>{class c{}return c.__NG_ELEMENT_ID__=Y3,c})();function Y3(){return GP(Oi(),je())}const Z3=vC,zP=class extends Z3{constructor(u,h,p){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=p}get element(){return fp(this._hostTNode,this._hostLView)}get injector(){return new Nl(this._hostTNode,this._hostLView)}get parentInjector(){const u=Fi(this._hostTNode,this._hostLView);if(Qa(u)){const h=yc(u,this._hostLView),p=Pl(u);return new Nl(h[yt].data[p+8],h)}return new Nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=jP(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-Ar}createEmbeddedView(u,h,p){let g,b;"number"==typeof p?g=p:null!=p&&(g=p.index,b=p.injector);const C=u.createEmbeddedView(h||{},b);return this.insert(C,g),C}createComponent(u,h,p,g,b){const C=u&&!function Du(c){return"function"==typeof c}(u);let I;if(C)I=h;else{const Y=h||{};I=Y.index,p=Y.injector,g=Y.projectableNodes,b=Y.environmentInjector||Y.ngModuleRef}const A=C?u:new Vc(Vt(u)),P=p||this.parentInjector;if(!b&&null==A.ngModule){const he=(C?P:this.parentInjector).get(hp,null);he&&(b=he)}const U=A.create(P,g,void 0,b);return this.insert(U.hostView,I),U}insert(u,h){const p=u._lView,g=p[yt];if(function vf(c){return io(c[ce])}(p)){const U=this.indexOf(u);if(-1!==U)this.detach(U);else{const Y=p[ce],he=new zP(Y,Y[Dt],Y[ce]);he.detach(he.indexOf(u))}}const b=this._adjustIndex(h),C=this._lContainer;!function y(c,u,h,p){const g=Ar+p,b=h.length;p>0&&(h[g-1][qe]=u),p<b-Ar?(u[qe]=h[g],Bd(h,Ar+p,u)):(h.push(u),u[qe]=null),u[ce]=h;const C=u[za];null!==C&&h!==C&&function v(c,u){const h=c[Ga];u[Gi]!==u[ce][ce][Gi]&&(c[sc]=!0),null===h?c[Ga]=[u]:h.push(u)}(C,u);const I=u[As];null!==I&&I.insertView(c),u[V]|=64}(g,p,C,b);const I=og(b,C),A=p[Kt],P=Ko(A,C[Cl]);return null!==P&&function ng(c,u,h,p,g,b){p[ji]=g,p[Dt]=u,cp(c,p,h,1,g,b)}(g,C[Dt],A,p,P,I),u.attachToViewContainerRef(),Bd(YI(C),b,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=jP(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),p=N(this._lContainer,h);p&&(Cc(YI(this._lContainer),h),H(p[yt],p))}detach(u){const h=this._adjustIndex(u,-1),p=N(this._lContainer,h);return p&&null!=Cc(YI(this._lContainer),h)?new rh(p):null}_adjustIndex(u,h=0){return u??this.length+h}};function jP(c){return c[ca]}function YI(c){return c[ca]||(c[ca]=[])}function GP(c,u){let h;const p=u[c.index];if(io(p))h=p;else{let g;if(8&c.type)g=Zi(p);else{const b=u[Kt];g=b.createComment("");const C=Mr(c,u);dn(b,Ko(b,C),g,function ig(c,u){return c.nextSibling(u)}(b,C),!1)}u[c.index]=h=xg(p,u,g,c),ib(u,h)}return new zP(h,c,u)}class ZI{constructor(u){this.queryList=u,this.matches=null}clone(){return new ZI(this.queryList)}setDirty(){this.queryList.setDirty()}}class KI{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const p=null!==u.contentQueries?u.contentQueries[0]:h.length,g=[];for(let b=0;b<p;b++){const C=h.getByIndex(b);g.push(this.queries[C.indexInDeclarationView].clone())}return new KI(g)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==KP(u,h).matches&&this.queries[h].setDirty()}}class p_{constructor(u,h,p=null){this.predicate=u,this.flags=h,this.read=p}}class QI{constructor(u=[]){this.queries=u}elementStart(u,h){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let p=0;p<this.length;p++){const g=null!==h?h.length:0,b=this.getByIndex(p).embeddedTView(u,g);b&&(b.indexInDeclarationView=p,null!==h?h.push(b):h=[b])}return null!==h?new QI(h):null}template(u,h){for(let p=0;p<this.queries.length;p++)this.queries[p].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class XI{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new XI(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let p=u.parent;for(;null!==p&&8&p.type&&p.index!==h;)p=p.parent;return h===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const p=this.metadata.predicate;if(Array.isArray(p))for(let g=0;g<p.length;g++){const b=p[g];this.matchTNodeWithReadOption(u,h,K3(h,b)),this.matchTNodeWithReadOption(u,h,Ol(h,u,b,!1,!1))}else p===Ab?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,Ol(h,u,p,!1,!1))}matchTNodeWithReadOption(u,h,p){if(null!==p){const g=this.metadata.read;if(null!==g)if(g===mg||g===vC||g===Ab&&4&h.type)this.addMatch(h.index,-2);else{const b=Ol(h,u,g,!1,!1);null!==b&&this.addMatch(h.index,b)}else this.addMatch(h.index,p)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function K3(c,u){const h=c.localNames;if(null!==h)for(let p=0;p<h.length;p+=2)if(h[p]===u)return h[p+1];return null}function JI(c,u,h,p){return-1===h?function Q3(c,u){return 11&c.type?fp(c,u):4&c.type?bC(c,u):null}(u,c):-2===h?function X3(c,u,h){return h===mg?fp(u,c):h===Ab?bC(u,c):h===vC?GP(u,c):void 0}(c,u,p):hi(c,c[yt],h,u)}function Wu(c,u,h,p){const g=u[As].queries[p];if(null===g.matches){const b=c.data,C=h.matches,I=[];for(let A=0;A<C.length;A+=2){const P=C[A];I.push(P<0?null:JI(u,b[P],C[A+1],h.metadata.read))}g.matches=I}return g.matches}function eS(c,u,h,p){const g=c.queries.getByIndex(h),b=g.matches;if(null!==b){const C=Wu(c,u,g,h);for(let I=0;I<b.length;I+=2){const A=b[I];if(A>0)p.push(C[I/2]);else{const P=b[I+1],U=u[-A];for(let Y=Ar;Y<U.length;Y++){const he=U[Y];he[za]===he[ce]&&eS(he[yt],he,P,p)}if(null!==U[Ga]){const Y=U[Ga];for(let he=0;he<Y.length;he++){const Ie=Y[he];eS(Ie[yt],Ie,P,p)}}}}}return p}function tS(c){const u=je(),h=an(),p=fc();Sf(p+1);const g=KP(h,p);if(c.dirty&&function uc(c){return 4==(4&c[V])}(u)===(2==(2&g.metadata.flags))){if(null===g.matches)c.reset([]);else{const b=g.crossesNgTemplate?eS(h,u,p,[]):Wu(h,u,g,p);c.reset(b,GD),c.notifyOnChanges()}return!0}return!1}function $P(c,u,h){const p=an();p.firstCreatePass&&(ZP(p,new p_(c,u,h),-1),2==(2&u)&&(p.staticViewQueries=!0)),YP(p,je(),u)}function WP(c,u,h,p){const g=an();if(g.firstCreatePass){const b=Oi();ZP(g,new p_(u,h,p),b.index),function eH(c,u){const h=c.contentQueries||(c.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(c.queries.length-1,u)}(g,c),2==(2&h)&&(g.staticContentQueries=!0)}YP(g,je(),h)}function qP(){return function J3(c,u){return c[As].queries[u].queryList}(je(),fc())}function YP(c,u,h){const p=new yC(4==(4&h));dT(c,u,p,p.destroy),null===u[As]&&(u[As]=new KI),u[As].queries.push(new ZI(p))}function ZP(c,u,h){null===c.queries&&(c.queries=new QI),c.queries.track(new XI(u,h))}function KP(c,u){return c.queries.getByIndex(u)}function wC(c,u){return bC(c,u)}function CC(c){return!!Ri(c)}function xn(...c){}const dS=new Pn("Application Initializer");let Yl=(()=>{class c{constructor(h){this.appInits=h,this.resolve=xn,this.reject=xn,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,g)=>{this.resolve=p,this.reject=g})}runInitializers(){if(this.initialized)return;const h=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const b=this.appInits[g]();if(Mw(b))h.push(b);else if(ST(b)){const C=new Promise((I,A)=>{b.subscribe({complete:I,error:A})});h.push(C)}}Promise.all(h).then(()=>{p()}).catch(g=>{this.reject(g)}),0===h.length&&p(),this.initialized=!0}}return c.\u0275fac=function(h){return new(h||c)(Tn(dS,8))},c.\u0275prov=ft({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const hS=new Pn("AppId",{providedIn:"root",factory:function zp(){return`${AC()}${AC()}${AC()}`}});function AC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const y_=new Pn("Platform Initializer"),b_=new Pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vb=new Pn("AnimationModuleType");let uO=(()=>{class c{log(h){console.log(h)}warn(h){console.warn(h)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=ft({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const Eh=new Pn("LocaleId",{providedIn:"root",factory:()=>Ei(Eh,At.Optional|At.SkipSelf)||function MC(){return typeof $localize<"u"&&$localize.locale||lo}()}),pS=new Pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hO{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let Bb=(()=>{class c{compileModuleSync(h){return new RI(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const p=this.compileModuleSync(h),b=oo(Ri(h).declarations).reduce((C,I)=>{const A=Vt(I);return A&&C.push(new Vc(A)),C},[]);return new hO(p,b)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=ft({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const mO=(()=>Promise.resolve(0))();function Gc(c){typeof Zone>"u"?mO.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class ta{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jc(!1),this.onMicrotaskEmpty=new jc(!1),this.onStable=new jc(!1),this.onError=new jc(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!p&&h,g.shouldCoalesceRunChangeDetection=p,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function kC(){let c=Ln.requestAnimationFrame,u=Ln.cancelAnimationFrame;if(typeof Zone<"u"&&c&&u){const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h);const p=u[Zone.__symbol__("OriginalDelegate")];p&&(u=p)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function w_(c){const u=()=>{!function v_(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(Ln,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Ku(c),c.isCheckStableRunning=!0,RC(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Ku(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,p,g,b,C,I)=>{try{return PC(c),h.invokeTask(g,b,C,I)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||c.shouldCoalesceRunChangeDetection)&&u(),OC(c)}},onInvoke:(h,p,g,b,C,I,A)=>{try{return PC(c),h.invoke(g,b,C,I,A)}finally{c.shouldCoalesceRunChangeDetection&&u(),OC(c)}},onHasTask:(h,p,g,b)=>{h.hasTask(g,b),p===g&&("microTask"==b.change?(c._hasPendingMicrotasks=b.microTask,Ku(c),RC(c)):"macroTask"==b.change&&(c.hasPendingMacrotasks=b.macroTask))},onHandleError:(h,p,g,b)=>(h.handleError(g,b),c.runOutsideAngular(()=>c.onError.emit(b)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ta.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(ta.isInAngularZone())throw new pe(909,!1)}run(u,h,p){return this._inner.run(u,h,p)}runTask(u,h,p,g){const b=this._inner,C=b.scheduleEventTask("NgZoneEvent: "+g,u,yS,xn,xn);try{return b.runTask(C,h,p)}finally{b.cancelTask(C)}}runGuarded(u,h,p){return this._inner.runGuarded(u,h,p)}runOutsideAngular(u){return this._outer.run(u)}}const yS={};function RC(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Ku(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function PC(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function OC(c){c._nesting--,RC(c)}class bS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jc,this.onMicrotaskEmpty=new jc,this.onStable=new jc,this.onError=new jc}run(u,h,p){return u.apply(h,p)}runGuarded(u,h,p){return u.apply(h,p)}runOutsideAngular(u){return u()}runTask(u,h,p,g){return u.apply(h,p)}}const xh=new Pn(""),vS=new Pn("");let C_,gO=(()=>{class c{constructor(h,p,g){this._ngZone=h,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,C_||(function _O(c){C_=c}(g),g.addToWindow(p)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ta.assertNotInAngularZone(),Gc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gc(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(h)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,p,g){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==b),h(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:h,timeoutId:b,updateCb:g})}whenStable(h,p,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,p,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,p,g){return[]}}return c.\u0275fac=function(h){return new(h||c)(Tn(ta),Tn(NC),Tn(vS))},c.\u0275prov=ft({token:c,factory:c.\u0275fac}),c})(),NC=(()=>{class c{constructor(){this._applications=new Map}registerApplication(h,p){this._applications.set(h,p)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,p=!0){return C_?.findTestabilityInTree(this,h,p)??null}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=ft({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const Mo=!1;let Qu=null;const Ub=new Pn("AllowMultipleToken"),FC=new Pn("PlatformDestroyListeners"),LC=new Pn("appBootstrapListener");class VC{constructor(u,h){this.name=u,this.token=h}}function ES(c,u,h=[]){const p=`Platform: ${u}`,g=new Pn(p);return(b=[])=>{let C=BC();if(!C||C.injector.get(Ub,!1)){const I=[...h,...b,{provide:g,useValue:!0}];c?c(I):function Dh(c){if(Qu&&!Qu.get(Ub,!1))throw new pe(400,!1);Qu=c;const u=c.get(DS);(function E_(c){const u=c.get(y_,null);u&&u.forEach(h=>h())})(c)}(function xS(c=[],u){return Jd.create({name:u,providers:[{provide:BD,useValue:"platform"},{provide:FC,useValue:new Set([()=>Qu=null])},...c]})}(I,p))}return function yO(c){const u=BC();if(!u)throw new pe(401,!1);return u}()}}function BC(){return Qu?.get(DS)??null}let DS=(()=>{class c{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,p){const g=function IS(c,u){let h;return h="noop"===c?new bS:("zone.js"===c?void 0:c)||new ta(u),h}(p?.ngZone,function TS(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!c||!c.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!c||!c.ngZoneRunCoalescing)||!1}}(p)),b=[{provide:ta,useValue:g}];return g.run(()=>{const C=Jd.create({providers:b,parent:this.injector,name:h.moduleType.name}),I=h.create(C),A=I.injector.get(Fc,null);if(!A)throw new pe(402,!1);return g.runOutsideAngular(()=>{const P=g.onError.subscribe({next:U=>{A.handleError(U)}});I.onDestroy(()=>{x_(this._modules,I),P.unsubscribe()})}),function SS(c,u,h){try{const p=h();return Mw(p)?p.catch(g=>{throw u.runOutsideAngular(()=>c.handleError(g)),g}):p}catch(p){throw u.runOutsideAngular(()=>c.handleError(p)),p}}(A,g,()=>{const P=I.injector.get(Yl);return P.runInitializers(),P.donePromise.then(()=>(function oI(c){ct(c,"Expected localeId to be defined"),"string"==typeof c&&(iC=c.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Eh,lo)||lo),this._moduleDoBootstrap(I),I))})})}bootstrapModule(h,p=[]){const g=AS({},p);return function wS(c,u,h){const p=new RI(h);return Promise.resolve(p)}(0,0,h).then(b=>this.bootstrapModuleFactory(b,g))}_moduleDoBootstrap(h){const p=h.injector.get(jb);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(g=>p.bootstrap(g));else{if(!h.instance.ngDoBootstrap)throw new pe(-403,!1);h.instance.ngDoBootstrap(p)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const h=this._injector.get(FC,null);h&&(h.forEach(p=>p()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(h){return new(h||c)(Tn(Jd))},c.\u0275prov=ft({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function AS(c,u){return Array.isArray(u)?u.reduce(AS,c):{...c,...u}}let jb=(()=>{class c{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(h,p,g){this._zone=h,this._injector=p,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new B.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new B.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ta.assertNotInAngularZone(),Gc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{ta.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),P.unsubscribe()}});this.isStable=(0,z.T)(b,C.pipe((0,G.B)()))}bootstrap(h,p){const g=h instanceof nR;if(!this._injector.get(Yl).done){!g&&Yi(h);throw new pe(405,Mo)}let C;C=g?h:this._injector.get(Xd).resolveComponentFactory(h),this.componentTypes.push(C.componentType);const I=function Zl(c){return c.isBoundToModule}(C)?void 0:this._injector.get(d_),P=C.create(Jd.NULL,[],p||C.selector,I),U=P.location.nativeElement,Y=P.injector.get(xh,null);return Y?.registerApplication(U),P.onDestroy(()=>{this.detachView(P.hostView),x_(this.components,P),Y?.unregisterApplication(U)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const p=h;this._views.push(p),p.attachToAppRef(this)}detachView(h){const p=h;x_(this._views,p),p.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const p=this._injector.get(LC,[]);p.push(...this._bootstrapListeners),p.forEach(g=>g(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>x_(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new pe(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return c.\u0275fac=function(h){return new(h||c)(Tn(ta),Tn(hp),Tn(Fc))},c.\u0275prov=ft({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function x_(c,u){const h=c.indexOf(u);h>-1&&c.splice(h,1)}function vO(){return!1}let UC=(()=>{class c{}return c.__NG_ELEMENT_ID__=$c,c})();function $c(c){return function jp(c,u,h){if(ru(c)&&!h){const p=_r(c.index,u);return new rh(p,p)}return 47&c.type?new rh(u[Gi],u):null}(Oi(),je(),16==(16&c))}class $p{constructor(){}supports(u){return sh(u)}create(u){return new $C(u)}}const Wb=(c,u)=>u;class $C{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Wb}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,p=this._removalsHead,g=0,b=null;for(;h||p;){const C=!p||h&&h.currentIndex<WC(p,g,b)?h:p,I=WC(C,g,b),A=C.currentIndex;if(C===p)g--,p=p._nextRemoved;else if(h=h._next,null==C.previousIndex)g++;else{b||(b=[]);const P=I-g,U=A-g;if(P!=U){for(let he=0;he<P;he++){const Ie=he<b.length?b[he]:b[he]=0,Ke=Ie+he;U<=Ke&&Ke<P&&(b[he]=Ie+1)}b[C.previousIndex]=U-P}}I!==A&&u(C,I,A)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!sh(u))throw new pe(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let g,b,C,h=this._itHead,p=!1;if(Array.isArray(u)){this.length=u.length;for(let I=0;I<this.length;I++)b=u[I],C=this._trackByFn(I,b),null!==h&&Object.is(h.trackById,C)?(p&&(h=this._verifyReinsertion(h,b,C,I)),Object.is(h.item,b)||this._addIdentityChange(h,b)):(h=this._mismatch(h,b,C,I),p=!0),h=h._next}else g=0,function Iw(c,u){if(Array.isArray(c))for(let h=0;h<c.length;h++)u(c[h]);else{const h=c[Symbol.iterator]();let p;for(;!(p=h.next()).done;)u(p.value)}}(u,I=>{C=this._trackByFn(g,I),null!==h&&Object.is(h.trackById,C)?(p&&(h=this._verifyReinsertion(h,I,C,g)),Object.is(h.item,I)||this._addIdentityChange(h,I)):(h=this._mismatch(h,I,C,g),p=!0),h=h._next,g++}),this.length=g;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,p,g){let b;return null===u?b=this._itTail:(b=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,b,g)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(p,g))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,b,g)):u=this._addAfter(new MO(h,p),b,g),u}_verifyReinsertion(u,h,p,g){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?u=this._reinsertAfter(b,u._prev,g):u.currentIndex!=g&&(u.currentIndex=g,this._addToMoves(u,g)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const g=u._prevRemoved,b=u._nextRemoved;return null===g?this._removalsHead=b:g._nextRemoved=b,null===b?this._removalsTail=g:b._prevRemoved=g,this._insertAfter(u,h,p),this._addToMoves(u,p),u}_moveAfter(u,h,p){return this._unlink(u),this._insertAfter(u,h,p),this._addToMoves(u,p),u}_addAfter(u,h,p){return this._insertAfter(u,h,p),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,p){const g=null===h?this._itHead:h._next;return u._next=g,u._prev=h,null===g?this._itTail=u:g._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new qb),this._linkedRecords.put(u),u.currentIndex=p,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,p=u._next;return null===h?this._itHead=p:h._next=p,null===p?this._itTail=h:p._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qb),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class MO{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kO{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===h||h<=p.currentIndex)&&Object.is(p.trackById,u))return p;return null}remove(u){const h=u._prevDup,p=u._nextDup;return null===h?this._head=p:h._nextDup=p,null===p?this._tail=h:p._prevDup=h,null===this._head}}class qb{constructor(){this.map=new Map}put(u){const h=u.trackById;let p=this.map.get(h);p||(p=new kO,this.map.set(h,p)),p.add(u)}get(u,h){const g=this.map.get(u);return g?g.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WC(c,u,h){const p=c.previousIndex;if(null===p)return p;let g=0;return h&&p<h.length&&(g=h[p]),p+u+g}class RO{constructor(){}supports(u){return u instanceof Map||Pg(u)}create(){return new pH}}class pH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||Pg(u)))throw new pe(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(p,g)=>{if(h&&h.key===g)this._maybeAddToChanges(h,p),this._appendAfter=h,h=h._next;else{const b=this._getOrCreateRecordForKey(g,p);h=this._insertBeforeOrAppend(h,b)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let p=h;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const p=u._prev;return h._next=u,h._prev=p,u._prev=h,p&&(p._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const g=this._records.get(u);this._maybeAddToChanges(g,h);const b=g._prev,C=g._next;return b&&(b._next=C),C&&(C._prev=b),g._next=null,g._prev=null,g}const p=new mH(u);return this._records.set(u,p),p.currentValue=h,this._addToAdditions(p),p}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(p=>h(u[p],p))}}class mH{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PO(){return new I_([new $p])}let I_=(()=>{class c{constructor(h){this.factories=h}static create(h,p){if(null!=p){const g=p.factories.slice();h=h.concat(g)}return new c(h)}static extend(h){return{provide:c,useFactory:p=>c.create(h,p||PO()),deps:[[c,new Ht,new ni]]}}find(h){const p=this.factories.find(g=>g.supports(h));if(null!=p)return p;throw new pe(901,!1)}}return c.\u0275prov=ft({token:c,providedIn:"root",factory:PO}),c})();function RS(){return new qC([new RO])}let qC=(()=>{class c{constructor(h){this.factories=h}static create(h,p){if(p){const g=p.factories.slice();h=h.concat(g)}return new c(h)}static extend(h){return{provide:c,useFactory:p=>c.create(h,p||RS()),deps:[[c,new Ht,new ni]]}}find(h){const p=this.factories.find(g=>g.supports(h));if(p)return p;throw new pe(901,!1)}}return c.\u0275prov=ft({token:c,providedIn:"root",factory:RS}),c})();const NO=ES(null,"core",[]);let FO=(()=>{class c{constructor(h){}}return c.\u0275fac=function(h){return new(h||c)(Tn(jb))},c.\u0275mod=Ce({type:c}),c.\u0275inj=En({}),c})();function PS(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}},3942:(tt,ee,F)=>{"use strict";F.d(ee,{Z:()=>Xe});var a=F(2090),L=F(4859),B=F(6881),z=F(1877);class G{constructor(pe,xe){this._delegate=pe,this.firebase=xe,(0,B._addComponent)(pe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(pe,xe=B._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(pe);return!Re.isInitialized()&&"EXPLICIT"===(null===(ke=Re.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:xe})}_removeServiceInstance(pe,xe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(xe)}_addComponent(pe){(0,B._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,B._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function me(){const mt=function Q(mt){const pe={},xe={__esModule:!0,initializeApp:function Ge(Oe,se={}){const le=B.initializeApp(Oe,se);if((0,a.r3)(pe,le.name))return pe[le.name];const ve=new mt(le,xe);return pe[le.name]=ve,ve},app:Re,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Se(Oe){const se=Oe.name,le=se.replace("-compat","");if(B._registerComponent(Oe)&&"PUBLIC"===Oe.type){const ve=(be=Re())=>{if("function"!=typeof be[le])throw Z.create("invalid-app-argument",{appName:se});return be[le]()};void 0!==Oe.serviceProps&&(0,a.ZB)(ve,Oe.serviceProps),xe[le]=ve,mt.prototype[le]=function(...be){return this._getService.bind(this,se).apply(this,Oe.multipleInstances?be:[])}}return"PUBLIC"===Oe.type?xe[le]:null},removeApp:function ke(Oe){delete pe[Oe]},useAsService:function Be(Oe,se){return"serverAuth"===se?null:se},modularAPIs:B}};function Re(Oe){if(!(0,a.r3)(pe,Oe=Oe||B._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:Oe});return pe[Oe]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function Ne(){return Object.keys(pe).map(Oe=>pe[Oe])}}),Re.App=mt,xe}(G);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function pe(xe){(0,a.ZB)(mt,xe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),mt}(),J=new z.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=K;!function Me(mt){(0,B.registerVersion)("@firebase/app-compat","0.2.12",mt)}()},6881:(tt,ee,F)=>{"use strict";F.r(ee),F.d(ee,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>Ss,_DEFAULT_ENTRY_NAME:()=>ur,_addComponent:()=>Pt,_addOrOverwriteComponent:()=>nn,_apps:()=>Ln,_clearComponents:()=>hr,_components:()=>mn,_getProvider:()=>xr,_registerComponent:()=>dr,_removeServiceInstance:()=>ti,deleteApp:()=>Dr,getApp:()=>es,getApps:()=>Tn,initializeApp:()=>_n,onLog:()=>ui,registerVersion:()=>xi,setLogLevel:()=>Tr});var a=F(5861),L=F(4859),B=F(1877),z=F(2090);const G=(ze,Ce)=>Ce.some(et=>ze instanceof et);let j,Z;const K=new WeakMap,J=new WeakMap,ne=new WeakMap,Pe=new WeakMap,Me=new WeakMap;let pe={get(ze,Ce,et){if(ze instanceof IDBTransaction){if("done"===Ce)return J.get(ze);if("objectStoreNames"===Ce)return ze.objectStoreNames||ne.get(ze);if("store"===Ce)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return Ge(ze[Ce])},set:(ze,Ce,et)=>(ze[Ce]=et,!0),has:(ze,Ce)=>ze instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in ze};function Re(ze){return"function"==typeof ze?function ke(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...Ce){return ze.apply(Ne(this),Ce),Ge(K.get(this))}:function(...Ce){return Ge(ze.apply(Ne(this),Ce))}:function(Ce,...et){const Mt=ze.call(Ne(this),Ce,...et);return ne.set(Mt,Ce.sort?Ce.sort():[Ce]),Ge(Mt)}}(ze):(ze instanceof IDBTransaction&&function mt(ze){if(J.has(ze))return;const Ce=new Promise((et,Mt)=>{const Yt=()=>{ze.removeEventListener("complete",un),ze.removeEventListener("error",Vt),ze.removeEventListener("abort",Vt)},un=()=>{et(),Yt()},Vt=()=>{Mt(ze.error||new DOMException("AbortError","AbortError")),Yt()};ze.addEventListener("complete",un),ze.addEventListener("error",Vt),ze.addEventListener("abort",Vt)});J.set(ze,Ce)}(ze),G(ze,function Q(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,pe):ze)}function Ge(ze){if(ze instanceof IDBRequest)return function Xe(ze){const Ce=new Promise((et,Mt)=>{const Yt=()=>{ze.removeEventListener("success",un),ze.removeEventListener("error",Vt)},un=()=>{et(Ge(ze.result)),Yt()},Vt=()=>{Mt(ze.error),Yt()};ze.addEventListener("success",un),ze.addEventListener("error",Vt)});return Ce.then(et=>{et instanceof IDBCursor&&K.set(et,ze)}).catch(()=>{}),Me.set(Ce,ze),Ce}(ze);if(Pe.has(ze))return Pe.get(ze);const Ce=Re(ze);return Ce!==ze&&(Pe.set(ze,Ce),Me.set(Ce,ze)),Ce}const Ne=ze=>Me.get(ze),Oe=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],le=new Map;function ve(ze,Ce){if(!(ze instanceof IDBDatabase)||Ce in ze||"string"!=typeof Ce)return;if(le.get(Ce))return le.get(Ce);const et=Ce.replace(/FromIndex$/,""),Mt=Ce!==et,Yt=se.includes(et);if(!(et in(Mt?IDBIndex:IDBObjectStore).prototype)||!Yt&&!Oe.includes(et))return;const un=function(){var Vt=(0,a.Z)(function*(Fn,...vn){const Yi=this.transaction(Fn,Yt?"readwrite":"readonly");let Ri=Yi.store;return Mt&&(Ri=Ri.index(vn.shift())),(yield Promise.all([Ri[et](...vn),Yt&&Yi.done]))[0]});return function(vn){return Vt.apply(this,arguments)}}();return le.set(Ce,un),un}!function xe(ze){pe=ze(pe)}(ze=>({...ze,get:(Ce,et,Mt)=>ve(Ce,et)||ze.get(Ce,et,Mt),has:(Ce,et)=>!!ve(Ce,et)||ze.has(Ce,et)}));class be{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function De(ze){return"VERSION"===ze.getComponent()?.type}(et)){const Mt=et.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(et=>et).join(" ")}}const ue="@firebase/app",X="0.9.12",we=new B.Yd("@firebase/app"),ur="[DEFAULT]",Is={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ln=new Map,mn=new Map;function Pt(ze,Ce){try{ze.container.addComponent(Ce)}catch(et){we.debug(`Component ${Ce.name} failed to register with FirebaseApp ${ze.name}`,et)}}function nn(ze,Ce){ze.container.addOrOverwriteComponent(Ce)}function dr(ze){const Ce=ze.name;if(mn.has(Ce))return we.debug(`There were multiple attempts to register component ${Ce}.`),!1;mn.set(Ce,ze);for(const et of Ln.values())Pt(et,ze);return!0}function xr(ze,Ce){const et=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),ze.container.getProvider(Ce)}function ti(ze,Ce,et=ur){xr(ze,Ce).clearInstance(et)}function hr(){mn.clear()}const fr=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Ce,et,Mt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Ss="9.22.2";function _n(ze,Ce={}){let et=ze;"object"!=typeof Ce&&(Ce={name:Ce});const Mt=Object.assign({name:ur,automaticDataCollectionEnabled:!1},Ce),Yt=Mt.name;if("string"!=typeof Yt||!Yt)throw fr.create("bad-app-name",{appName:String(Yt)});if(et||(et=(0,z.aH)()),!et)throw fr.create("no-options");const un=Ln.get(Yt);if(un){if((0,z.vZ)(et,un.options)&&(0,z.vZ)(Mt,un.config))return un;throw fr.create("duplicate-app",{appName:Yt})}const Vt=new L.H0(Yt);for(const vn of mn.values())Vt.addComponent(vn);const Fn=new Wn(et,Mt,Vt);return Ln.set(Yt,Fn),Fn}function es(ze=ur){const Ce=Ln.get(ze);if(!Ce&&ze===ur&&(0,z.aH)())return _n();if(!Ce)throw fr.create("no-app",{appName:ze});return Ce}function Tn(){return Array.from(Ln.values())}function Dr(ze){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(ze){const Ce=ze.name;Ln.has(Ce)&&(Ln.delete(Ce),yield Promise.all(ze.container.getProviders().map(et=>et.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function xi(ze,Ce,et){var Mt;let Yt=null!==(Mt=Is[ze])&&void 0!==Mt?Mt:ze;et&&(Yt+=`-${et}`);const un=Yt.match(/\s|\//),Vt=Ce.match(/\s|\//);if(un||Vt){const Fn=[`Unable to register library "${Yt}" with version "${Ce}":`];return un&&Fn.push(`library name "${Yt}" contains illegal characters (whitespace or "/")`),un&&Vt&&Fn.push("and"),Vt&&Fn.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void we.warn(Fn.join(" "))}dr(new L.wA(`${Yt}-version`,()=>({library:Yt,version:Ce}),"VERSION"))}function ui(ze,Ce){if(null!==ze&&"function"!=typeof ze)throw fr.create("invalid-log-argument");(0,B.Am)(ze,Ce)}function Tr(ze){(0,B.Ub)(ze)}const qi="firebase-heartbeat-database",pr=1,oe="firebase-heartbeat-store";let te=null;function de(){return te||(te=function Se(ze,Ce,{blocked:et,upgrade:Mt,blocking:Yt,terminated:un}={}){const Vt=indexedDB.open(ze,Ce),Fn=Ge(Vt);return Mt&&Vt.addEventListener("upgradeneeded",vn=>{Mt(Ge(Vt.result),vn.oldVersion,vn.newVersion,Ge(Vt.transaction),vn)}),et&&Vt.addEventListener("blocked",vn=>et(vn.oldVersion,vn.newVersion,vn)),Fn.then(vn=>{un&&vn.addEventListener("close",()=>un()),Yt&&vn.addEventListener("versionchange",Yi=>Yt(Yi.oldVersion,Yi.newVersion,Yi))}).catch(()=>{}),Fn}(qi,pr,{upgrade:(ze,Ce)=>{0===Ce&&ze.createObjectStore(oe)}}).catch(ze=>{throw fr.create("idb-open",{originalErrorMessage:ze.message})})),te}function Te(){return(Te=(0,a.Z)(function*(ze){try{return yield(yield de()).transaction(oe).objectStore(oe).get(kn(ze))}catch(Ce){if(Ce instanceof z.ZR)we.warn(Ce.message);else{const et=fr.create("idb-get",{originalErrorMessage:Ce?.message});we.warn(et.message)}}})).apply(this,arguments)}function st(ze,Ce){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(ze,Ce){try{const Mt=(yield de()).transaction(oe,"readwrite");yield Mt.objectStore(oe).put(Ce,kn(ze)),yield Mt.done}catch(et){if(et instanceof z.ZR)we.warn(et.message);else{const Mt=fr.create("idb-set",{originalErrorMessage:et?.message});we.warn(Mt.message)}}})).apply(this,arguments)}function kn(ze){return`${ze.name}!${ze.options.appId}`}class Rn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new Ir(et),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ce=this;return(0,a.Z)(function*(){const Mt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yt=cn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Yt&&!Ce._heartbeatsCache.heartbeats.some(un=>un.date===Yt))return Ce._heartbeatsCache.heartbeats.push({date:Yt,agent:Mt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(un=>{const Vt=new Date(un.date).valueOf();return Date.now()-Vt<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,a.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const et=cn(),{heartbeatsToSend:Mt,unsentEntries:Yt}=function zi(ze,Ce=1024){const et=[];let Mt=ze.slice();for(const Yt of ze){const un=et.find(Vt=>Vt.agent===Yt.agent);if(un){if(un.dates.push(Yt.date),_s(et)>Ce){un.dates.pop();break}}else if(et.push({agent:Yt.agent,dates:[Yt.date]}),_s(et)>Ce){et.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:et,unsentEntries:Mt}}(Ce._heartbeatsCache.heartbeats),un=(0,z.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=et,Yt.length>0?(Ce._heartbeatsCache.heartbeats=Yt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),un})()}}function cn(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,a.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function We(ze){return Te.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var et=this;return(0,a.Z)(function*(){var Mt;if(yield et._canUseIndexedDBPromise){const un=yield et.read();return st(et.app,{lastSentHeartbeatDate:null!==(Mt=Ce.lastSentHeartbeatDate)&&void 0!==Mt?Mt:un.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var et=this;return(0,a.Z)(function*(){var Mt;if(yield et._canUseIndexedDBPromise){const un=yield et.read();return st(et.app,{lastSentHeartbeatDate:null!==(Mt=Ce.lastSentHeartbeatDate)&&void 0!==Mt?Mt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...Ce.heartbeats]})}})()}}function _s(ze){return(0,z.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function aa(ze){dr(new L.wA("platform-logger",Ce=>new be(Ce),"PRIVATE")),dr(new L.wA("heartbeat",Ce=>new Rn(Ce),"PRIVATE")),xi(ue,X,ze),xi(ue,X,"esm2017"),xi("fire-js","")}("")},4859:(tt,ee,F)=>{"use strict";F.d(ee,{H0:()=>Q,wA:()=>B});var a=F(5861),L=F(2090);class B{constructor(K,J,ne){this.name=K,this.instanceFactory=J,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const z="[DEFAULT]";class G{constructor(K,J){this.name=K,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const J=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(J)){const ne=new L.BH;if(this.instancesDeferred.set(J,ne),this.isInitialized(J)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:J});Pe&&ne.resolve(Pe)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(K){var J;const ne=this.normalizeInstanceIdentifier(K?.identifier),Pe=null!==(J=K?.optional)&&void 0!==J&&J;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Me){if(Pe)return null;throw Me}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Z(me){return"EAGER"===me.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[J,ne]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(J);try{const Me=this.getOrInitializeService({instanceIdentifier:Pe});ne.resolve(Me)}catch{}}}}clearInstance(K=z){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,a.Z)(function*(){const J=Array.from(K.instances.values());yield Promise.all([...J.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...J.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=z){return this.instances.has(K)}getOptions(K=z){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:J={}}=K,ne=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:ne,options:J});for(const[Me,Xe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Me)&&Xe.resolve(Pe);return Pe}onInit(K,J){var ne;const Pe=this.normalizeInstanceIdentifier(J),Me=null!==(ne=this.onInitCallbacks.get(Pe))&&void 0!==ne?ne:new Set;Me.add(K),this.onInitCallbacks.set(Pe,Me);const Xe=this.instances.get(Pe);return Xe&&K(Xe,Pe),()=>{Me.delete(K)}}invokeOnInitCallbacks(K,J){const ne=this.onInitCallbacks.get(J);if(ne)for(const Pe of ne)try{Pe(K,J)}catch{}}getOrInitializeService({instanceIdentifier:K,options:J={}}){let ne=this.instances.get(K);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(me=K,me===z?void 0:me),options:J}),this.instances.set(K,ne),this.instancesOptions.set(K,J),this.invokeOnInitCallbacks(ne,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ne)}catch{}var me;return ne||null}normalizeInstanceIdentifier(K=z){return this.component?this.component.multipleInstances?K:z:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const J=this.getProvider(K.name);if(J.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);J.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const J=new G(K,this);return this.providers.set(K,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,ee,F)=>{"use strict";F.d(ee,{Am:()=>me,Ub:()=>Q,Yd:()=>Z,in:()=>L});const a=[];var L=(()=>{return(K=L||(L={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",L;var K})();const B={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},z=L.INFO,G={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},j=(K,J,...ne)=>{if(J<K.logLevel)return;const Pe=(new Date).toISOString(),Me=G[J];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Me](`[${Pe}]  ${K.name}:`,...ne)};class Z{constructor(J){this.name=J,this._logLevel=z,this._logHandler=j,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in L))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?B[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...J),this._logHandler(this,L.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...J),this._logHandler(this,L.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,L.INFO,...J),this._logHandler(this,L.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,L.WARN,...J),this._logHandler(this,L.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...J),this._logHandler(this,L.ERROR,...J)}}function Q(K){a.forEach(J=>{J.setLogLevel(K)})}function me(K,J){for(const ne of a){let Pe=null;J&&J.level&&(Pe=B[J.level]),ne.userLogHandler=null===K?null:(Me,Xe,...mt)=>{const pe=mt.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");Xe>=(Pe??Me.logLevel)&&K({level:L[Xe].toLowerCase(),message:pe,args:mt,type:Me.name})}}}},259:(tt,ee,F)=>{"use strict";F.d(ee,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=F(6881);(0,a.registerVersion)("firebase","9.22.2","app")},9260:(tt,ee,F)=>{"use strict";F.d(ee,{Z:()=>a.Z});var a=F(3942);a.Z.registerVersion("firebase","9.22.2","app-compat")},5861:(tt,ee,F)=>{"use strict";function a(B,z,G,j,Z,Q,me){try{var K=B[Q](me),J=K.value}catch(ne){return void G(ne)}K.done?z(J):Promise.resolve(J).then(j,Z)}function L(B){return function(){var z=this,G=arguments;return new Promise(function(j,Z){var Q=B.apply(z,G);function me(J){a(Q,j,Z,me,K,"next",J)}function K(J){a(Q,j,Z,me,K,"throw",J)}me(void 0)})}}F.d(ee,{Z:()=>L})}},tt=>{tt(tt.s=4476)}]);